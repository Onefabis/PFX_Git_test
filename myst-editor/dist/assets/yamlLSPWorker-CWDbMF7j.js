var L8=Object.defineProperty;var j8=(Vr,fr,_o)=>fr in Vr?L8(Vr,fr,{enumerable:!0,configurable:!0,writable:!0,value:_o}):Vr[fr]=_o;var lr=(Vr,fr,_o)=>j8(Vr,typeof fr!="symbol"?fr+"":fr,_o);(function(){"use strict";var Vr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _o(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var bs={},Ds={},ac={},Fd={},Le={},vn={},ly;function Ta(){if(ly)return vn;ly=1,Object.defineProperty(vn,"__esModule",{value:!0}),vn.stringArray=vn.array=vn.func=vn.error=vn.number=vn.string=vn.boolean=void 0;function e(u){return u===!0||u===!1}vn.boolean=e;function t(u){return typeof u=="string"||u instanceof String}vn.string=t;function n(u){return typeof u=="number"||u instanceof Number}vn.number=n;function r(u){return u instanceof Error}vn.error=r;function i(u){return typeof u=="function"}vn.func=i;function s(u){return Array.isArray(u)}vn.array=s;function o(u){return s(u)&&u.every(c=>t(c))}return vn.stringArray=o,vn}var fy;function dy(){if(fy)return Le;fy=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.Message=Le.NotificationType9=Le.NotificationType8=Le.NotificationType7=Le.NotificationType6=Le.NotificationType5=Le.NotificationType4=Le.NotificationType3=Le.NotificationType2=Le.NotificationType1=Le.NotificationType0=Le.NotificationType=Le.RequestType9=Le.RequestType8=Le.RequestType7=Le.RequestType6=Le.RequestType5=Le.RequestType4=Le.RequestType3=Le.RequestType2=Le.RequestType1=Le.RequestType=Le.RequestType0=Le.AbstractMessageSignature=Le.ParameterStructures=Le.ResponseError=Le.ErrorCodes=void 0;const e=Ta();var t;(function(j){j.ParseError=-32700,j.InvalidRequest=-32600,j.MethodNotFound=-32601,j.InvalidParams=-32602,j.InternalError=-32603,j.jsonrpcReservedErrorRangeStart=-32099,j.serverErrorStart=-32099,j.MessageWriteError=-32099,j.MessageReadError=-32098,j.PendingResponseRejected=-32097,j.ConnectionInactive=-32096,j.ServerNotInitialized=-32002,j.UnknownErrorCode=-32001,j.jsonrpcReservedErrorRangeEnd=-32e3,j.serverErrorEnd=-32e3})(t||(Le.ErrorCodes=t={}));class n extends Error{constructor(I,X,oe){super(X),this.code=e.number(I)?I:t.UnknownErrorCode,this.data=oe,Object.setPrototypeOf(this,n.prototype)}toJson(){const I={code:this.code,message:this.message};return this.data!==void 0&&(I.data=this.data),I}}Le.ResponseError=n;class r{constructor(I){this.kind=I}static is(I){return I===r.auto||I===r.byName||I===r.byPosition}toString(){return this.kind}}Le.ParameterStructures=r,r.auto=new r("auto"),r.byPosition=new r("byPosition"),r.byName=new r("byName");class i{constructor(I,X){this.method=I,this.numberOfParams=X}get parameterStructures(){return r.auto}}Le.AbstractMessageSignature=i;class s extends i{constructor(I){super(I,0)}}Le.RequestType0=s;class o extends i{constructor(I,X=r.auto){super(I,1),this._parameterStructures=X}get parameterStructures(){return this._parameterStructures}}Le.RequestType=o;class u extends i{constructor(I,X=r.auto){super(I,1),this._parameterStructures=X}get parameterStructures(){return this._parameterStructures}}Le.RequestType1=u;class c extends i{constructor(I){super(I,2)}}Le.RequestType2=c;class f extends i{constructor(I){super(I,3)}}Le.RequestType3=f;class d extends i{constructor(I){super(I,4)}}Le.RequestType4=d;class h extends i{constructor(I){super(I,5)}}Le.RequestType5=h;class y extends i{constructor(I){super(I,6)}}Le.RequestType6=y;class w extends i{constructor(I){super(I,7)}}Le.RequestType7=w;class k extends i{constructor(I){super(I,8)}}Le.RequestType8=k;class $ extends i{constructor(I){super(I,9)}}Le.RequestType9=$;class E extends i{constructor(I,X=r.auto){super(I,1),this._parameterStructures=X}get parameterStructures(){return this._parameterStructures}}Le.NotificationType=E;class T extends i{constructor(I){super(I,0)}}Le.NotificationType0=T;class D extends i{constructor(I,X=r.auto){super(I,1),this._parameterStructures=X}get parameterStructures(){return this._parameterStructures}}Le.NotificationType1=D;class p extends i{constructor(I){super(I,2)}}Le.NotificationType2=p;class b extends i{constructor(I){super(I,3)}}Le.NotificationType3=b;class m extends i{constructor(I){super(I,4)}}Le.NotificationType4=m;class v extends i{constructor(I){super(I,5)}}Le.NotificationType5=v;class _ extends i{constructor(I){super(I,6)}}Le.NotificationType6=_;class P extends i{constructor(I){super(I,7)}}Le.NotificationType7=P;class R extends i{constructor(I){super(I,8)}}Le.NotificationType8=R;class N extends i{constructor(I){super(I,9)}}Le.NotificationType9=N;var F;return(function(j){function I(ue){const he=ue;return he&&e.string(he.method)&&(e.string(he.id)||e.number(he.id))}j.isRequest=I;function X(ue){const he=ue;return he&&e.string(he.method)&&ue.id===void 0}j.isNotification=X;function oe(ue){const he=ue;return he&&(he.result!==void 0||!!he.error)&&(e.string(he.id)||e.number(he.id)||he.id===null)}j.isResponse=oe})(F||(Le.Message=F={})),Le}var li={},hy;function py(){if(hy)return li;hy=1;var e;Object.defineProperty(li,"__esModule",{value:!0}),li.LRUCache=li.LinkedMap=li.Touch=void 0;var t;(function(i){i.None=0,i.First=1,i.AsOld=i.First,i.Last=2,i.AsNew=i.Last})(t||(li.Touch=t={}));class n{constructor(){this[e]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var s;return(s=this._head)==null?void 0:s.value}get last(){var s;return(s=this._tail)==null?void 0:s.value}has(s){return this._map.has(s)}get(s,o=t.None){const u=this._map.get(s);if(u)return o!==t.None&&this.touch(u,o),u.value}set(s,o,u=t.None){let c=this._map.get(s);if(c)c.value=o,u!==t.None&&this.touch(c,u);else{switch(c={key:s,value:o,next:void 0,previous:void 0},u){case t.None:this.addItemLast(c);break;case t.First:this.addItemFirst(c);break;case t.Last:this.addItemLast(c);break;default:this.addItemLast(c);break}this._map.set(s,c),this._size++}return this}delete(s){return!!this.remove(s)}remove(s){const o=this._map.get(s);if(o)return this._map.delete(s),this.removeItem(o),this._size--,o.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const s=this._head;return this._map.delete(s.key),this.removeItem(s),this._size--,s.value}forEach(s,o){const u=this._state;let c=this._head;for(;c;){if(o?s.bind(o)(c.value,c.key,this):s(c.value,c.key,this),this._state!==u)throw new Error("LinkedMap got modified during iteration.");c=c.next}}keys(){const s=this._state;let o=this._head;const u={[Symbol.iterator]:()=>u,next:()=>{if(this._state!==s)throw new Error("LinkedMap got modified during iteration.");if(o){const c={value:o.key,done:!1};return o=o.next,c}else return{value:void 0,done:!0}}};return u}values(){const s=this._state;let o=this._head;const u={[Symbol.iterator]:()=>u,next:()=>{if(this._state!==s)throw new Error("LinkedMap got modified during iteration.");if(o){const c={value:o.value,done:!1};return o=o.next,c}else return{value:void 0,done:!0}}};return u}entries(){const s=this._state;let o=this._head;const u={[Symbol.iterator]:()=>u,next:()=>{if(this._state!==s)throw new Error("LinkedMap got modified during iteration.");if(o){const c={value:[o.key,o.value],done:!1};return o=o.next,c}else return{value:void 0,done:!0}}};return u}[(e=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(s){if(s>=this.size)return;if(s===0){this.clear();return}let o=this._head,u=this.size;for(;o&&u>s;)this._map.delete(o.key),o=o.next,u--;this._head=o,this._size=u,o&&(o.previous=void 0),this._state++}addItemFirst(s){if(!this._head&&!this._tail)this._tail=s;else if(this._head)s.next=this._head,this._head.previous=s;else throw new Error("Invalid list");this._head=s,this._state++}addItemLast(s){if(!this._head&&!this._tail)this._head=s;else if(this._tail)s.previous=this._tail,this._tail.next=s;else throw new Error("Invalid list");this._tail=s,this._state++}removeItem(s){if(s===this._head&&s===this._tail)this._head=void 0,this._tail=void 0;else if(s===this._head){if(!s.next)throw new Error("Invalid list");s.next.previous=void 0,this._head=s.next}else if(s===this._tail){if(!s.previous)throw new Error("Invalid list");s.previous.next=void 0,this._tail=s.previous}else{const o=s.next,u=s.previous;if(!o||!u)throw new Error("Invalid list");o.previous=u,u.next=o}s.next=void 0,s.previous=void 0,this._state++}touch(s,o){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(o!==t.First&&o!==t.Last)){if(o===t.First){if(s===this._head)return;const u=s.next,c=s.previous;s===this._tail?(c.next=void 0,this._tail=c):(u.previous=c,c.next=u),s.previous=void 0,s.next=this._head,this._head.previous=s,this._head=s,this._state++}else if(o===t.Last){if(s===this._tail)return;const u=s.next,c=s.previous;s===this._head?(u.previous=void 0,this._head=u):(u.previous=c,c.next=u),s.next=void 0,s.previous=this._tail,this._tail.next=s,this._tail=s,this._state++}}}toJSON(){const s=[];return this.forEach((o,u)=>{s.push([u,o])}),s}fromJSON(s){this.clear();for(const[o,u]of s)this.set(o,u)}}li.LinkedMap=n;class r extends n{constructor(s,o=1){super(),this._limit=s,this._ratio=Math.min(Math.max(0,o),1)}get limit(){return this._limit}set limit(s){this._limit=s,this.checkTrim()}get ratio(){return this._ratio}set ratio(s){this._ratio=Math.min(Math.max(0,s),1),this.checkTrim()}get(s,o=t.AsNew){return super.get(s,o)}peek(s){return super.get(s,t.None)}set(s,o){return super.set(s,o,t.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}return li.LRUCache=r,li}var ka={},my;function Y$(){if(my)return ka;my=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.Disposable=void 0;var e;return(function(t){function n(r){return{dispose:r}}t.create=n})(e||(ka.Disposable=e={})),ka}var ws={},uc={},gy;function _s(){if(gy)return uc;gy=1,Object.defineProperty(uc,"__esModule",{value:!0});let e;function t(){if(e===void 0)throw new Error("No runtime abstraction layer installed");return e}return(function(n){function r(i){if(i===void 0)throw new Error("No runtime abstraction layer provided");e=i}n.install=r})(t||(t={})),uc.default=t,uc}var yy;function Aa(){if(yy)return ws;yy=1,Object.defineProperty(ws,"__esModule",{value:!0}),ws.Emitter=ws.Event=void 0;const e=_s();var t;(function(i){const s={dispose(){}};i.None=function(){return s}})(t||(ws.Event=t={}));class n{add(s,o=null,u){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(s),this._contexts.push(o),Array.isArray(u)&&u.push({dispose:()=>this.remove(s,o)})}remove(s,o=null){if(!this._callbacks)return;let u=!1;for(let c=0,f=this._callbacks.length;c<f;c++)if(this._callbacks[c]===s)if(this._contexts[c]===o){this._callbacks.splice(c,1),this._contexts.splice(c,1);return}else u=!0;if(u)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...s){if(!this._callbacks)return[];const o=[],u=this._callbacks.slice(0),c=this._contexts.slice(0);for(let f=0,d=u.length;f<d;f++)try{o.push(u[f].apply(c[f],s))}catch(h){(0,e.default)().console.error(h)}return o}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class r{constructor(s){this._options=s}get event(){return this._event||(this._event=(s,o,u)=>{this._callbacks||(this._callbacks=new n),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(s,o);const c={dispose:()=>{this._callbacks&&(this._callbacks.remove(s,o),c.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(u)&&u.push(c),c}),this._event}fire(s){this._callbacks&&this._callbacks.invoke.call(this._callbacks,s)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}return ws.Emitter=r,r._noop=function(){},ws}var Es={},vy;function Id(){if(vy)return Es;vy=1,Object.defineProperty(Es,"__esModule",{value:!0}),Es.CancellationTokenSource=Es.CancellationToken=void 0;const e=_s(),t=Ta(),n=Aa();var r;(function(u){u.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:n.Event.None}),u.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:n.Event.None});function c(f){const d=f;return d&&(d===u.None||d===u.Cancelled||t.boolean(d.isCancellationRequested)&&!!d.onCancellationRequested)}u.is=c})(r||(Es.CancellationToken=r={}));const i=Object.freeze(function(u,c){const f=(0,e.default)().timer.setTimeout(u.bind(c),0);return{dispose(){f.dispose()}}});class s{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?i:(this._emitter||(this._emitter=new n.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class o{get token(){return this._token||(this._token=new s),this._token}cancel(){this._token?this._token.cancel():this._token=r.Cancelled}dispose(){this._token?this._token instanceof s&&this._token.dispose():this._token=r.None}}return Es.CancellationTokenSource=o,Es}var Ss={},by;function G$(){if(by)return Ss;by=1,Object.defineProperty(Ss,"__esModule",{value:!0}),Ss.SharedArrayReceiverStrategy=Ss.SharedArraySenderStrategy=void 0;const e=Id();var t;(function(o){o.Continue=0,o.Cancelled=1})(t||(t={}));class n{constructor(){this.buffers=new Map}enableCancellation(u){if(u.id===null)return;const c=new SharedArrayBuffer(4),f=new Int32Array(c,0,1);f[0]=t.Continue,this.buffers.set(u.id,c),u.$cancellationData=c}async sendCancellation(u,c){const f=this.buffers.get(c);if(f===void 0)return;const d=new Int32Array(f,0,1);Atomics.store(d,0,t.Cancelled)}cleanup(u){this.buffers.delete(u)}dispose(){this.buffers.clear()}}Ss.SharedArraySenderStrategy=n;class r{constructor(u){this.data=new Int32Array(u,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===t.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}}class i{constructor(u){this.token=new r(u)}cancel(){}dispose(){}}class s{constructor(){this.kind="request"}createCancellationTokenSource(u){const c=u.$cancellationData;return c===void 0?new e.CancellationTokenSource:new i(c)}}return Ss.SharedArrayReceiverStrategy=s,Ss}var fi={},Ca={},Dy;function wy(){if(Dy)return Ca;Dy=1,Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.Semaphore=void 0;const e=_s();class t{constructor(r=1){if(r<=0)throw new Error("Capacity must be greater than 0");this._capacity=r,this._active=0,this._waiting=[]}lock(r){return new Promise((i,s)=>{this._waiting.push({thunk:r,resolve:i,reject:s}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,e.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;const r=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const i=r.thunk();i instanceof Promise?i.then(s=>{this._active--,r.resolve(s),this.runNext()},s=>{this._active--,r.reject(s),this.runNext()}):(this._active--,r.resolve(i),this.runNext())}catch(i){this._active--,r.reject(i),this.runNext()}}}return Ca.Semaphore=t,Ca}var _y;function J$(){if(_y)return fi;_y=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.ReadableStreamMessageReader=fi.AbstractMessageReader=fi.MessageReader=void 0;const e=_s(),t=Ta(),n=Aa(),r=wy();var i;(function(c){function f(d){let h=d;return h&&t.func(h.listen)&&t.func(h.dispose)&&t.func(h.onError)&&t.func(h.onClose)&&t.func(h.onPartialMessage)}c.is=f})(i||(fi.MessageReader=i={}));class s{constructor(){this.errorEmitter=new n.Emitter,this.closeEmitter=new n.Emitter,this.partialMessageEmitter=new n.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(f){this.errorEmitter.fire(this.asError(f))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(f){this.partialMessageEmitter.fire(f)}asError(f){return f instanceof Error?f:new Error(`Reader received error. Reason: ${t.string(f.message)?f.message:"unknown"}`)}}fi.AbstractMessageReader=s;var o;(function(c){function f(d){let h,y;const w=new Map;let k;const $=new Map;if(d===void 0||typeof d=="string")h=d??"utf-8";else{if(h=d.charset??"utf-8",d.contentDecoder!==void 0&&(y=d.contentDecoder,w.set(y.name,y)),d.contentDecoders!==void 0)for(const E of d.contentDecoders)w.set(E.name,E);if(d.contentTypeDecoder!==void 0&&(k=d.contentTypeDecoder,$.set(k.name,k)),d.contentTypeDecoders!==void 0)for(const E of d.contentTypeDecoders)$.set(E.name,E)}return k===void 0&&(k=(0,e.default)().applicationJson.decoder,$.set(k.name,k)),{charset:h,contentDecoder:y,contentDecoders:w,contentTypeDecoder:k,contentTypeDecoders:$}}c.fromOptions=f})(o||(o={}));class u extends s{constructor(f,d){super(),this.readable=f,this.options=o.fromOptions(d),this.buffer=(0,e.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new r.Semaphore(1)}set partialMessageTimeout(f){this._partialMessageTimeout=f}get partialMessageTimeout(){return this._partialMessageTimeout}listen(f){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=f;const d=this.readable.onData(h=>{this.onData(h)});return this.readable.onError(h=>this.fireError(h)),this.readable.onClose(()=>this.fireClose()),d}onData(f){try{for(this.buffer.append(f);;){if(this.nextMessageLength===-1){const h=this.buffer.tryReadHeaders(!0);if(!h)return;const y=h.get("content-length");if(!y){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(h))}`));return}const w=parseInt(y);if(isNaN(w)){this.fireError(new Error(`Content-Length value must be a number. Got ${y}`));return}this.nextMessageLength=w}const d=this.buffer.tryReadBody(this.nextMessageLength);if(d===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{const h=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(d):d,y=await this.options.contentTypeDecoder.decode(h,this.options);this.callback(y)}).catch(h=>{this.fireError(h)})}}catch(d){this.fireError(d)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,e.default)().timer.setTimeout((f,d)=>{this.partialMessageTimer=void 0,f===this.messageToken&&(this.firePartialMessage({messageToken:f,waitingTime:d}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}return fi.ReadableStreamMessageReader=u,fi}var di={},Ey;function Q$(){if(Ey)return di;Ey=1,Object.defineProperty(di,"__esModule",{value:!0}),di.WriteableStreamMessageWriter=di.AbstractMessageWriter=di.MessageWriter=void 0;const e=_s(),t=Ta(),n=wy(),r=Aa(),i="Content-Length: ",s=`\r
`;var o;(function(d){function h(y){let w=y;return w&&t.func(w.dispose)&&t.func(w.onClose)&&t.func(w.onError)&&t.func(w.write)}d.is=h})(o||(di.MessageWriter=o={}));class u{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(h,y,w){this.errorEmitter.fire([this.asError(h),y,w])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(h){return h instanceof Error?h:new Error(`Writer received error. Reason: ${t.string(h.message)?h.message:"unknown"}`)}}di.AbstractMessageWriter=u;var c;(function(d){function h(y){return y===void 0||typeof y=="string"?{charset:y??"utf-8",contentTypeEncoder:(0,e.default)().applicationJson.encoder}:{charset:y.charset??"utf-8",contentEncoder:y.contentEncoder,contentTypeEncoder:y.contentTypeEncoder??(0,e.default)().applicationJson.encoder}}d.fromOptions=h})(c||(c={}));class f extends u{constructor(h,y){super(),this.writable=h,this.options=c.fromOptions(y),this.errorCount=0,this.writeSemaphore=new n.Semaphore(1),this.writable.onError(w=>this.fireError(w)),this.writable.onClose(()=>this.fireClose())}async write(h){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(h,this.options).then(w=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(w):w).then(w=>{const k=[];return k.push(i,w.byteLength.toString(),s),k.push(s),this.doWrite(h,k,w)},w=>{throw this.fireError(w),w}))}async doWrite(h,y,w){try{return await this.writable.write(y.join(""),"ascii"),this.writable.write(w)}catch(k){return this.handleError(k,h),Promise.reject(k)}}handleError(h,y){this.errorCount++,this.fireError(h,y,this.errorCount)}end(){this.writable.end()}}return di.WriteableStreamMessageWriter=f,di}var Oa={},Sy;function X$(){if(Sy)return Oa;Sy=1,Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.AbstractMessageBuffer=void 0;const e=13,t=10,n=`\r
`;class r{constructor(s="utf-8"){this._encoding=s,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(s){const o=typeof s=="string"?this.fromString(s,this._encoding):s;this._chunks.push(o),this._totalLength+=o.byteLength}tryReadHeaders(s=!1){if(this._chunks.length===0)return;let o=0,u=0,c=0,f=0;e:for(;u<this._chunks.length;){const w=this._chunks[u];for(c=0;c<w.length;){switch(w[c]){case e:switch(o){case 0:o=1;break;case 2:o=3;break;default:o=0}break;case t:switch(o){case 1:o=2;break;case 3:o=4,c++;break e;default:o=0}break;default:o=0}c++}f+=w.byteLength,u++}if(o!==4)return;const d=this._read(f+c),h=new Map,y=this.toString(d,"ascii").split(n);if(y.length<2)return h;for(let w=0;w<y.length-2;w++){const k=y[w],$=k.indexOf(":");if($===-1)throw new Error(`Message header must separate key and value using ':'
${k}`);const E=k.substr(0,$),T=k.substr($+1).trim();h.set(s?E.toLowerCase():E,T)}return h}tryReadBody(s){if(!(this._totalLength<s))return this._read(s)}get numberOfBytes(){return this._totalLength}_read(s){if(s===0)return this.emptyBuffer();if(s>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===s){const f=this._chunks[0];return this._chunks.shift(),this._totalLength-=s,this.asNative(f)}if(this._chunks[0].byteLength>s){const f=this._chunks[0],d=this.asNative(f,s);return this._chunks[0]=f.slice(s),this._totalLength-=s,d}const o=this.allocNative(s);let u=0,c=0;for(;s>0;){const f=this._chunks[c];if(f.byteLength>s){const d=f.slice(0,s);o.set(d,u),u+=s,this._chunks[c]=f.slice(s),this._totalLength-=s,s-=s}else o.set(f,u),u+=f.byteLength,this._chunks.shift(),this._totalLength-=f.byteLength,s-=f.byteLength}return o}}return Oa.AbstractMessageBuffer=r,Oa}var Md={},$y;function Z$(){return $y||($y=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.ConnectionOptions=e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.RequestCancellationReceiverStrategy=e.IdCancellationReceiverStrategy=e.ConnectionStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=e.NullLogger=e.ProgressType=e.ProgressToken=void 0;const t=_s(),n=Ta(),r=dy(),i=py(),s=Aa(),o=Id();var u;(function(I){I.type=new r.NotificationType("$/cancelRequest")})(u||(u={}));var c;(function(I){function X(oe){return typeof oe=="string"||typeof oe=="number"}I.is=X})(c||(e.ProgressToken=c={}));var f;(function(I){I.type=new r.NotificationType("$/progress")})(f||(f={}));class d{constructor(){}}e.ProgressType=d;var h;(function(I){function X(oe){return n.func(oe)}I.is=X})(h||(h={})),e.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var y;(function(I){I[I.Off=0]="Off",I[I.Messages=1]="Messages",I[I.Compact=2]="Compact",I[I.Verbose=3]="Verbose"})(y||(e.Trace=y={}));var w;(function(I){I.Off="off",I.Messages="messages",I.Compact="compact",I.Verbose="verbose"})(w||(e.TraceValues=w={})),(function(I){function X(ue){if(!n.string(ue))return I.Off;switch(ue=ue.toLowerCase(),ue){case"off":return I.Off;case"messages":return I.Messages;case"compact":return I.Compact;case"verbose":return I.Verbose;default:return I.Off}}I.fromString=X;function oe(ue){switch(ue){case I.Off:return"off";case I.Messages:return"messages";case I.Compact:return"compact";case I.Verbose:return"verbose";default:return"off"}}I.toString=oe})(y||(e.Trace=y={}));var k;(function(I){I.Text="text",I.JSON="json"})(k||(e.TraceFormat=k={})),(function(I){function X(oe){return n.string(oe)?(oe=oe.toLowerCase(),oe==="json"?I.JSON:I.Text):I.Text}I.fromString=X})(k||(e.TraceFormat=k={}));var $;(function(I){I.type=new r.NotificationType("$/setTrace")})($||(e.SetTraceNotification=$={}));var E;(function(I){I.type=new r.NotificationType("$/logTrace")})(E||(e.LogTraceNotification=E={}));var T;(function(I){I[I.Closed=1]="Closed",I[I.Disposed=2]="Disposed",I[I.AlreadyListening=3]="AlreadyListening"})(T||(e.ConnectionErrors=T={}));class D extends Error{constructor(X,oe){super(oe),this.code=X,Object.setPrototypeOf(this,D.prototype)}}e.ConnectionError=D;var p;(function(I){function X(oe){const ue=oe;return ue&&n.func(ue.cancelUndispatched)}I.is=X})(p||(e.ConnectionStrategy=p={}));var b;(function(I){function X(oe){const ue=oe;return ue&&(ue.kind===void 0||ue.kind==="id")&&n.func(ue.createCancellationTokenSource)&&(ue.dispose===void 0||n.func(ue.dispose))}I.is=X})(b||(e.IdCancellationReceiverStrategy=b={}));var m;(function(I){function X(oe){const ue=oe;return ue&&ue.kind==="request"&&n.func(ue.createCancellationTokenSource)&&(ue.dispose===void 0||n.func(ue.dispose))}I.is=X})(m||(e.RequestCancellationReceiverStrategy=m={}));var v;(function(I){I.Message=Object.freeze({createCancellationTokenSource(oe){return new o.CancellationTokenSource}});function X(oe){return b.is(oe)||m.is(oe)}I.is=X})(v||(e.CancellationReceiverStrategy=v={}));var _;(function(I){I.Message=Object.freeze({sendCancellation(oe,ue){return oe.sendNotification(u.type,{id:ue})},cleanup(oe){}});function X(oe){const ue=oe;return ue&&n.func(ue.sendCancellation)&&n.func(ue.cleanup)}I.is=X})(_||(e.CancellationSenderStrategy=_={}));var P;(function(I){I.Message=Object.freeze({receiver:v.Message,sender:_.Message});function X(oe){const ue=oe;return ue&&v.is(ue.receiver)&&_.is(ue.sender)}I.is=X})(P||(e.CancellationStrategy=P={}));var R;(function(I){function X(oe){const ue=oe;return ue&&n.func(ue.handleMessage)}I.is=X})(R||(e.MessageStrategy=R={}));var N;(function(I){function X(oe){const ue=oe;return ue&&(P.is(ue.cancellationStrategy)||p.is(ue.connectionStrategy)||R.is(ue.messageStrategy))}I.is=X})(N||(e.ConnectionOptions=N={}));var F;(function(I){I[I.New=1]="New",I[I.Listening=2]="Listening",I[I.Closed=3]="Closed",I[I.Disposed=4]="Disposed"})(F||(F={}));function j(I,X,oe,ue){const he=oe!==void 0?oe:e.NullLogger;let $e=0,We=0,ge=0;const U="2.0";let ae;const re=new Map;let x;const Q=new Map,fe=new Map;let Te,ke=new i.LinkedMap,Fe=new Map,we=new Set,V=new Map,J=y.Off,de=k.Text,ne,Se=F.New;const Ne=new s.Emitter,xe=new s.Emitter,Ft=new s.Emitter,kt=new s.Emitter,dt=new s.Emitter,ze=ue&&ue.cancellationStrategy?ue.cancellationStrategy:P.Message;function It(te){if(te===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+te.toString()}function At(te){return te===null?"res-unknown-"+(++ge).toString():"res-"+te.toString()}function Xt(){return"not-"+(++We).toString()}function yt(te,be){r.Message.isRequest(be)?te.set(It(be.id),be):r.Message.isResponse(be)?te.set(At(be.id),be):te.set(Xt(),be)}function Y(te){}function B(){return Se===F.Listening}function q(){return Se===F.Closed}function W(){return Se===F.Disposed}function C(){(Se===F.New||Se===F.Listening)&&(Se=F.Closed,xe.fire(void 0))}function S(te){Ne.fire([te,void 0,void 0])}function A(te){Ne.fire(te)}I.onClose(C),I.onError(S),X.onClose(C),X.onError(A);function M(){Te||ke.size===0||(Te=(0,t.default)().timer.setImmediate(()=>{Te=void 0,Z()}))}function z(te){r.Message.isRequest(te)?Ee(te):r.Message.isNotification(te)?Pe(te):r.Message.isResponse(te)?je(te):qe(te)}function Z(){if(ke.size===0)return;const te=ke.shift();try{const be=ue==null?void 0:ue.messageStrategy;R.is(be)?be.handleMessage(te,z):z(te)}finally{M()}}const se=te=>{try{if(r.Message.isNotification(te)&&te.method===u.type.method){const be=te.params.id,Ae=It(be),Ie=ke.get(Ae);if(r.Message.isRequest(Ie)){const Ct=ue==null?void 0:ue.connectionStrategy,Nt=Ct&&Ct.cancelUndispatched?Ct.cancelUndispatched(Ie,Y):void 0;if(Nt&&(Nt.error!==void 0||Nt.result!==void 0)){ke.delete(Ae),V.delete(be),Nt.id=Ie.id,et(Nt,te.method,Date.now()),X.write(Nt).catch(()=>he.error("Sending response for canceled message failed."));return}}const Rt=V.get(be);if(Rt!==void 0){Rt.cancel(),rt(te);return}else we.add(be)}yt(ke,te)}finally{M()}};function Ee(te){if(W())return;function be(ht,xt,bt){const Wt={jsonrpc:U,id:te.id};ht instanceof r.ResponseError?Wt.error=ht.toJson():Wt.result=ht===void 0?null:ht,et(Wt,xt,bt),X.write(Wt).catch(()=>he.error("Sending response failed."))}function Ae(ht,xt,bt){const Wt={jsonrpc:U,id:te.id,error:ht.toJson()};et(Wt,xt,bt),X.write(Wt).catch(()=>he.error("Sending response failed."))}function Ie(ht,xt,bt){ht===void 0&&(ht=null);const Wt={jsonrpc:U,id:te.id,result:ht};et(Wt,xt,bt),X.write(Wt).catch(()=>he.error("Sending response failed."))}vt(te);const Rt=re.get(te.method);let Ct,Nt;Rt&&(Ct=Rt.type,Nt=Rt.handler);const Yt=Date.now();if(Nt||ae){const ht=te.id??String(Date.now()),xt=b.is(ze.receiver)?ze.receiver.createCancellationTokenSource(ht):ze.receiver.createCancellationTokenSource(te);te.id!==null&&we.has(te.id)&&xt.cancel(),te.id!==null&&V.set(ht,xt);try{let bt;if(Nt)if(te.params===void 0){if(Ct!==void 0&&Ct.numberOfParams!==0){Ae(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${te.method} defines ${Ct.numberOfParams} params but received none.`),te.method,Yt);return}bt=Nt(xt.token)}else if(Array.isArray(te.params)){if(Ct!==void 0&&Ct.parameterStructures===r.ParameterStructures.byName){Ae(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${te.method} defines parameters by name but received parameters by position`),te.method,Yt);return}bt=Nt(...te.params,xt.token)}else{if(Ct!==void 0&&Ct.parameterStructures===r.ParameterStructures.byPosition){Ae(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${te.method} defines parameters by position but received parameters by name`),te.method,Yt);return}bt=Nt(te.params,xt.token)}else ae&&(bt=ae(te.method,te.params,xt.token));const Wt=bt;bt?Wt.then?Wt.then(En=>{V.delete(ht),be(En,te.method,Yt)},En=>{V.delete(ht),En instanceof r.ResponseError?Ae(En,te.method,Yt):En&&n.string(En.message)?Ae(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${te.method} failed with message: ${En.message}`),te.method,Yt):Ae(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${te.method} failed unexpectedly without providing any details.`),te.method,Yt)}):(V.delete(ht),be(bt,te.method,Yt)):(V.delete(ht),Ie(bt,te.method,Yt))}catch(bt){V.delete(ht),bt instanceof r.ResponseError?be(bt,te.method,Yt):bt&&n.string(bt.message)?Ae(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${te.method} failed with message: ${bt.message}`),te.method,Yt):Ae(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${te.method} failed unexpectedly without providing any details.`),te.method,Yt)}}else Ae(new r.ResponseError(r.ErrorCodes.MethodNotFound,`Unhandled method ${te.method}`),te.method,Yt)}function je(te){if(!W())if(te.id===null)te.error?he.error(`Received response message without id: Error is: 
${JSON.stringify(te.error,void 0,4)}`):he.error("Received response message without id. No further error information provided.");else{const be=te.id,Ae=Fe.get(be);if(Zt(te,Ae),Ae!==void 0){Fe.delete(be);try{if(te.error){const Ie=te.error;Ae.reject(new r.ResponseError(Ie.code,Ie.message,Ie.data))}else if(te.result!==void 0)Ae.resolve(te.result);else throw new Error("Should never happen.")}catch(Ie){Ie.message?he.error(`Response handler '${Ae.method}' failed with message: ${Ie.message}`):he.error(`Response handler '${Ae.method}' failed unexpectedly.`)}}}}function Pe(te){if(W())return;let be,Ae;if(te.method===u.type.method){const Ie=te.params.id;we.delete(Ie),rt(te);return}else{const Ie=Q.get(te.method);Ie&&(Ae=Ie.handler,be=Ie.type)}if(Ae||x)try{if(rt(te),Ae)if(te.params===void 0)be!==void 0&&be.numberOfParams!==0&&be.parameterStructures!==r.ParameterStructures.byName&&he.error(`Notification ${te.method} defines ${be.numberOfParams} params but received none.`),Ae();else if(Array.isArray(te.params)){const Ie=te.params;te.method===f.type.method&&Ie.length===2&&c.is(Ie[0])?Ae({token:Ie[0],value:Ie[1]}):(be!==void 0&&(be.parameterStructures===r.ParameterStructures.byName&&he.error(`Notification ${te.method} defines parameters by name but received parameters by position`),be.numberOfParams!==te.params.length&&he.error(`Notification ${te.method} defines ${be.numberOfParams} params but received ${Ie.length} arguments`)),Ae(...Ie))}else be!==void 0&&be.parameterStructures===r.ParameterStructures.byPosition&&he.error(`Notification ${te.method} defines parameters by position but received parameters by name`),Ae(te.params);else x&&x(te.method,te.params)}catch(Ie){Ie.message?he.error(`Notification handler '${te.method}' failed with message: ${Ie.message}`):he.error(`Notification handler '${te.method}' failed unexpectedly.`)}else Ft.fire(te)}function qe(te){if(!te){he.error("Received empty message.");return}he.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(te,null,4)}`);const be=te;if(n.string(be.id)||n.number(be.id)){const Ae=be.id,Ie=Fe.get(Ae);Ie&&Ie.reject(new Error("The received response has neither a result nor an error property."))}}function Ce(te){if(te!=null)switch(J){case y.Verbose:return JSON.stringify(te,null,4);case y.Compact:return JSON.stringify(te);default:return}}function at(te){if(!(J===y.Off||!ne))if(de===k.Text){let be;(J===y.Verbose||J===y.Compact)&&te.params&&(be=`Params: ${Ce(te.params)}

`),ne.log(`Sending request '${te.method} - (${te.id})'.`,be)}else rr("send-request",te)}function qt(te){if(!(J===y.Off||!ne))if(de===k.Text){let be;(J===y.Verbose||J===y.Compact)&&(te.params?be=`Params: ${Ce(te.params)}

`:be=`No parameters provided.

`),ne.log(`Sending notification '${te.method}'.`,be)}else rr("send-notification",te)}function et(te,be,Ae){if(!(J===y.Off||!ne))if(de===k.Text){let Ie;(J===y.Verbose||J===y.Compact)&&(te.error&&te.error.data?Ie=`Error data: ${Ce(te.error.data)}

`:te.result?Ie=`Result: ${Ce(te.result)}

`:te.error===void 0&&(Ie=`No result returned.

`)),ne.log(`Sending response '${be} - (${te.id})'. Processing request took ${Date.now()-Ae}ms`,Ie)}else rr("send-response",te)}function vt(te){if(!(J===y.Off||!ne))if(de===k.Text){let be;(J===y.Verbose||J===y.Compact)&&te.params&&(be=`Params: ${Ce(te.params)}

`),ne.log(`Received request '${te.method} - (${te.id})'.`,be)}else rr("receive-request",te)}function rt(te){if(!(J===y.Off||!ne||te.method===E.type.method))if(de===k.Text){let be;(J===y.Verbose||J===y.Compact)&&(te.params?be=`Params: ${Ce(te.params)}

`:be=`No parameters provided.

`),ne.log(`Received notification '${te.method}'.`,be)}else rr("receive-notification",te)}function Zt(te,be){if(!(J===y.Off||!ne))if(de===k.Text){let Ae;if((J===y.Verbose||J===y.Compact)&&(te.error&&te.error.data?Ae=`Error data: ${Ce(te.error.data)}

`:te.result?Ae=`Result: ${Ce(te.result)}

`:te.error===void 0&&(Ae=`No result returned.

`)),be){const Ie=te.error?` Request failed: ${te.error.message} (${te.error.code}).`:"";ne.log(`Received response '${be.method} - (${te.id})' in ${Date.now()-be.timerStart}ms.${Ie}`,Ae)}else ne.log(`Received response ${te.id} without active response promise.`,Ae)}else rr("receive-response",te)}function rr(te,be){if(!ne||J===y.Off)return;const Ae={isLSPMessage:!0,type:te,message:be,timestamp:Date.now()};ne.log(Ae)}function si(){if(q())throw new D(T.Closed,"Connection is closed.");if(W())throw new D(T.Disposed,"Connection is disposed.")}function fa(){if(B())throw new D(T.AlreadyListening,"Connection is already listening")}function cs(){if(!B())throw new Error("Call listen() first.")}function oi(te){return te===void 0?null:te}function Li(te){if(te!==null)return te}function G(te){return te!=null&&!Array.isArray(te)&&typeof te=="object"}function Kt(te,be){switch(te){case r.ParameterStructures.auto:return G(be)?Li(be):[oi(be)];case r.ParameterStructures.byName:if(!G(be))throw new Error("Received parameters by name but param is not an object literal.");return Li(be);case r.ParameterStructures.byPosition:return[oi(be)];default:throw new Error(`Unknown parameter structure ${te.toString()}`)}}function zt(te,be){let Ae;const Ie=te.numberOfParams;switch(Ie){case 0:Ae=void 0;break;case 1:Ae=Kt(te.parameterStructures,be[0]);break;default:Ae=[];for(let Rt=0;Rt<be.length&&Rt<Ie;Rt++)Ae.push(oi(be[Rt]));if(be.length<Ie)for(let Rt=be.length;Rt<Ie;Rt++)Ae.push(null);break}return Ae}const Ke={sendNotification:(te,...be)=>{si();let Ae,Ie;if(n.string(te)){Ae=te;const Ct=be[0];let Nt=0,Yt=r.ParameterStructures.auto;r.ParameterStructures.is(Ct)&&(Nt=1,Yt=Ct);let ht=be.length;const xt=ht-Nt;switch(xt){case 0:Ie=void 0;break;case 1:Ie=Kt(Yt,be[Nt]);break;default:if(Yt===r.ParameterStructures.byName)throw new Error(`Received ${xt} parameters for 'by Name' notification parameter structure.`);Ie=be.slice(Nt,ht).map(bt=>oi(bt));break}}else{const Ct=be;Ae=te.method,Ie=zt(te,Ct)}const Rt={jsonrpc:U,method:Ae,params:Ie};return qt(Rt),X.write(Rt).catch(Ct=>{throw he.error("Sending notification failed."),Ct})},onNotification:(te,be)=>{si();let Ae;return n.func(te)?x=te:be&&(n.string(te)?(Ae=te,Q.set(te,{type:void 0,handler:be})):(Ae=te.method,Q.set(te.method,{type:te,handler:be}))),{dispose:()=>{Ae!==void 0?Q.delete(Ae):x=void 0}}},onProgress:(te,be,Ae)=>{if(fe.has(be))throw new Error(`Progress handler for token ${be} already registered`);return fe.set(be,Ae),{dispose:()=>{fe.delete(be)}}},sendProgress:(te,be,Ae)=>Ke.sendNotification(f.type,{token:be,value:Ae}),onUnhandledProgress:kt.event,sendRequest:(te,...be)=>{si(),cs();let Ae,Ie,Rt;if(n.string(te)){Ae=te;const ht=be[0],xt=be[be.length-1];let bt=0,Wt=r.ParameterStructures.auto;r.ParameterStructures.is(ht)&&(bt=1,Wt=ht);let En=be.length;o.CancellationToken.is(xt)&&(En=En-1,Rt=xt);const Mn=En-bt;switch(Mn){case 0:Ie=void 0;break;case 1:Ie=Kt(Wt,be[bt]);break;default:if(Wt===r.ParameterStructures.byName)throw new Error(`Received ${Mn} parameters for 'by Name' request parameter structure.`);Ie=be.slice(bt,En).map(Gm=>oi(Gm));break}}else{const ht=be;Ae=te.method,Ie=zt(te,ht);const xt=te.numberOfParams;Rt=o.CancellationToken.is(ht[xt])?ht[xt]:void 0}const Ct=$e++;let Nt;Rt&&(Nt=Rt.onCancellationRequested(()=>{const ht=ze.sender.sendCancellation(Ke,Ct);return ht===void 0?(he.log(`Received no promise from cancellation strategy when cancelling id ${Ct}`),Promise.resolve()):ht.catch(()=>{he.log(`Sending cancellation messages for id ${Ct} failed`)})}));const Yt={jsonrpc:U,id:Ct,method:Ae,params:Ie};return at(Yt),typeof ze.sender.enableCancellation=="function"&&ze.sender.enableCancellation(Yt),new Promise(async(ht,xt)=>{const bt=Mn=>{ht(Mn),ze.sender.cleanup(Ct),Nt==null||Nt.dispose()},Wt=Mn=>{xt(Mn),ze.sender.cleanup(Ct),Nt==null||Nt.dispose()},En={method:Ae,timerStart:Date.now(),resolve:bt,reject:Wt};try{await X.write(Yt),Fe.set(Ct,En)}catch(Mn){throw he.error("Sending request failed."),En.reject(new r.ResponseError(r.ErrorCodes.MessageWriteError,Mn.message?Mn.message:"Unknown reason")),Mn}})},onRequest:(te,be)=>{si();let Ae=null;return h.is(te)?(Ae=void 0,ae=te):n.string(te)?(Ae=null,be!==void 0&&(Ae=te,re.set(te,{handler:be,type:void 0}))):be!==void 0&&(Ae=te.method,re.set(te.method,{type:te,handler:be})),{dispose:()=>{Ae!==null&&(Ae!==void 0?re.delete(Ae):ae=void 0)}}},hasPendingResponse:()=>Fe.size>0,trace:async(te,be,Ae)=>{let Ie=!1,Rt=k.Text;Ae!==void 0&&(n.boolean(Ae)?Ie=Ae:(Ie=Ae.sendNotification||!1,Rt=Ae.traceFormat||k.Text)),J=te,de=Rt,J===y.Off?ne=void 0:ne=be,Ie&&!q()&&!W()&&await Ke.sendNotification($.type,{value:y.toString(te)})},onError:Ne.event,onClose:xe.event,onUnhandledNotification:Ft.event,onDispose:dt.event,end:()=>{X.end()},dispose:()=>{if(W())return;Se=F.Disposed,dt.fire(void 0);const te=new r.ResponseError(r.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const be of Fe.values())be.reject(te);Fe=new Map,V=new Map,we=new Set,ke=new i.LinkedMap,n.func(X.dispose)&&X.dispose(),n.func(I.dispose)&&I.dispose()},listen:()=>{si(),fa(),Se=F.Listening,I.listen(se)},inspect:()=>{(0,t.default)().console.log("inspect")}};return Ke.onNotification(E.type,te=>{if(J===y.Off||!ne)return;const be=J===y.Verbose||J===y.Compact;ne.log(te.message,be?te.verbose:void 0)}),Ke.onNotification(f.type,te=>{const be=fe.get(te.token);be?be(te.value):kt.fire(te)}),Ke}e.createMessageConnection=j})(Md)),Md}var Ty;function Ld(){return Ty||(Ty=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressType=e.ProgressToken=e.createMessageConnection=e.NullLogger=e.ConnectionOptions=e.ConnectionStrategy=e.AbstractMessageBuffer=e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=e.SharedArrayReceiverStrategy=e.SharedArraySenderStrategy=e.CancellationToken=e.CancellationTokenSource=e.Emitter=e.Event=e.Disposable=e.LRUCache=e.Touch=e.LinkedMap=e.ParameterStructures=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.ErrorCodes=e.ResponseError=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType0=e.RequestType=e.Message=e.RAL=void 0,e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=void 0;const t=dy();Object.defineProperty(e,"Message",{enumerable:!0,get:function(){return t.Message}}),Object.defineProperty(e,"RequestType",{enumerable:!0,get:function(){return t.RequestType}}),Object.defineProperty(e,"RequestType0",{enumerable:!0,get:function(){return t.RequestType0}}),Object.defineProperty(e,"RequestType1",{enumerable:!0,get:function(){return t.RequestType1}}),Object.defineProperty(e,"RequestType2",{enumerable:!0,get:function(){return t.RequestType2}}),Object.defineProperty(e,"RequestType3",{enumerable:!0,get:function(){return t.RequestType3}}),Object.defineProperty(e,"RequestType4",{enumerable:!0,get:function(){return t.RequestType4}}),Object.defineProperty(e,"RequestType5",{enumerable:!0,get:function(){return t.RequestType5}}),Object.defineProperty(e,"RequestType6",{enumerable:!0,get:function(){return t.RequestType6}}),Object.defineProperty(e,"RequestType7",{enumerable:!0,get:function(){return t.RequestType7}}),Object.defineProperty(e,"RequestType8",{enumerable:!0,get:function(){return t.RequestType8}}),Object.defineProperty(e,"RequestType9",{enumerable:!0,get:function(){return t.RequestType9}}),Object.defineProperty(e,"ResponseError",{enumerable:!0,get:function(){return t.ResponseError}}),Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return t.ErrorCodes}}),Object.defineProperty(e,"NotificationType",{enumerable:!0,get:function(){return t.NotificationType}}),Object.defineProperty(e,"NotificationType0",{enumerable:!0,get:function(){return t.NotificationType0}}),Object.defineProperty(e,"NotificationType1",{enumerable:!0,get:function(){return t.NotificationType1}}),Object.defineProperty(e,"NotificationType2",{enumerable:!0,get:function(){return t.NotificationType2}}),Object.defineProperty(e,"NotificationType3",{enumerable:!0,get:function(){return t.NotificationType3}}),Object.defineProperty(e,"NotificationType4",{enumerable:!0,get:function(){return t.NotificationType4}}),Object.defineProperty(e,"NotificationType5",{enumerable:!0,get:function(){return t.NotificationType5}}),Object.defineProperty(e,"NotificationType6",{enumerable:!0,get:function(){return t.NotificationType6}}),Object.defineProperty(e,"NotificationType7",{enumerable:!0,get:function(){return t.NotificationType7}}),Object.defineProperty(e,"NotificationType8",{enumerable:!0,get:function(){return t.NotificationType8}}),Object.defineProperty(e,"NotificationType9",{enumerable:!0,get:function(){return t.NotificationType9}}),Object.defineProperty(e,"ParameterStructures",{enumerable:!0,get:function(){return t.ParameterStructures}});const n=py();Object.defineProperty(e,"LinkedMap",{enumerable:!0,get:function(){return n.LinkedMap}}),Object.defineProperty(e,"LRUCache",{enumerable:!0,get:function(){return n.LRUCache}}),Object.defineProperty(e,"Touch",{enumerable:!0,get:function(){return n.Touch}});const r=Y$();Object.defineProperty(e,"Disposable",{enumerable:!0,get:function(){return r.Disposable}});const i=Aa();Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return i.Event}}),Object.defineProperty(e,"Emitter",{enumerable:!0,get:function(){return i.Emitter}});const s=Id();Object.defineProperty(e,"CancellationTokenSource",{enumerable:!0,get:function(){return s.CancellationTokenSource}}),Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return s.CancellationToken}});const o=G$();Object.defineProperty(e,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return o.SharedArraySenderStrategy}}),Object.defineProperty(e,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return o.SharedArrayReceiverStrategy}});const u=J$();Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return u.MessageReader}}),Object.defineProperty(e,"AbstractMessageReader",{enumerable:!0,get:function(){return u.AbstractMessageReader}}),Object.defineProperty(e,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return u.ReadableStreamMessageReader}});const c=Q$();Object.defineProperty(e,"MessageWriter",{enumerable:!0,get:function(){return c.MessageWriter}}),Object.defineProperty(e,"AbstractMessageWriter",{enumerable:!0,get:function(){return c.AbstractMessageWriter}}),Object.defineProperty(e,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return c.WriteableStreamMessageWriter}});const f=X$();Object.defineProperty(e,"AbstractMessageBuffer",{enumerable:!0,get:function(){return f.AbstractMessageBuffer}});const d=Z$();Object.defineProperty(e,"ConnectionStrategy",{enumerable:!0,get:function(){return d.ConnectionStrategy}}),Object.defineProperty(e,"ConnectionOptions",{enumerable:!0,get:function(){return d.ConnectionOptions}}),Object.defineProperty(e,"NullLogger",{enumerable:!0,get:function(){return d.NullLogger}}),Object.defineProperty(e,"createMessageConnection",{enumerable:!0,get:function(){return d.createMessageConnection}}),Object.defineProperty(e,"ProgressToken",{enumerable:!0,get:function(){return d.ProgressToken}}),Object.defineProperty(e,"ProgressType",{enumerable:!0,get:function(){return d.ProgressType}}),Object.defineProperty(e,"Trace",{enumerable:!0,get:function(){return d.Trace}}),Object.defineProperty(e,"TraceValues",{enumerable:!0,get:function(){return d.TraceValues}}),Object.defineProperty(e,"TraceFormat",{enumerable:!0,get:function(){return d.TraceFormat}}),Object.defineProperty(e,"SetTraceNotification",{enumerable:!0,get:function(){return d.SetTraceNotification}}),Object.defineProperty(e,"LogTraceNotification",{enumerable:!0,get:function(){return d.LogTraceNotification}}),Object.defineProperty(e,"ConnectionErrors",{enumerable:!0,get:function(){return d.ConnectionErrors}}),Object.defineProperty(e,"ConnectionError",{enumerable:!0,get:function(){return d.ConnectionError}}),Object.defineProperty(e,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return d.CancellationReceiverStrategy}}),Object.defineProperty(e,"CancellationSenderStrategy",{enumerable:!0,get:function(){return d.CancellationSenderStrategy}}),Object.defineProperty(e,"CancellationStrategy",{enumerable:!0,get:function(){return d.CancellationStrategy}}),Object.defineProperty(e,"MessageStrategy",{enumerable:!0,get:function(){return d.MessageStrategy}});const h=_s();e.RAL=h.default})(Fd)),Fd}var ky;function eT(){if(ky)return ac;ky=1,Object.defineProperty(ac,"__esModule",{value:!0});const e=Ld();class t extends e.AbstractMessageBuffer{constructor(c="utf-8"){super(c),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return t.emptyBuffer}fromString(c,f){return new TextEncoder().encode(c)}toString(c,f){return f==="ascii"?this.asciiDecoder.decode(c):new TextDecoder(f).decode(c)}asNative(c,f){return f===void 0?c:c.slice(0,f)}allocNative(c){return new Uint8Array(c)}}t.emptyBuffer=new Uint8Array(0);class n{constructor(c){this.socket=c,this._onData=new e.Emitter,this._messageListener=f=>{f.data.arrayBuffer().then(h=>{this._onData.fire(new Uint8Array(h))},()=>{(0,e.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(c){return this.socket.addEventListener("close",c),e.Disposable.create(()=>this.socket.removeEventListener("close",c))}onError(c){return this.socket.addEventListener("error",c),e.Disposable.create(()=>this.socket.removeEventListener("error",c))}onEnd(c){return this.socket.addEventListener("end",c),e.Disposable.create(()=>this.socket.removeEventListener("end",c))}onData(c){return this._onData.event(c)}}class r{constructor(c){this.socket=c}onClose(c){return this.socket.addEventListener("close",c),e.Disposable.create(()=>this.socket.removeEventListener("close",c))}onError(c){return this.socket.addEventListener("error",c),e.Disposable.create(()=>this.socket.removeEventListener("error",c))}onEnd(c){return this.socket.addEventListener("end",c),e.Disposable.create(()=>this.socket.removeEventListener("end",c))}write(c,f){if(typeof c=="string"){if(f!==void 0&&f!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${f}`);this.socket.send(c)}else this.socket.send(c);return Promise.resolve()}end(){this.socket.close()}}const i=new TextEncoder,s=Object.freeze({messageBuffer:Object.freeze({create:u=>new t(u)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(u,c)=>{if(c.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${c.charset}`);return Promise.resolve(i.encode(JSON.stringify(u,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(u,c)=>{if(!(u instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(c.charset).decode(u)))}})}),stream:Object.freeze({asReadableStream:u=>new n(u),asWritableStream:u=>new r(u)}),console,timer:Object.freeze({setTimeout(u,c,...f){const d=setTimeout(u,c,...f);return{dispose:()=>clearTimeout(d)}},setImmediate(u,...c){const f=setTimeout(u,0,...c);return{dispose:()=>clearTimeout(f)}},setInterval(u,c,...f){const d=setInterval(u,c,...f);return{dispose:()=>clearInterval(d)}}})});function o(){return s}return(function(u){function c(){e.RAL.install(s)}u.install=c})(o||(o={})),ac.default=o,ac}var Ay;function Eo(){return Ay||(Ay=1,(function(e){var t=Ds&&Ds.__createBinding||(Object.create?(function(c,f,d,h){h===void 0&&(h=d);var y=Object.getOwnPropertyDescriptor(f,d);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(c,h,y)}):(function(c,f,d,h){h===void 0&&(h=d),c[h]=f[d]})),n=Ds&&Ds.__exportStar||function(c,f){for(var d in c)d!=="default"&&!Object.prototype.hasOwnProperty.call(f,d)&&t(f,c,d)};Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.BrowserMessageWriter=e.BrowserMessageReader=void 0,eT().default.install();const i=Ld();n(Ld(),e);class s extends i.AbstractMessageReader{constructor(f){super(),this._onData=new i.Emitter,this._messageListener=d=>{this._onData.fire(d.data)},f.addEventListener("error",d=>this.fireError(d)),f.onmessage=this._messageListener}listen(f){return this._onData.event(f)}}e.BrowserMessageReader=s;class o extends i.AbstractMessageWriter{constructor(f){super(),this.port=f,this.errorCount=0,f.addEventListener("error",d=>this.fireError(d))}write(f){try{return this.port.postMessage(f),Promise.resolve()}catch(d){return this.handleError(d,f),Promise.reject(d)}}handleError(f,d){this.errorCount++,this.fireError(f,d,this.errorCount)}end(){}}e.BrowserMessageWriter=o;function u(c,f,d,h){return d===void 0&&(d=i.NullLogger),i.ConnectionStrategy.is(h)&&(h={connectionStrategy:h}),(0,i.createMessageConnection)(c,f,d,h)}e.createMessageConnection=u})(Ds)),Ds}var jd,Cy;function Oy(){return Cy||(Cy=1,jd=Eo()),jd}var $s={},qd;(function(e){function t(n){return typeof n=="string"}e.is=t})(qd||(qd={}));var cc;(function(e){function t(n){return typeof n=="string"}e.is=t})(cc||(cc={}));var xd;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(xd||(xd={}));var Pa;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(Pa||(Pa={}));var tn;(function(e){function t(r,i){return r===Number.MAX_VALUE&&(r=Pa.MAX_VALUE),i===Number.MAX_VALUE&&(i=Pa.MAX_VALUE),{line:r,character:i}}e.create=t;function n(r){let i=r;return pe.objectLiteral(i)&&pe.uinteger(i.line)&&pe.uinteger(i.character)}e.is=n})(tn||(tn={}));var Be;(function(e){function t(r,i,s,o){if(pe.uinteger(r)&&pe.uinteger(i)&&pe.uinteger(s)&&pe.uinteger(o))return{start:tn.create(r,i),end:tn.create(s,o)};if(tn.is(r)&&tn.is(i))return{start:r,end:i};throw new Error(`Range#create called with invalid arguments[${r}, ${i}, ${s}, ${o}]`)}e.create=t;function n(r){let i=r;return pe.objectLiteral(i)&&tn.is(i.start)&&tn.is(i.end)}e.is=n})(Be||(Be={}));var Ts;(function(e){function t(r,i){return{uri:r,range:i}}e.create=t;function n(r){let i=r;return pe.objectLiteral(i)&&Be.is(i.range)&&(pe.string(i.uri)||pe.undefined(i.uri))}e.is=n})(Ts||(Ts={}));var lc;(function(e){function t(r,i,s,o){return{targetUri:r,targetRange:i,targetSelectionRange:s,originSelectionRange:o}}e.create=t;function n(r){let i=r;return pe.objectLiteral(i)&&Be.is(i.targetRange)&&pe.string(i.targetUri)&&Be.is(i.targetSelectionRange)&&(Be.is(i.originSelectionRange)||pe.undefined(i.originSelectionRange))}e.is=n})(lc||(lc={}));var fc;(function(e){function t(r,i,s,o){return{red:r,green:i,blue:s,alpha:o}}e.create=t;function n(r){const i=r;return pe.objectLiteral(i)&&pe.numberRange(i.red,0,1)&&pe.numberRange(i.green,0,1)&&pe.numberRange(i.blue,0,1)&&pe.numberRange(i.alpha,0,1)}e.is=n})(fc||(fc={}));var Bd;(function(e){function t(r,i){return{range:r,color:i}}e.create=t;function n(r){const i=r;return pe.objectLiteral(i)&&Be.is(i.range)&&fc.is(i.color)}e.is=n})(Bd||(Bd={}));var Wd;(function(e){function t(r,i,s){return{label:r,textEdit:i,additionalTextEdits:s}}e.create=t;function n(r){const i=r;return pe.objectLiteral(i)&&pe.string(i.label)&&(pe.undefined(i.textEdit)||Pt.is(i))&&(pe.undefined(i.additionalTextEdits)||pe.typedArray(i.additionalTextEdits,Pt.is))}e.is=n})(Wd||(Wd={}));var Ud;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Ud||(Ud={}));var dc;(function(e){function t(r,i,s,o,u,c){const f={startLine:r,endLine:i};return pe.defined(s)&&(f.startCharacter=s),pe.defined(o)&&(f.endCharacter=o),pe.defined(u)&&(f.kind=u),pe.defined(c)&&(f.collapsedText=c),f}e.create=t;function n(r){const i=r;return pe.objectLiteral(i)&&pe.uinteger(i.startLine)&&pe.uinteger(i.startLine)&&(pe.undefined(i.startCharacter)||pe.uinteger(i.startCharacter))&&(pe.undefined(i.endCharacter)||pe.uinteger(i.endCharacter))&&(pe.undefined(i.kind)||pe.string(i.kind))}e.is=n})(dc||(dc={}));var hc;(function(e){function t(r,i){return{location:r,message:i}}e.create=t;function n(r){let i=r;return pe.defined(i)&&Ts.is(i.location)&&pe.string(i.message)}e.is=n})(hc||(hc={}));var Ge;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(Ge||(Ge={}));var pc;(function(e){e.Unnecessary=1,e.Deprecated=2})(pc||(pc={}));var Vd;(function(e){function t(n){const r=n;return pe.objectLiteral(r)&&pe.string(r.href)}e.is=t})(Vd||(Vd={}));var An;(function(e){function t(r,i,s,o,u,c){let f={range:r,message:i};return pe.defined(s)&&(f.severity=s),pe.defined(o)&&(f.code=o),pe.defined(u)&&(f.source=u),pe.defined(c)&&(f.relatedInformation=c),f}e.create=t;function n(r){var i;let s=r;return pe.defined(s)&&Be.is(s.range)&&pe.string(s.message)&&(pe.number(s.severity)||pe.undefined(s.severity))&&(pe.integer(s.code)||pe.string(s.code)||pe.undefined(s.code))&&(pe.undefined(s.codeDescription)||pe.string((i=s.codeDescription)===null||i===void 0?void 0:i.href))&&(pe.string(s.source)||pe.undefined(s.source))&&(pe.undefined(s.relatedInformation)||pe.typedArray(s.relatedInformation,hc.is))}e.is=n})(An||(An={}));var Yi;(function(e){function t(r,i,...s){let o={title:r,command:i};return pe.defined(s)&&s.length>0&&(o.arguments=s),o}e.create=t;function n(r){let i=r;return pe.defined(i)&&pe.string(i.title)&&pe.string(i.command)}e.is=n})(Yi||(Yi={}));var Pt;(function(e){function t(s,o){return{range:s,newText:o}}e.replace=t;function n(s,o){return{range:{start:s,end:s},newText:o}}e.insert=n;function r(s){return{range:s,newText:""}}e.del=r;function i(s){const o=s;return pe.objectLiteral(o)&&pe.string(o.newText)&&Be.is(o.range)}e.is=i})(Pt||(Pt={}));var ks;(function(e){function t(r,i,s){const o={label:r};return i!==void 0&&(o.needsConfirmation=i),s!==void 0&&(o.description=s),o}e.create=t;function n(r){const i=r;return pe.objectLiteral(i)&&pe.string(i.label)&&(pe.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(pe.string(i.description)||i.description===void 0)}e.is=n})(ks||(ks={}));var bn;(function(e){function t(n){const r=n;return pe.string(r)}e.is=t})(bn||(bn={}));var hi;(function(e){function t(s,o,u){return{range:s,newText:o,annotationId:u}}e.replace=t;function n(s,o,u){return{range:{start:s,end:s},newText:o,annotationId:u}}e.insert=n;function r(s,o){return{range:s,newText:"",annotationId:o}}e.del=r;function i(s){const o=s;return Pt.is(o)&&(ks.is(o.annotationId)||bn.is(o.annotationId))}e.is=i})(hi||(hi={}));var Ra;(function(e){function t(r,i){return{textDocument:r,edits:i}}e.create=t;function n(r){let i=r;return pe.defined(i)&&Na.is(i.textDocument)&&Array.isArray(i.edits)}e.is=n})(Ra||(Ra={}));var So;(function(e){function t(r,i,s){let o={kind:"create",uri:r};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(o.options=i),s!==void 0&&(o.annotationId=s),o}e.create=t;function n(r){let i=r;return i&&i.kind==="create"&&pe.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||pe.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||pe.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||bn.is(i.annotationId))}e.is=n})(So||(So={}));var $o;(function(e){function t(r,i,s,o){let u={kind:"rename",oldUri:r,newUri:i};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(u.options=s),o!==void 0&&(u.annotationId=o),u}e.create=t;function n(r){let i=r;return i&&i.kind==="rename"&&pe.string(i.oldUri)&&pe.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||pe.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||pe.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||bn.is(i.annotationId))}e.is=n})($o||($o={}));var To;(function(e){function t(r,i,s){let o={kind:"delete",uri:r};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(o.options=i),s!==void 0&&(o.annotationId=s),o}e.create=t;function n(r){let i=r;return i&&i.kind==="delete"&&pe.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||pe.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||pe.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||bn.is(i.annotationId))}e.is=n})(To||(To={}));var mc;(function(e){function t(n){let r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(i=>pe.string(i.kind)?So.is(i)||$o.is(i)||To.is(i):Ra.is(i)))}e.is=t})(mc||(mc={}));class gc{constructor(t,n){this.edits=t,this.changeAnnotations=n}insert(t,n,r){let i,s;if(r===void 0?i=Pt.insert(t,n):bn.is(r)?(s=r,i=hi.insert(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(r),i=hi.insert(t,n,s)),this.edits.push(i),s!==void 0)return s}replace(t,n,r){let i,s;if(r===void 0?i=Pt.replace(t,n):bn.is(r)?(s=r,i=hi.replace(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(r),i=hi.replace(t,n,s)),this.edits.push(i),s!==void 0)return s}delete(t,n){let r,i;if(n===void 0?r=Pt.del(t):bn.is(n)?(i=n,r=hi.del(t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=hi.del(t,i)),this.edits.push(r),i!==void 0)return i}add(t){this.edits.push(t)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}}class Py{constructor(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(t,n){let r;if(bn.is(t)?r=t:(r=this.nextId(),n=t),this._annotations[r]!==void 0)throw new Error(`Id ${r} is already in use.`);if(n===void 0)throw new Error(`No annotation provided for id ${r}`);return this._annotations[r]=n,this._size++,r}nextId(){return this._counter++,this._counter.toString()}}class tT{constructor(t){this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new Py(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(n=>{if(Ra.is(n)){const r=new gc(n.edits,this._changeAnnotations);this._textEditChanges[n.textDocument.uri]=r}})):t.changes&&Object.keys(t.changes).forEach(n=>{const r=new gc(t.changes[n]);this._textEditChanges[n]=r})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(t){if(Na.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");const n={uri:t.uri,version:t.version};let r=this._textEditChanges[n.uri];if(!r){const i=[],s={textDocument:n,edits:i};this._workspaceEdit.documentChanges.push(s),r=new gc(i,this._changeAnnotations),this._textEditChanges[n.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let n=this._textEditChanges[t];if(!n){let r=[];this._workspaceEdit.changes[t]=r,n=new gc(r),this._textEditChanges[t]=n}return n}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Py,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;ks.is(n)||bn.is(n)?i=n:r=n;let s,o;if(i===void 0?s=So.create(t,r):(o=bn.is(i)?i:this._changeAnnotations.manage(i),s=So.create(t,r,o)),this._workspaceEdit.documentChanges.push(s),o!==void 0)return o}renameFile(t,n,r,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let s;ks.is(r)||bn.is(r)?s=r:i=r;let o,u;if(s===void 0?o=$o.create(t,n,i):(u=bn.is(s)?s:this._changeAnnotations.manage(s),o=$o.create(t,n,i,u)),this._workspaceEdit.documentChanges.push(o),u!==void 0)return u}deleteFile(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;ks.is(n)||bn.is(n)?i=n:r=n;let s,o;if(i===void 0?s=To.create(t,r):(o=bn.is(i)?i:this._changeAnnotations.manage(i),s=To.create(t,r,o)),this._workspaceEdit.documentChanges.push(s),o!==void 0)return o}}var Hd;(function(e){function t(r){return{uri:r}}e.create=t;function n(r){let i=r;return pe.defined(i)&&pe.string(i.uri)}e.is=n})(Hd||(Hd={}));var Kd;(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){let i=r;return pe.defined(i)&&pe.string(i.uri)&&pe.integer(i.version)}e.is=n})(Kd||(Kd={}));var Na;(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){let i=r;return pe.defined(i)&&pe.string(i.uri)&&(i.version===null||pe.integer(i.version))}e.is=n})(Na||(Na={}));var zd;(function(e){function t(r,i,s,o){return{uri:r,languageId:i,version:s,text:o}}e.create=t;function n(r){let i=r;return pe.defined(i)&&pe.string(i.uri)&&pe.string(i.languageId)&&pe.integer(i.version)&&pe.string(i.text)}e.is=n})(zd||(zd={}));var Hr;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(n){const r=n;return r===e.PlainText||r===e.Markdown}e.is=t})(Hr||(Hr={}));var ko;(function(e){function t(n){const r=n;return pe.objectLiteral(n)&&Hr.is(r.kind)&&pe.string(r.value)}e.is=t})(ko||(ko={}));var xn;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(xn||(xn={}));var pn;(function(e){e.PlainText=1,e.Snippet=2})(pn||(pn={}));var Yd;(function(e){e.Deprecated=1})(Yd||(Yd={}));var Gd;(function(e){function t(r,i,s){return{newText:r,insert:i,replace:s}}e.create=t;function n(r){const i=r;return i&&pe.string(i.newText)&&Be.is(i.insert)&&Be.is(i.replace)}e.is=n})(Gd||(Gd={}));var yc;(function(e){e.asIs=1,e.adjustIndentation=2})(yc||(yc={}));var Jd;(function(e){function t(n){const r=n;return r&&(pe.string(r.detail)||r.detail===void 0)&&(pe.string(r.description)||r.description===void 0)}e.is=t})(Jd||(Jd={}));var vc;(function(e){function t(n){return{label:n}}e.create=t})(vc||(vc={}));var bc;(function(e){function t(n,r){return{items:n||[],isIncomplete:!!r}}e.create=t})(bc||(bc={}));var Fa;(function(e){function t(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function n(r){const i=r;return pe.string(i)||pe.objectLiteral(i)&&pe.string(i.language)&&pe.string(i.value)}e.is=n})(Fa||(Fa={}));var Qd;(function(e){function t(n){let r=n;return!!r&&pe.objectLiteral(r)&&(ko.is(r.contents)||Fa.is(r.contents)||pe.typedArray(r.contents,Fa.is))&&(n.range===void 0||Be.is(n.range))}e.is=t})(Qd||(Qd={}));var Xd;(function(e){function t(n,r){return r?{label:n,documentation:r}:{label:n}}e.create=t})(Xd||(Xd={}));var Zd;(function(e){function t(n,r,...i){let s={label:n};return pe.defined(r)&&(s.documentation=r),pe.defined(i)?s.parameters=i:s.parameters=[],s}e.create=t})(Zd||(Zd={}));var eh;(function(e){e.Text=1,e.Read=2,e.Write=3})(eh||(eh={}));var th;(function(e){function t(n,r){let i={range:n};return pe.number(r)&&(i.kind=r),i}e.create=t})(th||(th={}));var Or;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(Or||(Or={}));var nh;(function(e){e.Deprecated=1})(nh||(nh={}));var rh;(function(e){function t(n,r,i,s,o){let u={name:n,kind:r,location:{uri:s,range:i}};return o&&(u.containerName=o),u}e.create=t})(rh||(rh={}));var ih;(function(e){function t(n,r,i,s){return s!==void 0?{name:n,kind:r,location:{uri:i,range:s}}:{name:n,kind:r,location:{uri:i}}}e.create=t})(ih||(ih={}));var sh;(function(e){function t(r,i,s,o,u,c){let f={name:r,detail:i,kind:s,range:o,selectionRange:u};return c!==void 0&&(f.children=c),f}e.create=t;function n(r){let i=r;return i&&pe.string(i.name)&&pe.number(i.kind)&&Be.is(i.range)&&Be.is(i.selectionRange)&&(i.detail===void 0||pe.string(i.detail))&&(i.deprecated===void 0||pe.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}e.is=n})(sh||(sh={}));var Kr;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(Kr||(Kr={}));var Ia;(function(e){e.Invoked=1,e.Automatic=2})(Ia||(Ia={}));var oh;(function(e){function t(r,i,s){let o={diagnostics:r};return i!=null&&(o.only=i),s!=null&&(o.triggerKind=s),o}e.create=t;function n(r){let i=r;return pe.defined(i)&&pe.typedArray(i.diagnostics,An.is)&&(i.only===void 0||pe.typedArray(i.only,pe.string))&&(i.triggerKind===void 0||i.triggerKind===Ia.Invoked||i.triggerKind===Ia.Automatic)}e.is=n})(oh||(oh={}));var Pr;(function(e){function t(r,i,s){let o={title:r},u=!0;return typeof i=="string"?(u=!1,o.kind=i):Yi.is(i)?o.command=i:o.edit=i,u&&s!==void 0&&(o.kind=s),o}e.create=t;function n(r){let i=r;return i&&pe.string(i.title)&&(i.diagnostics===void 0||pe.typedArray(i.diagnostics,An.is))&&(i.kind===void 0||pe.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Yi.is(i.command))&&(i.isPreferred===void 0||pe.boolean(i.isPreferred))&&(i.edit===void 0||mc.is(i.edit))}e.is=n})(Pr||(Pr={}));var Dc;(function(e){function t(r,i){let s={range:r};return pe.defined(i)&&(s.data=i),s}e.create=t;function n(r){let i=r;return pe.defined(i)&&Be.is(i.range)&&(pe.undefined(i.command)||Yi.is(i.command))}e.is=n})(Dc||(Dc={}));var ah;(function(e){function t(r,i){return{tabSize:r,insertSpaces:i}}e.create=t;function n(r){let i=r;return pe.defined(i)&&pe.uinteger(i.tabSize)&&pe.boolean(i.insertSpaces)}e.is=n})(ah||(ah={}));var uh;(function(e){function t(r,i,s){return{range:r,target:i,data:s}}e.create=t;function n(r){let i=r;return pe.defined(i)&&Be.is(i.range)&&(pe.undefined(i.target)||pe.string(i.target))}e.is=n})(uh||(uh={}));var Ma;(function(e){function t(r,i){return{range:r,parent:i}}e.create=t;function n(r){let i=r;return pe.objectLiteral(i)&&Be.is(i.range)&&(i.parent===void 0||e.is(i.parent))}e.is=n})(Ma||(Ma={}));var ch;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(ch||(ch={}));var lh;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(lh||(lh={}));var fh;(function(e){function t(n){const r=n;return pe.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}e.is=t})(fh||(fh={}));var dh;(function(e){function t(r,i){return{range:r,text:i}}e.create=t;function n(r){const i=r;return i!=null&&Be.is(i.range)&&pe.string(i.text)}e.is=n})(dh||(dh={}));var hh;(function(e){function t(r,i,s){return{range:r,variableName:i,caseSensitiveLookup:s}}e.create=t;function n(r){const i=r;return i!=null&&Be.is(i.range)&&pe.boolean(i.caseSensitiveLookup)&&(pe.string(i.variableName)||i.variableName===void 0)}e.is=n})(hh||(hh={}));var ph;(function(e){function t(r,i){return{range:r,expression:i}}e.create=t;function n(r){const i=r;return i!=null&&Be.is(i.range)&&(pe.string(i.expression)||i.expression===void 0)}e.is=n})(ph||(ph={}));var mh;(function(e){function t(r,i){return{frameId:r,stoppedLocation:i}}e.create=t;function n(r){const i=r;return pe.defined(i)&&Be.is(r.stoppedLocation)}e.is=n})(mh||(mh={}));var wc;(function(e){e.Type=1,e.Parameter=2;function t(n){return n===1||n===2}e.is=t})(wc||(wc={}));var _c;(function(e){function t(r){return{value:r}}e.create=t;function n(r){const i=r;return pe.objectLiteral(i)&&(i.tooltip===void 0||pe.string(i.tooltip)||ko.is(i.tooltip))&&(i.location===void 0||Ts.is(i.location))&&(i.command===void 0||Yi.is(i.command))}e.is=n})(_c||(_c={}));var gh;(function(e){function t(r,i,s){const o={position:r,label:i};return s!==void 0&&(o.kind=s),o}e.create=t;function n(r){const i=r;return pe.objectLiteral(i)&&tn.is(i.position)&&(pe.string(i.label)||pe.typedArray(i.label,_c.is))&&(i.kind===void 0||wc.is(i.kind))&&i.textEdits===void 0||pe.typedArray(i.textEdits,Pt.is)&&(i.tooltip===void 0||pe.string(i.tooltip)||ko.is(i.tooltip))&&(i.paddingLeft===void 0||pe.boolean(i.paddingLeft))&&(i.paddingRight===void 0||pe.boolean(i.paddingRight))}e.is=n})(gh||(gh={}));var yh;(function(e){function t(n){return{kind:"snippet",value:n}}e.createSnippet=t})(yh||(yh={}));var vh;(function(e){function t(n,r,i,s){return{insertText:n,filterText:r,range:i,command:s}}e.create=t})(vh||(vh={}));var bh;(function(e){function t(n){return{items:n}}e.create=t})(bh||(bh={}));var Dh;(function(e){e.Invoked=0,e.Automatic=1})(Dh||(Dh={}));var wh;(function(e){function t(n,r){return{range:n,text:r}}e.create=t})(wh||(wh={}));var _h;(function(e){function t(n,r){return{triggerKind:n,selectedCompletionInfo:r}}e.create=t})(_h||(_h={}));var Eh;(function(e){function t(n){const r=n;return pe.objectLiteral(r)&&cc.is(r.uri)&&pe.string(r.name)}e.is=t})(Eh||(Eh={}));const nT=[`
`,`\r
`,"\r"];var Sh;(function(e){function t(s,o,u,c){return new rT(s,o,u,c)}e.create=t;function n(s){let o=s;return!!(pe.defined(o)&&pe.string(o.uri)&&(pe.undefined(o.languageId)||pe.string(o.languageId))&&pe.uinteger(o.lineCount)&&pe.func(o.getText)&&pe.func(o.positionAt)&&pe.func(o.offsetAt))}e.is=n;function r(s,o){let u=s.getText(),c=i(o,(d,h)=>{let y=d.range.start.line-h.range.start.line;return y===0?d.range.start.character-h.range.start.character:y}),f=u.length;for(let d=c.length-1;d>=0;d--){let h=c[d],y=s.offsetAt(h.range.start),w=s.offsetAt(h.range.end);if(w<=f)u=u.substring(0,y)+h.newText+u.substring(w,u.length);else throw new Error("Overlapping edit");f=y}return u}e.applyEdits=r;function i(s,o){if(s.length<=1)return s;const u=s.length/2|0,c=s.slice(0,u),f=s.slice(u);i(c,o),i(f,o);let d=0,h=0,y=0;for(;d<c.length&&h<f.length;)o(c[d],f[h])<=0?s[y++]=c[d++]:s[y++]=f[h++];for(;d<c.length;)s[y++]=c[d++];for(;h<f.length;)s[y++]=f[h++];return s}})(Sh||(Sh={}));let rT=class{constructor(t,n,r,i){this._uri=t,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let n=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content}update(t,n){this._content=t.text,this._version=n,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],n=this._content,r=!0;for(let i=0;i<n.length;i++){r&&(t.push(i),r=!1);let s=n.charAt(i);r=s==="\r"||s===`
`,s==="\r"&&i+1<n.length&&n.charAt(i+1)===`
`&&i++}r&&n.length>0&&t.push(n.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return tn.create(0,t);for(;r<i;){let o=Math.floor((r+i)/2);n[o]>t?i=o:r=o+1}let s=r-1;return tn.create(s,t-n[s])}offsetAt(t){let n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;let r=n[t.line],i=t.line+1<n.length?n[t.line+1]:this._content.length;return Math.max(Math.min(r+t.character,i),r)}get lineCount(){return this.getLineOffsets().length}};var pe;(function(e){const t=Object.prototype.toString;function n(w){return typeof w<"u"}e.defined=n;function r(w){return typeof w>"u"}e.undefined=r;function i(w){return w===!0||w===!1}e.boolean=i;function s(w){return t.call(w)==="[object String]"}e.string=s;function o(w){return t.call(w)==="[object Number]"}e.number=o;function u(w,k,$){return t.call(w)==="[object Number]"&&k<=w&&w<=$}e.numberRange=u;function c(w){return t.call(w)==="[object Number]"&&-2147483648<=w&&w<=2147483647}e.integer=c;function f(w){return t.call(w)==="[object Number]"&&0<=w&&w<=2147483647}e.uinteger=f;function d(w){return t.call(w)==="[object Function]"}e.func=d;function h(w){return w!==null&&typeof w=="object"}e.objectLiteral=h;function y(w,k){return Array.isArray(w)&&w.every(k)}e.typedArray=y})(pe||(pe={}));var iT=Object.freeze({__proto__:null,get AnnotatedTextEdit(){return hi},get ChangeAnnotation(){return ks},get ChangeAnnotationIdentifier(){return bn},get CodeAction(){return Pr},get CodeActionContext(){return oh},get CodeActionKind(){return Kr},get CodeActionTriggerKind(){return Ia},get CodeDescription(){return Vd},get CodeLens(){return Dc},get Color(){return fc},get ColorInformation(){return Bd},get ColorPresentation(){return Wd},get Command(){return Yi},get CompletionItem(){return vc},get CompletionItemKind(){return xn},get CompletionItemLabelDetails(){return Jd},get CompletionItemTag(){return Yd},get CompletionList(){return bc},get CreateFile(){return So},get DeleteFile(){return To},get Diagnostic(){return An},get DiagnosticRelatedInformation(){return hc},get DiagnosticSeverity(){return Ge},get DiagnosticTag(){return pc},get DocumentHighlight(){return th},get DocumentHighlightKind(){return eh},get DocumentLink(){return uh},get DocumentSymbol(){return sh},get DocumentUri(){return qd},EOL:nT,get FoldingRange(){return dc},get FoldingRangeKind(){return Ud},get FormattingOptions(){return ah},get Hover(){return Qd},get InlayHint(){return gh},get InlayHintKind(){return wc},get InlayHintLabelPart(){return _c},get InlineCompletionContext(){return _h},get InlineCompletionItem(){return vh},get InlineCompletionList(){return bh},get InlineCompletionTriggerKind(){return Dh},get InlineValueContext(){return mh},get InlineValueEvaluatableExpression(){return ph},get InlineValueText(){return dh},get InlineValueVariableLookup(){return hh},get InsertReplaceEdit(){return Gd},get InsertTextFormat(){return pn},get InsertTextMode(){return yc},get Location(){return Ts},get LocationLink(){return lc},get MarkedString(){return Fa},get MarkupContent(){return ko},get MarkupKind(){return Hr},get OptionalVersionedTextDocumentIdentifier(){return Na},get ParameterInformation(){return Xd},get Position(){return tn},get Range(){return Be},get RenameFile(){return $o},get SelectedCompletionInfo(){return wh},get SelectionRange(){return Ma},get SemanticTokenModifiers(){return lh},get SemanticTokenTypes(){return ch},get SemanticTokens(){return fh},get SignatureInformation(){return Zd},get StringValue(){return yh},get SymbolInformation(){return rh},get SymbolKind(){return Or},get SymbolTag(){return nh},get TextDocument(){return Sh},get TextDocumentEdit(){return Ra},get TextDocumentIdentifier(){return Hd},get TextDocumentItem(){return zd},get TextEdit(){return Pt},get URI(){return cc},get VersionedTextDocumentIdentifier(){return Kd},WorkspaceChange:tT,get WorkspaceEdit(){return mc},get WorkspaceFolder(){return Eh},get WorkspaceSymbol(){return ih},get integer(){return xd},get uinteger(){return Pa}}),$h=_o(iT),Cn={},Ry;function Vt(){if(Ry)return Cn;Ry=1,Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.ProtocolNotificationType=Cn.ProtocolNotificationType0=Cn.ProtocolRequestType=Cn.ProtocolRequestType0=Cn.RegistrationType=Cn.MessageDirection=void 0;const e=Eo();var t;(function(u){u.clientToServer="clientToServer",u.serverToClient="serverToClient",u.both="both"})(t||(Cn.MessageDirection=t={}));class n{constructor(c){this.method=c}}Cn.RegistrationType=n;class r extends e.RequestType0{constructor(c){super(c)}}Cn.ProtocolRequestType0=r;class i extends e.RequestType{constructor(c){super(c,e.ParameterStructures.byName)}}Cn.ProtocolRequestType=i;class s extends e.NotificationType0{constructor(c){super(c)}}Cn.ProtocolNotificationType0=s;class o extends e.NotificationType{constructor(c){super(c,e.ParameterStructures.byName)}}return Cn.ProtocolNotificationType=o,Cn}var Th={},nn={},Ny;function kh(){if(Ny)return nn;Ny=1,Object.defineProperty(nn,"__esModule",{value:!0}),nn.objectLiteral=nn.typedArray=nn.stringArray=nn.array=nn.func=nn.error=nn.number=nn.string=nn.boolean=void 0;function e(f){return f===!0||f===!1}nn.boolean=e;function t(f){return typeof f=="string"||f instanceof String}nn.string=t;function n(f){return typeof f=="number"||f instanceof Number}nn.number=n;function r(f){return f instanceof Error}nn.error=r;function i(f){return typeof f=="function"}nn.func=i;function s(f){return Array.isArray(f)}nn.array=s;function o(f){return s(f)&&f.every(d=>t(d))}nn.stringArray=o;function u(f,d){return Array.isArray(f)&&f.every(d)}nn.typedArray=u;function c(f){return f!==null&&typeof f=="object"}return nn.objectLiteral=c,nn}var La={},Fy;function sT(){if(Fy)return La;Fy=1,Object.defineProperty(La,"__esModule",{value:!0}),La.ImplementationRequest=void 0;const e=Vt();var t;return(function(n){n.method="textDocument/implementation",n.messageDirection=e.MessageDirection.clientToServer,n.type=new e.ProtocolRequestType(n.method)})(t||(La.ImplementationRequest=t={})),La}var ja={},Iy;function oT(){if(Iy)return ja;Iy=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.TypeDefinitionRequest=void 0;const e=Vt();var t;return(function(n){n.method="textDocument/typeDefinition",n.messageDirection=e.MessageDirection.clientToServer,n.type=new e.ProtocolRequestType(n.method)})(t||(ja.TypeDefinitionRequest=t={})),ja}var As={},My;function aT(){if(My)return As;My=1,Object.defineProperty(As,"__esModule",{value:!0}),As.DidChangeWorkspaceFoldersNotification=As.WorkspaceFoldersRequest=void 0;const e=Vt();var t;(function(r){r.method="workspace/workspaceFolders",r.messageDirection=e.MessageDirection.serverToClient,r.type=new e.ProtocolRequestType0(r.method)})(t||(As.WorkspaceFoldersRequest=t={}));var n;return(function(r){r.method="workspace/didChangeWorkspaceFolders",r.messageDirection=e.MessageDirection.clientToServer,r.type=new e.ProtocolNotificationType(r.method)})(n||(As.DidChangeWorkspaceFoldersNotification=n={})),As}var qa={},Ly;function uT(){if(Ly)return qa;Ly=1,Object.defineProperty(qa,"__esModule",{value:!0}),qa.ConfigurationRequest=void 0;const e=Vt();var t;return(function(n){n.method="workspace/configuration",n.messageDirection=e.MessageDirection.serverToClient,n.type=new e.ProtocolRequestType(n.method)})(t||(qa.ConfigurationRequest=t={})),qa}var Cs={},jy;function cT(){if(jy)return Cs;jy=1,Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.ColorPresentationRequest=Cs.DocumentColorRequest=void 0;const e=Vt();var t;(function(r){r.method="textDocument/documentColor",r.messageDirection=e.MessageDirection.clientToServer,r.type=new e.ProtocolRequestType(r.method)})(t||(Cs.DocumentColorRequest=t={}));var n;return(function(r){r.method="textDocument/colorPresentation",r.messageDirection=e.MessageDirection.clientToServer,r.type=new e.ProtocolRequestType(r.method)})(n||(Cs.ColorPresentationRequest=n={})),Cs}var Os={},qy;function lT(){if(qy)return Os;qy=1,Object.defineProperty(Os,"__esModule",{value:!0}),Os.FoldingRangeRefreshRequest=Os.FoldingRangeRequest=void 0;const e=Vt();var t;(function(r){r.method="textDocument/foldingRange",r.messageDirection=e.MessageDirection.clientToServer,r.type=new e.ProtocolRequestType(r.method)})(t||(Os.FoldingRangeRequest=t={}));var n;return(function(r){r.method="workspace/foldingRange/refresh",r.messageDirection=e.MessageDirection.serverToClient,r.type=new e.ProtocolRequestType0(r.method)})(n||(Os.FoldingRangeRefreshRequest=n={})),Os}var xa={},xy;function fT(){if(xy)return xa;xy=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.DeclarationRequest=void 0;const e=Vt();var t;return(function(n){n.method="textDocument/declaration",n.messageDirection=e.MessageDirection.clientToServer,n.type=new e.ProtocolRequestType(n.method)})(t||(xa.DeclarationRequest=t={})),xa}var Ba={},By;function dT(){if(By)return Ba;By=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.SelectionRangeRequest=void 0;const e=Vt();var t;return(function(n){n.method="textDocument/selectionRange",n.messageDirection=e.MessageDirection.clientToServer,n.type=new e.ProtocolRequestType(n.method)})(t||(Ba.SelectionRangeRequest=t={})),Ba}var pi={},Wy;function hT(){if(Wy)return pi;Wy=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.WorkDoneProgressCancelNotification=pi.WorkDoneProgressCreateRequest=pi.WorkDoneProgress=void 0;const e=Eo(),t=Vt();var n;(function(s){s.type=new e.ProgressType;function o(u){return u===s.type}s.is=o})(n||(pi.WorkDoneProgress=n={}));var r;(function(s){s.method="window/workDoneProgress/create",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolRequestType(s.method)})(r||(pi.WorkDoneProgressCreateRequest=r={}));var i;return(function(s){s.method="window/workDoneProgress/cancel",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)})(i||(pi.WorkDoneProgressCancelNotification=i={})),pi}var mi={},Uy;function pT(){if(Uy)return mi;Uy=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.CallHierarchyOutgoingCallsRequest=mi.CallHierarchyIncomingCallsRequest=mi.CallHierarchyPrepareRequest=void 0;const e=Vt();var t;(function(i){i.method="textDocument/prepareCallHierarchy",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)})(t||(mi.CallHierarchyPrepareRequest=t={}));var n;(function(i){i.method="callHierarchy/incomingCalls",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)})(n||(mi.CallHierarchyIncomingCallsRequest=n={}));var r;return(function(i){i.method="callHierarchy/outgoingCalls",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)})(r||(mi.CallHierarchyOutgoingCallsRequest=r={})),mi}var On={},Vy;function mT(){if(Vy)return On;Vy=1,Object.defineProperty(On,"__esModule",{value:!0}),On.SemanticTokensRefreshRequest=On.SemanticTokensRangeRequest=On.SemanticTokensDeltaRequest=On.SemanticTokensRequest=On.SemanticTokensRegistrationType=On.TokenFormat=void 0;const e=Vt();var t;(function(u){u.Relative="relative"})(t||(On.TokenFormat=t={}));var n;(function(u){u.method="textDocument/semanticTokens",u.type=new e.RegistrationType(u.method)})(n||(On.SemanticTokensRegistrationType=n={}));var r;(function(u){u.method="textDocument/semanticTokens/full",u.messageDirection=e.MessageDirection.clientToServer,u.type=new e.ProtocolRequestType(u.method),u.registrationMethod=n.method})(r||(On.SemanticTokensRequest=r={}));var i;(function(u){u.method="textDocument/semanticTokens/full/delta",u.messageDirection=e.MessageDirection.clientToServer,u.type=new e.ProtocolRequestType(u.method),u.registrationMethod=n.method})(i||(On.SemanticTokensDeltaRequest=i={}));var s;(function(u){u.method="textDocument/semanticTokens/range",u.messageDirection=e.MessageDirection.clientToServer,u.type=new e.ProtocolRequestType(u.method),u.registrationMethod=n.method})(s||(On.SemanticTokensRangeRequest=s={}));var o;return(function(u){u.method="workspace/semanticTokens/refresh",u.messageDirection=e.MessageDirection.serverToClient,u.type=new e.ProtocolRequestType0(u.method)})(o||(On.SemanticTokensRefreshRequest=o={})),On}var Wa={},Hy;function gT(){if(Hy)return Wa;Hy=1,Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.ShowDocumentRequest=void 0;const e=Vt();var t;return(function(n){n.method="window/showDocument",n.messageDirection=e.MessageDirection.serverToClient,n.type=new e.ProtocolRequestType(n.method)})(t||(Wa.ShowDocumentRequest=t={})),Wa}var Ua={},Ky;function yT(){if(Ky)return Ua;Ky=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.LinkedEditingRangeRequest=void 0;const e=Vt();var t;return(function(n){n.method="textDocument/linkedEditingRange",n.messageDirection=e.MessageDirection.clientToServer,n.type=new e.ProtocolRequestType(n.method)})(t||(Ua.LinkedEditingRangeRequest=t={})),Ua}var Dn={},zy;function vT(){if(zy)return Dn;zy=1,Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.WillDeleteFilesRequest=Dn.DidDeleteFilesNotification=Dn.DidRenameFilesNotification=Dn.WillRenameFilesRequest=Dn.DidCreateFilesNotification=Dn.WillCreateFilesRequest=Dn.FileOperationPatternKind=void 0;const e=Vt();var t;(function(c){c.file="file",c.folder="folder"})(t||(Dn.FileOperationPatternKind=t={}));var n;(function(c){c.method="workspace/willCreateFiles",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(n||(Dn.WillCreateFilesRequest=n={}));var r;(function(c){c.method="workspace/didCreateFiles",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolNotificationType(c.method)})(r||(Dn.DidCreateFilesNotification=r={}));var i;(function(c){c.method="workspace/willRenameFiles",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(i||(Dn.WillRenameFilesRequest=i={}));var s;(function(c){c.method="workspace/didRenameFiles",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolNotificationType(c.method)})(s||(Dn.DidRenameFilesNotification=s={}));var o;(function(c){c.method="workspace/didDeleteFiles",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolNotificationType(c.method)})(o||(Dn.DidDeleteFilesNotification=o={}));var u;return(function(c){c.method="workspace/willDeleteFiles",c.messageDirection=e.MessageDirection.clientToServer,c.type=new e.ProtocolRequestType(c.method)})(u||(Dn.WillDeleteFilesRequest=u={})),Dn}var gi={},Yy;function bT(){if(Yy)return gi;Yy=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.MonikerRequest=gi.MonikerKind=gi.UniquenessLevel=void 0;const e=Vt();var t;(function(i){i.document="document",i.project="project",i.group="group",i.scheme="scheme",i.global="global"})(t||(gi.UniquenessLevel=t={}));var n;(function(i){i.$import="import",i.$export="export",i.local="local"})(n||(gi.MonikerKind=n={}));var r;return(function(i){i.method="textDocument/moniker",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)})(r||(gi.MonikerRequest=r={})),gi}var yi={},Gy;function DT(){if(Gy)return yi;Gy=1,Object.defineProperty(yi,"__esModule",{value:!0}),yi.TypeHierarchySubtypesRequest=yi.TypeHierarchySupertypesRequest=yi.TypeHierarchyPrepareRequest=void 0;const e=Vt();var t;(function(i){i.method="textDocument/prepareTypeHierarchy",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)})(t||(yi.TypeHierarchyPrepareRequest=t={}));var n;(function(i){i.method="typeHierarchy/supertypes",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)})(n||(yi.TypeHierarchySupertypesRequest=n={}));var r;return(function(i){i.method="typeHierarchy/subtypes",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)})(r||(yi.TypeHierarchySubtypesRequest=r={})),yi}var Ps={},Jy;function wT(){if(Jy)return Ps;Jy=1,Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.InlineValueRefreshRequest=Ps.InlineValueRequest=void 0;const e=Vt();var t;(function(r){r.method="textDocument/inlineValue",r.messageDirection=e.MessageDirection.clientToServer,r.type=new e.ProtocolRequestType(r.method)})(t||(Ps.InlineValueRequest=t={}));var n;return(function(r){r.method="workspace/inlineValue/refresh",r.messageDirection=e.MessageDirection.serverToClient,r.type=new e.ProtocolRequestType0(r.method)})(n||(Ps.InlineValueRefreshRequest=n={})),Ps}var vi={},Qy;function _T(){if(Qy)return vi;Qy=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.InlayHintRefreshRequest=vi.InlayHintResolveRequest=vi.InlayHintRequest=void 0;const e=Vt();var t;(function(i){i.method="textDocument/inlayHint",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)})(t||(vi.InlayHintRequest=t={}));var n;(function(i){i.method="inlayHint/resolve",i.messageDirection=e.MessageDirection.clientToServer,i.type=new e.ProtocolRequestType(i.method)})(n||(vi.InlayHintResolveRequest=n={}));var r;return(function(i){i.method="workspace/inlayHint/refresh",i.messageDirection=e.MessageDirection.serverToClient,i.type=new e.ProtocolRequestType0(i.method)})(r||(vi.InlayHintRefreshRequest=r={})),vi}var Jn={},Xy;function ET(){if(Xy)return Jn;Xy=1,Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.DiagnosticRefreshRequest=Jn.WorkspaceDiagnosticRequest=Jn.DocumentDiagnosticRequest=Jn.DocumentDiagnosticReportKind=Jn.DiagnosticServerCancellationData=void 0;const e=Eo(),t=kh(),n=Vt();var r;(function(c){function f(d){const h=d;return h&&t.boolean(h.retriggerRequest)}c.is=f})(r||(Jn.DiagnosticServerCancellationData=r={}));var i;(function(c){c.Full="full",c.Unchanged="unchanged"})(i||(Jn.DocumentDiagnosticReportKind=i={}));var s;(function(c){c.method="textDocument/diagnostic",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method),c.partialResult=new e.ProgressType})(s||(Jn.DocumentDiagnosticRequest=s={}));var o;(function(c){c.method="workspace/diagnostic",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method),c.partialResult=new e.ProgressType})(o||(Jn.WorkspaceDiagnosticRequest=o={}));var u;return(function(c){c.method="workspace/diagnostic/refresh",c.messageDirection=n.MessageDirection.serverToClient,c.type=new n.ProtocolRequestType0(c.method)})(u||(Jn.DiagnosticRefreshRequest=u={})),Jn}var Ht={},Zy;function ST(){if(Zy)return Ht;Zy=1,Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.DidCloseNotebookDocumentNotification=Ht.DidSaveNotebookDocumentNotification=Ht.DidChangeNotebookDocumentNotification=Ht.NotebookCellArrayChange=Ht.DidOpenNotebookDocumentNotification=Ht.NotebookDocumentSyncRegistrationType=Ht.NotebookDocument=Ht.NotebookCell=Ht.ExecutionSummary=Ht.NotebookCellKind=void 0;const e=$h,t=kh(),n=Vt();var r;(function(w){w.Markup=1,w.Code=2;function k($){return $===1||$===2}w.is=k})(r||(Ht.NotebookCellKind=r={}));var i;(function(w){function k(T,D){const p={executionOrder:T};return(D===!0||D===!1)&&(p.success=D),p}w.create=k;function $(T){const D=T;return t.objectLiteral(D)&&e.uinteger.is(D.executionOrder)&&(D.success===void 0||t.boolean(D.success))}w.is=$;function E(T,D){return T===D?!0:T==null||D===null||D===void 0?!1:T.executionOrder===D.executionOrder&&T.success===D.success}w.equals=E})(i||(Ht.ExecutionSummary=i={}));var s;(function(w){function k(D,p){return{kind:D,document:p}}w.create=k;function $(D){const p=D;return t.objectLiteral(p)&&r.is(p.kind)&&e.DocumentUri.is(p.document)&&(p.metadata===void 0||t.objectLiteral(p.metadata))}w.is=$;function E(D,p){const b=new Set;return D.document!==p.document&&b.add("document"),D.kind!==p.kind&&b.add("kind"),D.executionSummary!==p.executionSummary&&b.add("executionSummary"),(D.metadata!==void 0||p.metadata!==void 0)&&!T(D.metadata,p.metadata)&&b.add("metadata"),(D.executionSummary!==void 0||p.executionSummary!==void 0)&&!i.equals(D.executionSummary,p.executionSummary)&&b.add("executionSummary"),b}w.diff=E;function T(D,p){if(D===p)return!0;if(D==null||p===null||p===void 0||typeof D!=typeof p||typeof D!="object")return!1;const b=Array.isArray(D),m=Array.isArray(p);if(b!==m)return!1;if(b&&m){if(D.length!==p.length)return!1;for(let v=0;v<D.length;v++)if(!T(D[v],p[v]))return!1}if(t.objectLiteral(D)&&t.objectLiteral(p)){const v=Object.keys(D),_=Object.keys(p);if(v.length!==_.length||(v.sort(),_.sort(),!T(v,_)))return!1;for(let P=0;P<v.length;P++){const R=v[P];if(!T(D[R],p[R]))return!1}}return!0}})(s||(Ht.NotebookCell=s={}));var o;(function(w){function k(E,T,D,p){return{uri:E,notebookType:T,version:D,cells:p}}w.create=k;function $(E){const T=E;return t.objectLiteral(T)&&t.string(T.uri)&&e.integer.is(T.version)&&t.typedArray(T.cells,s.is)}w.is=$})(o||(Ht.NotebookDocument=o={}));var u;(function(w){w.method="notebookDocument/sync",w.messageDirection=n.MessageDirection.clientToServer,w.type=new n.RegistrationType(w.method)})(u||(Ht.NotebookDocumentSyncRegistrationType=u={}));var c;(function(w){w.method="notebookDocument/didOpen",w.messageDirection=n.MessageDirection.clientToServer,w.type=new n.ProtocolNotificationType(w.method),w.registrationMethod=u.method})(c||(Ht.DidOpenNotebookDocumentNotification=c={}));var f;(function(w){function k(E){const T=E;return t.objectLiteral(T)&&e.uinteger.is(T.start)&&e.uinteger.is(T.deleteCount)&&(T.cells===void 0||t.typedArray(T.cells,s.is))}w.is=k;function $(E,T,D){const p={start:E,deleteCount:T};return D!==void 0&&(p.cells=D),p}w.create=$})(f||(Ht.NotebookCellArrayChange=f={}));var d;(function(w){w.method="notebookDocument/didChange",w.messageDirection=n.MessageDirection.clientToServer,w.type=new n.ProtocolNotificationType(w.method),w.registrationMethod=u.method})(d||(Ht.DidChangeNotebookDocumentNotification=d={}));var h;(function(w){w.method="notebookDocument/didSave",w.messageDirection=n.MessageDirection.clientToServer,w.type=new n.ProtocolNotificationType(w.method),w.registrationMethod=u.method})(h||(Ht.DidSaveNotebookDocumentNotification=h={}));var y;return(function(w){w.method="notebookDocument/didClose",w.messageDirection=n.MessageDirection.clientToServer,w.type=new n.ProtocolNotificationType(w.method),w.registrationMethod=u.method})(y||(Ht.DidCloseNotebookDocumentNotification=y={})),Ht}var Va={},e0;function $T(){if(e0)return Va;e0=1,Object.defineProperty(Va,"__esModule",{value:!0}),Va.InlineCompletionRequest=void 0;const e=Vt();var t;return(function(n){n.method="textDocument/inlineCompletion",n.messageDirection=e.MessageDirection.clientToServer,n.type=new e.ProtocolRequestType(n.method)})(t||(Va.InlineCompletionRequest=t={})),Va}var t0;function TT(){return t0||(t0=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceSymbolRequest=e.CodeActionResolveRequest=e.CodeActionRequest=e.DocumentSymbolRequest=e.DocumentHighlightRequest=e.ReferencesRequest=e.DefinitionRequest=e.SignatureHelpRequest=e.SignatureHelpTriggerKind=e.HoverRequest=e.CompletionResolveRequest=e.CompletionRequest=e.CompletionTriggerKind=e.PublishDiagnosticsNotification=e.WatchKind=e.RelativePattern=e.FileChangeType=e.DidChangeWatchedFilesNotification=e.WillSaveTextDocumentWaitUntilRequest=e.WillSaveTextDocumentNotification=e.TextDocumentSaveReason=e.DidSaveTextDocumentNotification=e.DidCloseTextDocumentNotification=e.DidChangeTextDocumentNotification=e.TextDocumentContentChangeEvent=e.DidOpenTextDocumentNotification=e.TextDocumentSyncKind=e.TelemetryEventNotification=e.LogMessageNotification=e.ShowMessageRequest=e.ShowMessageNotification=e.MessageType=e.DidChangeConfigurationNotification=e.ExitNotification=e.ShutdownRequest=e.InitializedNotification=e.InitializeErrorCodes=e.InitializeRequest=e.WorkDoneProgressOptions=e.TextDocumentRegistrationOptions=e.StaticRegistrationOptions=e.PositionEncodingKind=e.FailureHandlingKind=e.ResourceOperationKind=e.UnregistrationRequest=e.RegistrationRequest=e.DocumentSelector=e.NotebookCellTextDocumentFilter=e.NotebookDocumentFilter=e.TextDocumentFilter=void 0,e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.WillRenameFilesRequest=e.DidRenameFilesNotification=e.WillCreateFilesRequest=e.DidCreateFilesNotification=e.FileOperationPatternKind=e.LinkedEditingRangeRequest=e.ShowDocumentRequest=e.SemanticTokensRegistrationType=e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.TokenFormat=e.CallHierarchyPrepareRequest=e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=e.SelectionRangeRequest=e.DeclarationRequest=e.FoldingRangeRefreshRequest=e.FoldingRangeRequest=e.ColorPresentationRequest=e.DocumentColorRequest=e.ConfigurationRequest=e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=e.TypeDefinitionRequest=e.ImplementationRequest=e.ApplyWorkspaceEditRequest=e.ExecuteCommandRequest=e.PrepareRenameRequest=e.RenameRequest=e.PrepareSupportDefaultBehavior=e.DocumentOnTypeFormattingRequest=e.DocumentRangesFormattingRequest=e.DocumentRangeFormattingRequest=e.DocumentFormattingRequest=e.DocumentLinkResolveRequest=e.DocumentLinkRequest=e.CodeLensRefreshRequest=e.CodeLensResolveRequest=e.CodeLensRequest=e.WorkspaceSymbolResolveRequest=void 0,e.InlineCompletionRequest=e.DidCloseNotebookDocumentNotification=e.DidSaveNotebookDocumentNotification=e.DidChangeNotebookDocumentNotification=e.NotebookCellArrayChange=e.DidOpenNotebookDocumentNotification=e.NotebookDocumentSyncRegistrationType=e.NotebookDocument=e.NotebookCell=e.ExecutionSummary=e.NotebookCellKind=e.DiagnosticRefreshRequest=e.WorkspaceDiagnosticRequest=e.DocumentDiagnosticRequest=e.DocumentDiagnosticReportKind=e.DiagnosticServerCancellationData=e.InlayHintRefreshRequest=e.InlayHintResolveRequest=e.InlayHintRequest=e.InlineValueRefreshRequest=e.InlineValueRequest=e.TypeHierarchySupertypesRequest=e.TypeHierarchySubtypesRequest=e.TypeHierarchyPrepareRequest=void 0;const t=Vt(),n=$h,r=kh(),i=sT();Object.defineProperty(e,"ImplementationRequest",{enumerable:!0,get:function(){return i.ImplementationRequest}});const s=oT();Object.defineProperty(e,"TypeDefinitionRequest",{enumerable:!0,get:function(){return s.TypeDefinitionRequest}});const o=aT();Object.defineProperty(e,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return o.WorkspaceFoldersRequest}}),Object.defineProperty(e,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return o.DidChangeWorkspaceFoldersNotification}});const u=uT();Object.defineProperty(e,"ConfigurationRequest",{enumerable:!0,get:function(){return u.ConfigurationRequest}});const c=cT();Object.defineProperty(e,"DocumentColorRequest",{enumerable:!0,get:function(){return c.DocumentColorRequest}}),Object.defineProperty(e,"ColorPresentationRequest",{enumerable:!0,get:function(){return c.ColorPresentationRequest}});const f=lT();Object.defineProperty(e,"FoldingRangeRequest",{enumerable:!0,get:function(){return f.FoldingRangeRequest}}),Object.defineProperty(e,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return f.FoldingRangeRefreshRequest}});const d=fT();Object.defineProperty(e,"DeclarationRequest",{enumerable:!0,get:function(){return d.DeclarationRequest}});const h=dT();Object.defineProperty(e,"SelectionRangeRequest",{enumerable:!0,get:function(){return h.SelectionRangeRequest}});const y=hT();Object.defineProperty(e,"WorkDoneProgress",{enumerable:!0,get:function(){return y.WorkDoneProgress}}),Object.defineProperty(e,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return y.WorkDoneProgressCreateRequest}}),Object.defineProperty(e,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return y.WorkDoneProgressCancelNotification}});const w=pT();Object.defineProperty(e,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return w.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(e,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return w.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(e,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return w.CallHierarchyPrepareRequest}});const k=mT();Object.defineProperty(e,"TokenFormat",{enumerable:!0,get:function(){return k.TokenFormat}}),Object.defineProperty(e,"SemanticTokensRequest",{enumerable:!0,get:function(){return k.SemanticTokensRequest}}),Object.defineProperty(e,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return k.SemanticTokensDeltaRequest}}),Object.defineProperty(e,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return k.SemanticTokensRangeRequest}}),Object.defineProperty(e,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return k.SemanticTokensRefreshRequest}}),Object.defineProperty(e,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return k.SemanticTokensRegistrationType}});const $=gT();Object.defineProperty(e,"ShowDocumentRequest",{enumerable:!0,get:function(){return $.ShowDocumentRequest}});const E=yT();Object.defineProperty(e,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return E.LinkedEditingRangeRequest}});const T=vT();Object.defineProperty(e,"FileOperationPatternKind",{enumerable:!0,get:function(){return T.FileOperationPatternKind}}),Object.defineProperty(e,"DidCreateFilesNotification",{enumerable:!0,get:function(){return T.DidCreateFilesNotification}}),Object.defineProperty(e,"WillCreateFilesRequest",{enumerable:!0,get:function(){return T.WillCreateFilesRequest}}),Object.defineProperty(e,"DidRenameFilesNotification",{enumerable:!0,get:function(){return T.DidRenameFilesNotification}}),Object.defineProperty(e,"WillRenameFilesRequest",{enumerable:!0,get:function(){return T.WillRenameFilesRequest}}),Object.defineProperty(e,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return T.DidDeleteFilesNotification}}),Object.defineProperty(e,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return T.WillDeleteFilesRequest}});const D=bT();Object.defineProperty(e,"UniquenessLevel",{enumerable:!0,get:function(){return D.UniquenessLevel}}),Object.defineProperty(e,"MonikerKind",{enumerable:!0,get:function(){return D.MonikerKind}}),Object.defineProperty(e,"MonikerRequest",{enumerable:!0,get:function(){return D.MonikerRequest}});const p=DT();Object.defineProperty(e,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return p.TypeHierarchyPrepareRequest}}),Object.defineProperty(e,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return p.TypeHierarchySubtypesRequest}}),Object.defineProperty(e,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return p.TypeHierarchySupertypesRequest}});const b=wT();Object.defineProperty(e,"InlineValueRequest",{enumerable:!0,get:function(){return b.InlineValueRequest}}),Object.defineProperty(e,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return b.InlineValueRefreshRequest}});const m=_T();Object.defineProperty(e,"InlayHintRequest",{enumerable:!0,get:function(){return m.InlayHintRequest}}),Object.defineProperty(e,"InlayHintResolveRequest",{enumerable:!0,get:function(){return m.InlayHintResolveRequest}}),Object.defineProperty(e,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return m.InlayHintRefreshRequest}});const v=ET();Object.defineProperty(e,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return v.DiagnosticServerCancellationData}}),Object.defineProperty(e,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return v.DocumentDiagnosticReportKind}}),Object.defineProperty(e,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return v.DocumentDiagnosticRequest}}),Object.defineProperty(e,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return v.WorkspaceDiagnosticRequest}}),Object.defineProperty(e,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return v.DiagnosticRefreshRequest}});const _=ST();Object.defineProperty(e,"NotebookCellKind",{enumerable:!0,get:function(){return _.NotebookCellKind}}),Object.defineProperty(e,"ExecutionSummary",{enumerable:!0,get:function(){return _.ExecutionSummary}}),Object.defineProperty(e,"NotebookCell",{enumerable:!0,get:function(){return _.NotebookCell}}),Object.defineProperty(e,"NotebookDocument",{enumerable:!0,get:function(){return _.NotebookDocument}}),Object.defineProperty(e,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return _.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(e,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return _.DidOpenNotebookDocumentNotification}}),Object.defineProperty(e,"NotebookCellArrayChange",{enumerable:!0,get:function(){return _.NotebookCellArrayChange}}),Object.defineProperty(e,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return _.DidChangeNotebookDocumentNotification}}),Object.defineProperty(e,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return _.DidSaveNotebookDocumentNotification}}),Object.defineProperty(e,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return _.DidCloseNotebookDocumentNotification}});const P=$T();Object.defineProperty(e,"InlineCompletionRequest",{enumerable:!0,get:function(){return P.InlineCompletionRequest}});var R;(function(G){function Kt(zt){const Ke=zt;return r.string(Ke)||r.string(Ke.language)||r.string(Ke.scheme)||r.string(Ke.pattern)}G.is=Kt})(R||(e.TextDocumentFilter=R={}));var N;(function(G){function Kt(zt){const Ke=zt;return r.objectLiteral(Ke)&&(r.string(Ke.notebookType)||r.string(Ke.scheme)||r.string(Ke.pattern))}G.is=Kt})(N||(e.NotebookDocumentFilter=N={}));var F;(function(G){function Kt(zt){const Ke=zt;return r.objectLiteral(Ke)&&(r.string(Ke.notebook)||N.is(Ke.notebook))&&(Ke.language===void 0||r.string(Ke.language))}G.is=Kt})(F||(e.NotebookCellTextDocumentFilter=F={}));var j;(function(G){function Kt(zt){if(!Array.isArray(zt))return!1;for(let Ke of zt)if(!r.string(Ke)&&!R.is(Ke)&&!F.is(Ke))return!1;return!0}G.is=Kt})(j||(e.DocumentSelector=j={}));var I;(function(G){G.method="client/registerCapability",G.messageDirection=t.MessageDirection.serverToClient,G.type=new t.ProtocolRequestType(G.method)})(I||(e.RegistrationRequest=I={}));var X;(function(G){G.method="client/unregisterCapability",G.messageDirection=t.MessageDirection.serverToClient,G.type=new t.ProtocolRequestType(G.method)})(X||(e.UnregistrationRequest=X={}));var oe;(function(G){G.Create="create",G.Rename="rename",G.Delete="delete"})(oe||(e.ResourceOperationKind=oe={}));var ue;(function(G){G.Abort="abort",G.Transactional="transactional",G.TextOnlyTransactional="textOnlyTransactional",G.Undo="undo"})(ue||(e.FailureHandlingKind=ue={}));var he;(function(G){G.UTF8="utf-8",G.UTF16="utf-16",G.UTF32="utf-32"})(he||(e.PositionEncodingKind=he={}));var $e;(function(G){function Kt(zt){const Ke=zt;return Ke&&r.string(Ke.id)&&Ke.id.length>0}G.hasId=Kt})($e||(e.StaticRegistrationOptions=$e={}));var We;(function(G){function Kt(zt){const Ke=zt;return Ke&&(Ke.documentSelector===null||j.is(Ke.documentSelector))}G.is=Kt})(We||(e.TextDocumentRegistrationOptions=We={}));var ge;(function(G){function Kt(Ke){const te=Ke;return r.objectLiteral(te)&&(te.workDoneProgress===void 0||r.boolean(te.workDoneProgress))}G.is=Kt;function zt(Ke){const te=Ke;return te&&r.boolean(te.workDoneProgress)}G.hasWorkDoneProgress=zt})(ge||(e.WorkDoneProgressOptions=ge={}));var U;(function(G){G.method="initialize",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(U||(e.InitializeRequest=U={}));var ae;(function(G){G.unknownProtocolVersion=1})(ae||(e.InitializeErrorCodes=ae={}));var re;(function(G){G.method="initialized",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolNotificationType(G.method)})(re||(e.InitializedNotification=re={}));var x;(function(G){G.method="shutdown",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType0(G.method)})(x||(e.ShutdownRequest=x={}));var Q;(function(G){G.method="exit",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolNotificationType0(G.method)})(Q||(e.ExitNotification=Q={}));var fe;(function(G){G.method="workspace/didChangeConfiguration",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolNotificationType(G.method)})(fe||(e.DidChangeConfigurationNotification=fe={}));var Te;(function(G){G.Error=1,G.Warning=2,G.Info=3,G.Log=4,G.Debug=5})(Te||(e.MessageType=Te={}));var ke;(function(G){G.method="window/showMessage",G.messageDirection=t.MessageDirection.serverToClient,G.type=new t.ProtocolNotificationType(G.method)})(ke||(e.ShowMessageNotification=ke={}));var Fe;(function(G){G.method="window/showMessageRequest",G.messageDirection=t.MessageDirection.serverToClient,G.type=new t.ProtocolRequestType(G.method)})(Fe||(e.ShowMessageRequest=Fe={}));var we;(function(G){G.method="window/logMessage",G.messageDirection=t.MessageDirection.serverToClient,G.type=new t.ProtocolNotificationType(G.method)})(we||(e.LogMessageNotification=we={}));var V;(function(G){G.method="telemetry/event",G.messageDirection=t.MessageDirection.serverToClient,G.type=new t.ProtocolNotificationType(G.method)})(V||(e.TelemetryEventNotification=V={}));var J;(function(G){G.None=0,G.Full=1,G.Incremental=2})(J||(e.TextDocumentSyncKind=J={}));var de;(function(G){G.method="textDocument/didOpen",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolNotificationType(G.method)})(de||(e.DidOpenTextDocumentNotification=de={}));var ne;(function(G){function Kt(Ke){let te=Ke;return te!=null&&typeof te.text=="string"&&te.range!==void 0&&(te.rangeLength===void 0||typeof te.rangeLength=="number")}G.isIncremental=Kt;function zt(Ke){let te=Ke;return te!=null&&typeof te.text=="string"&&te.range===void 0&&te.rangeLength===void 0}G.isFull=zt})(ne||(e.TextDocumentContentChangeEvent=ne={}));var Se;(function(G){G.method="textDocument/didChange",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolNotificationType(G.method)})(Se||(e.DidChangeTextDocumentNotification=Se={}));var Ne;(function(G){G.method="textDocument/didClose",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolNotificationType(G.method)})(Ne||(e.DidCloseTextDocumentNotification=Ne={}));var xe;(function(G){G.method="textDocument/didSave",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolNotificationType(G.method)})(xe||(e.DidSaveTextDocumentNotification=xe={}));var Ft;(function(G){G.Manual=1,G.AfterDelay=2,G.FocusOut=3})(Ft||(e.TextDocumentSaveReason=Ft={}));var kt;(function(G){G.method="textDocument/willSave",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolNotificationType(G.method)})(kt||(e.WillSaveTextDocumentNotification=kt={}));var dt;(function(G){G.method="textDocument/willSaveWaitUntil",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(dt||(e.WillSaveTextDocumentWaitUntilRequest=dt={}));var ze;(function(G){G.method="workspace/didChangeWatchedFiles",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolNotificationType(G.method)})(ze||(e.DidChangeWatchedFilesNotification=ze={}));var It;(function(G){G.Created=1,G.Changed=2,G.Deleted=3})(It||(e.FileChangeType=It={}));var At;(function(G){function Kt(zt){const Ke=zt;return r.objectLiteral(Ke)&&(n.URI.is(Ke.baseUri)||n.WorkspaceFolder.is(Ke.baseUri))&&r.string(Ke.pattern)}G.is=Kt})(At||(e.RelativePattern=At={}));var Xt;(function(G){G.Create=1,G.Change=2,G.Delete=4})(Xt||(e.WatchKind=Xt={}));var yt;(function(G){G.method="textDocument/publishDiagnostics",G.messageDirection=t.MessageDirection.serverToClient,G.type=new t.ProtocolNotificationType(G.method)})(yt||(e.PublishDiagnosticsNotification=yt={}));var Y;(function(G){G.Invoked=1,G.TriggerCharacter=2,G.TriggerForIncompleteCompletions=3})(Y||(e.CompletionTriggerKind=Y={}));var B;(function(G){G.method="textDocument/completion",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(B||(e.CompletionRequest=B={}));var q;(function(G){G.method="completionItem/resolve",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(q||(e.CompletionResolveRequest=q={}));var W;(function(G){G.method="textDocument/hover",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(W||(e.HoverRequest=W={}));var C;(function(G){G.Invoked=1,G.TriggerCharacter=2,G.ContentChange=3})(C||(e.SignatureHelpTriggerKind=C={}));var S;(function(G){G.method="textDocument/signatureHelp",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(S||(e.SignatureHelpRequest=S={}));var A;(function(G){G.method="textDocument/definition",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(A||(e.DefinitionRequest=A={}));var M;(function(G){G.method="textDocument/references",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(M||(e.ReferencesRequest=M={}));var z;(function(G){G.method="textDocument/documentHighlight",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(z||(e.DocumentHighlightRequest=z={}));var Z;(function(G){G.method="textDocument/documentSymbol",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(Z||(e.DocumentSymbolRequest=Z={}));var se;(function(G){G.method="textDocument/codeAction",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(se||(e.CodeActionRequest=se={}));var Ee;(function(G){G.method="codeAction/resolve",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(Ee||(e.CodeActionResolveRequest=Ee={}));var je;(function(G){G.method="workspace/symbol",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(je||(e.WorkspaceSymbolRequest=je={}));var Pe;(function(G){G.method="workspaceSymbol/resolve",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(Pe||(e.WorkspaceSymbolResolveRequest=Pe={}));var qe;(function(G){G.method="textDocument/codeLens",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(qe||(e.CodeLensRequest=qe={}));var Ce;(function(G){G.method="codeLens/resolve",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(Ce||(e.CodeLensResolveRequest=Ce={}));var at;(function(G){G.method="workspace/codeLens/refresh",G.messageDirection=t.MessageDirection.serverToClient,G.type=new t.ProtocolRequestType0(G.method)})(at||(e.CodeLensRefreshRequest=at={}));var qt;(function(G){G.method="textDocument/documentLink",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(qt||(e.DocumentLinkRequest=qt={}));var et;(function(G){G.method="documentLink/resolve",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(et||(e.DocumentLinkResolveRequest=et={}));var vt;(function(G){G.method="textDocument/formatting",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(vt||(e.DocumentFormattingRequest=vt={}));var rt;(function(G){G.method="textDocument/rangeFormatting",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(rt||(e.DocumentRangeFormattingRequest=rt={}));var Zt;(function(G){G.method="textDocument/rangesFormatting",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(Zt||(e.DocumentRangesFormattingRequest=Zt={}));var rr;(function(G){G.method="textDocument/onTypeFormatting",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(rr||(e.DocumentOnTypeFormattingRequest=rr={}));var si;(function(G){G.Identifier=1})(si||(e.PrepareSupportDefaultBehavior=si={}));var fa;(function(G){G.method="textDocument/rename",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(fa||(e.RenameRequest=fa={}));var cs;(function(G){G.method="textDocument/prepareRename",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(cs||(e.PrepareRenameRequest=cs={}));var oi;(function(G){G.method="workspace/executeCommand",G.messageDirection=t.MessageDirection.clientToServer,G.type=new t.ProtocolRequestType(G.method)})(oi||(e.ExecuteCommandRequest=oi={}));var Li;(function(G){G.method="workspace/applyEdit",G.messageDirection=t.MessageDirection.serverToClient,G.type=new t.ProtocolRequestType("workspace/applyEdit")})(Li||(e.ApplyWorkspaceEditRequest=Li={}))})(Th)),Th}var Ha={},n0;function kT(){if(n0)return Ha;n0=1,Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.createProtocolConnection=void 0;const e=Eo();function t(n,r,i,s){return e.ConnectionStrategy.is(s)&&(s={connectionStrategy:s}),(0,e.createMessageConnection)(n,r,i,s)}return Ha.createProtocolConnection=t,Ha}var r0;function AT(){return r0||(r0=1,(function(e){var t=$s&&$s.__createBinding||(Object.create?(function(s,o,u,c){c===void 0&&(c=u);var f=Object.getOwnPropertyDescriptor(o,u);(!f||("get"in f?!o.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(s,c,f)}):(function(s,o,u,c){c===void 0&&(c=u),s[c]=o[u]})),n=$s&&$s.__exportStar||function(s,o){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&t(o,s,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.LSPErrorCodes=e.createProtocolConnection=void 0,n(Eo(),e),n($h,e),n(Vt(),e),n(TT(),e);var r=kT();Object.defineProperty(e,"createProtocolConnection",{enumerable:!0,get:function(){return r.createProtocolConnection}});var i;(function(s){s.lspReservedErrorRangeStart=-32899,s.RequestFailed=-32803,s.ServerCancelled=-32802,s.ContentModified=-32801,s.RequestCancelled=-32800,s.lspReservedErrorRangeEnd=-32800})(i||(e.LSPErrorCodes=i={}))})($s)),$s}var i0;function fn(){return i0||(i0=1,(function(e){var t=bs&&bs.__createBinding||(Object.create?(function(s,o,u,c){c===void 0&&(c=u);var f=Object.getOwnPropertyDescriptor(o,u);(!f||("get"in f?!o.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(s,c,f)}):(function(s,o,u,c){c===void 0&&(c=u),s[c]=o[u]})),n=bs&&bs.__exportStar||function(s,o){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&t(o,s,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.createProtocolConnection=void 0;const r=Oy();n(Oy(),e),n(AT(),e);function i(s,o,u,c){return(0,r.createMessageConnection)(s,o,u,c)}e.createProtocolConnection=i})(bs)),bs}var Ah,s0;function o0(){return s0||(s0=1,Ah=fn()),Ah}var zr=o0();function CT(e,t=!1){const n=e.length;let r=0,i="",s=0,o=16,u=0,c=0,f=0,d=0,h=0;function y(p,b){let m=0,v=0;for(;m<p;){let _=e.charCodeAt(r);if(_>=48&&_<=57)v=v*16+_-48;else if(_>=65&&_<=70)v=v*16+_-65+10;else if(_>=97&&_<=102)v=v*16+_-97+10;else break;r++,m++}return m<p&&(v=-1),v}function w(p){r=p,i="",s=0,o=16,h=0}function k(){let p=r;if(e.charCodeAt(r)===48)r++;else for(r++;r<e.length&&Ao(e.charCodeAt(r));)r++;if(r<e.length&&e.charCodeAt(r)===46)if(r++,r<e.length&&Ao(e.charCodeAt(r)))for(r++;r<e.length&&Ao(e.charCodeAt(r));)r++;else return h=3,e.substring(p,r);let b=r;if(r<e.length&&(e.charCodeAt(r)===69||e.charCodeAt(r)===101))if(r++,(r<e.length&&e.charCodeAt(r)===43||e.charCodeAt(r)===45)&&r++,r<e.length&&Ao(e.charCodeAt(r))){for(r++;r<e.length&&Ao(e.charCodeAt(r));)r++;b=r}else h=3;return e.substring(p,b)}function $(){let p="",b=r;for(;;){if(r>=n){p+=e.substring(b,r),h=2;break}const m=e.charCodeAt(r);if(m===34){p+=e.substring(b,r),r++;break}if(m===92){if(p+=e.substring(b,r),r++,r>=n){h=2;break}switch(e.charCodeAt(r++)){case 34:p+='"';break;case 92:p+="\\";break;case 47:p+="/";break;case 98:p+="\b";break;case 102:p+="\f";break;case 110:p+=`
`;break;case 114:p+="\r";break;case 116:p+="	";break;case 117:const _=y(4);_>=0?p+=String.fromCharCode(_):h=4;break;default:h=5}b=r;continue}if(m>=0&&m<=31)if(Ka(m)){p+=e.substring(b,r),h=2;break}else h=6;r++}return p}function E(){if(i="",h=0,s=r,c=u,d=f,r>=n)return s=n,o=17;let p=e.charCodeAt(r);if(Ch(p)){do r++,i+=String.fromCharCode(p),p=e.charCodeAt(r);while(Ch(p));return o=15}if(Ka(p))return r++,i+=String.fromCharCode(p),p===13&&e.charCodeAt(r)===10&&(r++,i+=`
`),u++,f=r,o=14;switch(p){case 123:return r++,o=1;case 125:return r++,o=2;case 91:return r++,o=3;case 93:return r++,o=4;case 58:return r++,o=6;case 44:return r++,o=5;case 34:return r++,i=$(),o=10;case 47:const b=r-1;if(e.charCodeAt(r+1)===47){for(r+=2;r<n&&!Ka(e.charCodeAt(r));)r++;return i=e.substring(b,r),o=12}if(e.charCodeAt(r+1)===42){r+=2;const m=n-1;let v=!1;for(;r<m;){const _=e.charCodeAt(r);if(_===42&&e.charCodeAt(r+1)===47){r+=2,v=!0;break}r++,Ka(_)&&(_===13&&e.charCodeAt(r)===10&&r++,u++,f=r)}return v||(r++,h=1),i=e.substring(b,r),o=13}return i+=String.fromCharCode(p),r++,o=16;case 45:if(i+=String.fromCharCode(p),r++,r===n||!Ao(e.charCodeAt(r)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=k(),o=11;default:for(;r<n&&T(p);)r++,p=e.charCodeAt(r);if(s!==r){switch(i=e.substring(s,r),i){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return i+=String.fromCharCode(p),r++,o=16}}function T(p){if(Ch(p)||Ka(p))return!1;switch(p){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function D(){let p;do p=E();while(p>=12&&p<=15);return p}return{setPosition:w,getPosition:()=>r,scan:t?D:E,getToken:()=>o,getTokenValue:()=>i,getTokenOffset:()=>s,getTokenLength:()=>r-s,getTokenStartLine:()=>c,getTokenStartCharacter:()=>s-d,getTokenError:()=>h}}function Ch(e){return e===32||e===9}function Ka(e){return e===10||e===13}function Ao(e){return e>=48&&e<=57}var a0;(function(e){e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.space=32]="space",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.asterisk=42]="asterisk",e[e.backslash=92]="backslash",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.plus=43]="plus",e[e.slash=47]="slash",e[e.formFeed=12]="formFeed",e[e.tab=9]="tab"})(a0||(a0={})),new Array(20).fill(0).map((e,t)=>" ".repeat(t));const Co=200;new Array(Co).fill(0).map((e,t)=>`
`+" ".repeat(t)),new Array(Co).fill(0).map((e,t)=>"\r"+" ".repeat(t)),new Array(Co).fill(0).map((e,t)=>`\r
`+" ".repeat(t)),new Array(Co).fill(0).map((e,t)=>`
`+"	".repeat(t)),new Array(Co).fill(0).map((e,t)=>"\r"+"	".repeat(t)),new Array(Co).fill(0).map((e,t)=>`\r
`+"	".repeat(t));var Ec;(function(e){e.DEFAULT={allowTrailingComma:!1}})(Ec||(Ec={}));function OT(e,t=[],n=Ec.DEFAULT){let r=null,i=[];const s=[];function o(c){Array.isArray(i)?i.push(c):r!==null&&(i[r]=c)}return PT(e,{onObjectBegin:()=>{const c={};o(c),s.push(i),i=c,r=null},onObjectProperty:c=>{r=c},onObjectEnd:()=>{i=s.pop()},onArrayBegin:()=>{const c=[];o(c),s.push(i),i=c,r=null},onArrayEnd:()=>{i=s.pop()},onLiteralValue:o,onError:(c,f,d)=>{t.push({error:c,offset:f,length:d})}},n),i[0]}function Oh(e){switch(e.type){case"array":return e.children.map(Oh);case"object":const t=Object.create(null);for(let n of e.children){const r=n.children[1];r&&(t[n.children[0].value]=Oh(r))}return t;case"null":case"string":case"number":case"boolean":return e.value;default:return}}function PT(e,t,n=Ec.DEFAULT){const r=CT(e,!1),i=[];let s=0;function o(X){return X?()=>s===0&&X(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function u(X){return X?oe=>s===0&&X(oe,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function c(X){return X?oe=>s===0&&X(oe,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),()=>i.slice()):()=>!0}function f(X){return X?()=>{s>0?s++:X(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),()=>i.slice())===!1&&(s=1)}:()=>!0}function d(X){return X?()=>{s>0&&s--,s===0&&X(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter())}:()=>!0}const h=f(t.onObjectBegin),y=c(t.onObjectProperty),w=d(t.onObjectEnd),k=f(t.onArrayBegin),$=d(t.onArrayEnd),E=c(t.onLiteralValue),T=u(t.onSeparator),D=o(t.onComment),p=u(t.onError),b=n&&n.disallowComments,m=n&&n.allowTrailingComma;function v(){for(;;){const X=r.scan();switch(r.getTokenError()){case 4:_(14);break;case 5:_(15);break;case 3:_(13);break;case 1:b||_(11);break;case 2:_(12);break;case 6:_(16);break}switch(X){case 12:case 13:b?_(10):D();break;case 16:_(1);break;case 15:case 14:break;default:return X}}}function _(X,oe=[],ue=[]){if(p(X),oe.length+ue.length>0){let he=r.getToken();for(;he!==17;){if(oe.indexOf(he)!==-1){v();break}else if(ue.indexOf(he)!==-1)break;he=v()}}}function P(X){const oe=r.getTokenValue();return X?E(oe):(y(oe),i.push(oe)),v(),!0}function R(){switch(r.getToken()){case 11:const X=r.getTokenValue();let oe=Number(X);isNaN(oe)&&(_(2),oe=0),E(oe);break;case 7:E(null);break;case 8:E(!0);break;case 9:E(!1);break;default:return!1}return v(),!0}function N(){return r.getToken()!==10?(_(3,[],[2,5]),!1):(P(!1),r.getToken()===6?(T(":"),v(),I()||_(4,[],[2,5])):_(5,[],[2,5]),i.pop(),!0)}function F(){h(),v();let X=!1;for(;r.getToken()!==2&&r.getToken()!==17;){if(r.getToken()===5){if(X||_(4,[],[]),T(","),v(),r.getToken()===2&&m)break}else X&&_(6,[],[]);N()||_(4,[],[2,5]),X=!0}return w(),r.getToken()!==2?_(7,[2],[]):v(),!0}function j(){k(),v();let X=!0,oe=!1;for(;r.getToken()!==4&&r.getToken()!==17;){if(r.getToken()===5){if(oe||_(4,[],[]),T(","),v(),r.getToken()===4&&m)break}else oe&&_(6,[],[]);X?(i.push(0),X=!1):i[i.length-1]++,I()||_(4,[],[4,5]),oe=!0}return $(),X||i.pop(),r.getToken()!==4?_(8,[4],[]):v(),!0}function I(){switch(r.getToken()){case 3:return j();case 1:return F();case 10:return P(!0);default:return R()}}return v(),r.getToken()===17?n.allowEmptyContent?!0:(_(4,[],[]),!1):I()?(r.getToken()!==17&&_(9,[],[]),!0):(_(4,[],[]),!1)}var u0;(function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",e[e.InvalidCharacter=6]="InvalidCharacter"})(u0||(u0={}));var c0;(function(e){e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.Unknown=16]="Unknown",e[e.EOF=17]="EOF"})(c0||(c0={}));const RT=OT,NT=Oh;var l0;(function(e){e[e.InvalidSymbol=1]="InvalidSymbol",e[e.InvalidNumberFormat=2]="InvalidNumberFormat",e[e.PropertyNameExpected=3]="PropertyNameExpected",e[e.ValueExpected=4]="ValueExpected",e[e.ColonExpected=5]="ColonExpected",e[e.CommaExpected=6]="CommaExpected",e[e.CloseBraceExpected=7]="CloseBraceExpected",e[e.CloseBracketExpected=8]="CloseBracketExpected",e[e.EndOfFileExpected=9]="EndOfFileExpected",e[e.InvalidCommentToken=10]="InvalidCommentToken",e[e.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=12]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",e[e.InvalidUnicode=14]="InvalidUnicode",e[e.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",e[e.InvalidCharacter=16]="InvalidCharacter"})(l0||(l0={}));function FT(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var f0={exports:{}},rn=f0.exports={},Yr,Gr;function Ph(){throw new Error("setTimeout has not been defined")}function Rh(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Yr=setTimeout:Yr=Ph}catch{Yr=Ph}try{typeof clearTimeout=="function"?Gr=clearTimeout:Gr=Rh}catch{Gr=Rh}})();function d0(e){if(Yr===setTimeout)return setTimeout(e,0);if((Yr===Ph||!Yr)&&setTimeout)return Yr=setTimeout,setTimeout(e,0);try{return Yr(e,0)}catch{try{return Yr.call(null,e,0)}catch{return Yr.call(this,e,0)}}}function IT(e){if(Gr===clearTimeout)return clearTimeout(e);if((Gr===Rh||!Gr)&&clearTimeout)return Gr=clearTimeout,clearTimeout(e);try{return Gr(e)}catch{try{return Gr.call(null,e)}catch{return Gr.call(this,e)}}}var bi=[],Oo=!1,Rs,Sc=-1;function MT(){!Oo||!Rs||(Oo=!1,Rs.length?bi=Rs.concat(bi):Sc=-1,bi.length&&h0())}function h0(){if(!Oo){var e=d0(MT);Oo=!0;for(var t=bi.length;t;){for(Rs=bi,bi=[];++Sc<t;)Rs&&Rs[Sc].run();Sc=-1,t=bi.length}Rs=null,Oo=!1,IT(e)}}rn.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];bi.push(new p0(e,t)),bi.length===1&&!Oo&&d0(h0)};function p0(e,t){this.fun=e,this.array=t}p0.prototype.run=function(){this.fun.apply(null,this.array)},rn.title="browser",rn.browser=!0,rn.env={},rn.argv=[],rn.version="",rn.versions={};function Di(){}rn.on=Di,rn.addListener=Di,rn.once=Di,rn.off=Di,rn.removeListener=Di,rn.removeAllListeners=Di,rn.emit=Di,rn.prependListener=Di,rn.prependOnceListener=Di,rn.listeners=function(e){return[]},rn.binding=function(e){throw new Error("process.binding is not supported")},rn.cwd=function(){return"/"},rn.chdir=function(e){throw new Error("process.chdir is not supported")},rn.umask=function(){return 0};var LT=f0.exports;const Ns=FT(LT);var m0;(()=>{var e={470:i=>{function s(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}function o(c,f){for(var d,h="",y=0,w=-1,k=0,$=0;$<=c.length;++$){if($<c.length)d=c.charCodeAt($);else{if(d===47)break;d=47}if(d===47){if(!(w===$-1||k===1))if(w!==$-1&&k===2){if(h.length<2||y!==2||h.charCodeAt(h.length-1)!==46||h.charCodeAt(h.length-2)!==46){if(h.length>2){var E=h.lastIndexOf("/");if(E!==h.length-1){E===-1?(h="",y=0):y=(h=h.slice(0,E)).length-1-h.lastIndexOf("/"),w=$,k=0;continue}}else if(h.length===2||h.length===1){h="",y=0,w=$,k=0;continue}}f&&(h.length>0?h+="/..":h="..",y=2)}else h.length>0?h+="/"+c.slice(w+1,$):h=c.slice(w+1,$),y=$-w-1;w=$,k=0}else d===46&&k!==-1?++k:k=-1}return h}var u={resolve:function(){for(var c,f="",d=!1,h=arguments.length-1;h>=-1&&!d;h--){var y;h>=0?y=arguments[h]:(c===void 0&&(c=Ns.cwd()),y=c),s(y),y.length!==0&&(f=y+"/"+f,d=y.charCodeAt(0)===47)}return f=o(f,!d),d?f.length>0?"/"+f:"/":f.length>0?f:"."},normalize:function(c){if(s(c),c.length===0)return".";var f=c.charCodeAt(0)===47,d=c.charCodeAt(c.length-1)===47;return(c=o(c,!f)).length!==0||f||(c="."),c.length>0&&d&&(c+="/"),f?"/"+c:c},isAbsolute:function(c){return s(c),c.length>0&&c.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var c,f=0;f<arguments.length;++f){var d=arguments[f];s(d),d.length>0&&(c===void 0?c=d:c+="/"+d)}return c===void 0?".":u.normalize(c)},relative:function(c,f){if(s(c),s(f),c===f||(c=u.resolve(c))===(f=u.resolve(f)))return"";for(var d=1;d<c.length&&c.charCodeAt(d)===47;++d);for(var h=c.length,y=h-d,w=1;w<f.length&&f.charCodeAt(w)===47;++w);for(var k=f.length-w,$=y<k?y:k,E=-1,T=0;T<=$;++T){if(T===$){if(k>$){if(f.charCodeAt(w+T)===47)return f.slice(w+T+1);if(T===0)return f.slice(w+T)}else y>$&&(c.charCodeAt(d+T)===47?E=T:T===0&&(E=0));break}var D=c.charCodeAt(d+T);if(D!==f.charCodeAt(w+T))break;D===47&&(E=T)}var p="";for(T=d+E+1;T<=h;++T)T!==h&&c.charCodeAt(T)!==47||(p.length===0?p+="..":p+="/..");return p.length>0?p+f.slice(w+E):(w+=E,f.charCodeAt(w)===47&&++w,f.slice(w))},_makeLong:function(c){return c},dirname:function(c){if(s(c),c.length===0)return".";for(var f=c.charCodeAt(0),d=f===47,h=-1,y=!0,w=c.length-1;w>=1;--w)if((f=c.charCodeAt(w))===47){if(!y){h=w;break}}else y=!1;return h===-1?d?"/":".":d&&h===1?"//":c.slice(0,h)},basename:function(c,f){if(f!==void 0&&typeof f!="string")throw new TypeError('"ext" argument must be a string');s(c);var d,h=0,y=-1,w=!0;if(f!==void 0&&f.length>0&&f.length<=c.length){if(f.length===c.length&&f===c)return"";var k=f.length-1,$=-1;for(d=c.length-1;d>=0;--d){var E=c.charCodeAt(d);if(E===47){if(!w){h=d+1;break}}else $===-1&&(w=!1,$=d+1),k>=0&&(E===f.charCodeAt(k)?--k==-1&&(y=d):(k=-1,y=$))}return h===y?y=$:y===-1&&(y=c.length),c.slice(h,y)}for(d=c.length-1;d>=0;--d)if(c.charCodeAt(d)===47){if(!w){h=d+1;break}}else y===-1&&(w=!1,y=d+1);return y===-1?"":c.slice(h,y)},extname:function(c){s(c);for(var f=-1,d=0,h=-1,y=!0,w=0,k=c.length-1;k>=0;--k){var $=c.charCodeAt(k);if($!==47)h===-1&&(y=!1,h=k+1),$===46?f===-1?f=k:w!==1&&(w=1):f!==-1&&(w=-1);else if(!y){d=k+1;break}}return f===-1||h===-1||w===0||w===1&&f===h-1&&f===d+1?"":c.slice(f,h)},format:function(c){if(c===null||typeof c!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return(function(f,d){var h=d.dir||d.root,y=d.base||(d.name||"")+(d.ext||"");return h?h===d.root?h+y:h+"/"+y:y})(0,c)},parse:function(c){s(c);var f={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return f;var d,h=c.charCodeAt(0),y=h===47;y?(f.root="/",d=1):d=0;for(var w=-1,k=0,$=-1,E=!0,T=c.length-1,D=0;T>=d;--T)if((h=c.charCodeAt(T))!==47)$===-1&&(E=!1,$=T+1),h===46?w===-1?w=T:D!==1&&(D=1):w!==-1&&(D=-1);else if(!E){k=T+1;break}return w===-1||$===-1||D===0||D===1&&w===$-1&&w===k+1?$!==-1&&(f.base=f.name=k===0&&y?c.slice(1,$):c.slice(k,$)):(k===0&&y?(f.name=c.slice(1,w),f.base=c.slice(1,$)):(f.name=c.slice(k,w),f.base=c.slice(k,$)),f.ext=c.slice(w,$)),k>0?f.dir=c.slice(0,k-1):y&&(f.dir="/"),f},sep:"/",delimiter:":",win32:null,posix:null};u.posix=u,i.exports=u}},t={};function n(i){var s=t[i];if(s!==void 0)return s.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.d=(i,s)=>{for(var o in s)n.o(s,o)&&!n.o(i,o)&&Object.defineProperty(i,o,{enumerable:!0,get:s[o]})},n.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{let i;n.r(r),n.d(r,{URI:()=>y,Utils:()=>N}),typeof Ns=="object"?i=Ns.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);const s=/^\w[\w\d+.-]*$/,o=/^\//,u=/^\/\//;function c(F,j){if(!F.scheme&&j)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${F.authority}", path: "${F.path}", query: "${F.query}", fragment: "${F.fragment}"}`);if(F.scheme&&!s.test(F.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(F.path){if(F.authority){if(!o.test(F.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(u.test(F.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}const f="",d="/",h=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class y{constructor(j,I,X,oe,ue,he=!1){lr(this,"scheme");lr(this,"authority");lr(this,"path");lr(this,"query");lr(this,"fragment");typeof j=="object"?(this.scheme=j.scheme||f,this.authority=j.authority||f,this.path=j.path||f,this.query=j.query||f,this.fragment=j.fragment||f):(this.scheme=(function($e,We){return $e||We?$e:"file"})(j,he),this.authority=I||f,this.path=(function($e,We){switch($e){case"https":case"http":case"file":We?We[0]!==d&&(We=d+We):We=d}return We})(this.scheme,X||f),this.query=oe||f,this.fragment=ue||f,c(this,he))}static isUri(j){return j instanceof y||!!j&&typeof j.authority=="string"&&typeof j.fragment=="string"&&typeof j.path=="string"&&typeof j.query=="string"&&typeof j.scheme=="string"&&typeof j.fsPath=="string"&&typeof j.with=="function"&&typeof j.toString=="function"}get fsPath(){return D(this)}with(j){if(!j)return this;let{scheme:I,authority:X,path:oe,query:ue,fragment:he}=j;return I===void 0?I=this.scheme:I===null&&(I=f),X===void 0?X=this.authority:X===null&&(X=f),oe===void 0?oe=this.path:oe===null&&(oe=f),ue===void 0?ue=this.query:ue===null&&(ue=f),he===void 0?he=this.fragment:he===null&&(he=f),I===this.scheme&&X===this.authority&&oe===this.path&&ue===this.query&&he===this.fragment?this:new k(I,X,oe,ue,he)}static parse(j,I=!1){const X=h.exec(j);return X?new k(X[2]||f,v(X[4]||f),v(X[5]||f),v(X[7]||f),v(X[9]||f),I):new k(f,f,f,f,f)}static file(j){let I=f;if(i&&(j=j.replace(/\\/g,d)),j[0]===d&&j[1]===d){const X=j.indexOf(d,2);X===-1?(I=j.substring(2),j=d):(I=j.substring(2,X),j=j.substring(X)||d)}return new k("file",I,j,f,f)}static from(j){const I=new k(j.scheme,j.authority,j.path,j.query,j.fragment);return c(I,!0),I}toString(j=!1){return p(this,j)}toJSON(){return this}static revive(j){if(j){if(j instanceof y)return j;{const I=new k(j);return I._formatted=j.external,I._fsPath=j._sep===w?j.fsPath:null,I}}return j}}const w=i?1:void 0;class k extends y{constructor(){super(...arguments);lr(this,"_formatted",null);lr(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=D(this)),this._fsPath}toString(I=!1){return I?p(this,!0):(this._formatted||(this._formatted=p(this,!1)),this._formatted)}toJSON(){const I={$mid:1};return this._fsPath&&(I.fsPath=this._fsPath,I._sep=w),this._formatted&&(I.external=this._formatted),this.path&&(I.path=this.path),this.scheme&&(I.scheme=this.scheme),this.authority&&(I.authority=this.authority),this.query&&(I.query=this.query),this.fragment&&(I.fragment=this.fragment),I}}const $={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function E(F,j,I){let X,oe=-1;for(let ue=0;ue<F.length;ue++){const he=F.charCodeAt(ue);if(he>=97&&he<=122||he>=65&&he<=90||he>=48&&he<=57||he===45||he===46||he===95||he===126||j&&he===47||I&&he===91||I&&he===93||I&&he===58)oe!==-1&&(X+=encodeURIComponent(F.substring(oe,ue)),oe=-1),X!==void 0&&(X+=F.charAt(ue));else{X===void 0&&(X=F.substr(0,ue));const $e=$[he];$e!==void 0?(oe!==-1&&(X+=encodeURIComponent(F.substring(oe,ue)),oe=-1),X+=$e):oe===-1&&(oe=ue)}}return oe!==-1&&(X+=encodeURIComponent(F.substring(oe))),X!==void 0?X:F}function T(F){let j;for(let I=0;I<F.length;I++){const X=F.charCodeAt(I);X===35||X===63?(j===void 0&&(j=F.substr(0,I)),j+=$[X]):j!==void 0&&(j+=F[I])}return j!==void 0?j:F}function D(F,j){let I;return I=F.authority&&F.path.length>1&&F.scheme==="file"?`//${F.authority}${F.path}`:F.path.charCodeAt(0)===47&&(F.path.charCodeAt(1)>=65&&F.path.charCodeAt(1)<=90||F.path.charCodeAt(1)>=97&&F.path.charCodeAt(1)<=122)&&F.path.charCodeAt(2)===58?F.path[1].toLowerCase()+F.path.substr(2):F.path,i&&(I=I.replace(/\//g,"\\")),I}function p(F,j){const I=j?T:E;let X="",{scheme:oe,authority:ue,path:he,query:$e,fragment:We}=F;if(oe&&(X+=oe,X+=":"),(ue||oe==="file")&&(X+=d,X+=d),ue){let ge=ue.indexOf("@");if(ge!==-1){const U=ue.substr(0,ge);ue=ue.substr(ge+1),ge=U.lastIndexOf(":"),ge===-1?X+=I(U,!1,!1):(X+=I(U.substr(0,ge),!1,!1),X+=":",X+=I(U.substr(ge+1),!1,!0)),X+="@"}ue=ue.toLowerCase(),ge=ue.lastIndexOf(":"),ge===-1?X+=I(ue,!1,!0):(X+=I(ue.substr(0,ge),!1,!0),X+=ue.substr(ge))}if(he){if(he.length>=3&&he.charCodeAt(0)===47&&he.charCodeAt(2)===58){const ge=he.charCodeAt(1);ge>=65&&ge<=90&&(he=`/${String.fromCharCode(ge+32)}:${he.substr(3)}`)}else if(he.length>=2&&he.charCodeAt(1)===58){const ge=he.charCodeAt(0);ge>=65&&ge<=90&&(he=`${String.fromCharCode(ge+32)}:${he.substr(2)}`)}X+=I(he,!0,!1)}return $e&&(X+="?",X+=I($e,!1,!1)),We&&(X+="#",X+=j?We:E(We,!1,!1)),X}function b(F){try{return decodeURIComponent(F)}catch{return F.length>3?F.substr(0,3)+b(F.substr(3)):F}}const m=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function v(F){return F.match(m)?F.replace(m,(j=>b(j))):F}var _=n(470);const P=_.posix||_,R="/";var N;(function(F){F.joinPath=function(j,...I){return j.with({path:P.join(j.path,...I)})},F.resolvePath=function(j,...I){let X=j.path,oe=!1;X[0]!==R&&(X=R+X,oe=!0);let ue=P.resolve(X,...I);return oe&&ue[0]===R&&!j.authority&&(ue=ue.substring(1)),j.with({path:ue})},F.dirname=function(j){if(j.path.length===0||j.path===R)return j;let I=P.dirname(j.path);return I.length===1&&I.charCodeAt(0)===46&&(I=""),j.with({path:I})},F.basename=function(j){return P.basename(j.path)},F.extname=function(j){return P.extname(j.path)}})(N||(N={}))})(),m0=r})();const{URI:Qn,Utils:q8}=m0;function g0(e,t){if(e.length<t.length)return!1;for(var n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0}function Nh(e,t){var n=e.length-t.length;return n>0?e.lastIndexOf(t)===n:n===0?e===t:!1}function jT(e){return g0(e,"(?i)")?new RegExp(e.substring(4),"i"):new RegExp(e)}function Po(e){return typeof e=="boolean"}class za{constructor(t,n,r,i){this._uri=t,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){const n=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content}update(t,n){for(const r of t)if(za.isIncremental(r)){const i=b0(r.range),s=this.offsetAt(i.start),o=this.offsetAt(i.end);this._content=this._content.substring(0,s)+r.text+this._content.substring(o,this._content.length);const u=Math.max(i.start.line,0),c=Math.max(i.end.line,0);let f=this._lineOffsets;const d=y0(r.text,!1,s);if(c-u===d.length)for(let y=0,w=d.length;y<w;y++)f[y+u+1]=d[y];else d.length<1e4?f.splice(u+1,c-u,...d):this._lineOffsets=f=f.slice(0,u+1).concat(d,f.slice(c+1));const h=r.text.length-(o-s);if(h!==0)for(let y=u+1+d.length,w=f.length;y<w;y++)f[y]=f[y]+h}else if(za.isFull(r))this._content=r.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=n}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=y0(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);const n=this.getLineOffsets();let r=0,i=n.length;if(i===0)return{line:0,character:t};for(;r<i;){const o=Math.floor((r+i)/2);n[o]>t?i=o:r=o+1}const s=r-1;return t=this.ensureBeforeEOL(t,n[s]),{line:s,character:t-n[s]}}offsetAt(t){const n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;const r=n[t.line];if(t.character<=0)return r;const i=t.line+1<n.length?n[t.line+1]:this._content.length,s=Math.min(r+t.character,i);return this.ensureBeforeEOL(s,r)}ensureBeforeEOL(t,n){for(;t>n&&v0(this._content.charCodeAt(t-1));)t--;return t}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){const n=t;return n!=null&&typeof n.text=="string"&&n.range!==void 0&&(n.rangeLength===void 0||typeof n.rangeLength=="number")}static isFull(t){const n=t;return n!=null&&typeof n.text=="string"&&n.range===void 0&&n.rangeLength===void 0}}var $c;(function(e){function t(i,s,o,u){return new za(i,s,o,u)}e.create=t;function n(i,s,o){if(i instanceof za)return i.update(s,o),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}e.update=n;function r(i,s){const o=i.getText(),u=Fh(s.map(qT),(d,h)=>{const y=d.range.start.line-h.range.start.line;return y===0?d.range.start.character-h.range.start.character:y});let c=0;const f=[];for(const d of u){const h=i.offsetAt(d.range.start);if(h<c)throw new Error("Overlapping edit");h>c&&f.push(o.substring(c,h)),d.newText.length&&f.push(d.newText),c=i.offsetAt(d.range.end)}return f.push(o.substr(c)),f.join("")}e.applyEdits=r})($c||($c={}));function Fh(e,t){if(e.length<=1)return e;const n=e.length/2|0,r=e.slice(0,n),i=e.slice(n);Fh(r,t),Fh(i,t);let s=0,o=0,u=0;for(;s<r.length&&o<i.length;)t(r[s],i[o])<=0?e[u++]=r[s++]:e[u++]=i[o++];for(;s<r.length;)e[u++]=r[s++];for(;o<i.length;)e[u++]=i[o++];return e}function y0(e,t,n=0){const r=t?[n]:[];for(let i=0;i<e.length;i++){const s=e.charCodeAt(i);v0(s)&&(s===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,r.push(n+i+1))}return r}function v0(e){return e===13||e===10}function b0(e){const t=e.start,n=e.end;return t.line>n.line||t.line===n.line&&t.character>n.character?{start:n,end:t}:e}function qT(e){const t=b0(e.range);return t!==e.range?{newText:e.newText,range:t}:e}var Bn;(function(e){e[e.Undefined=0]="Undefined",e[e.EnumValueMismatch=1]="EnumValueMismatch",e[e.Deprecated=2]="Deprecated",e[e.UnexpectedEndOfComment=257]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=258]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=259]="UnexpectedEndOfNumber",e[e.InvalidUnicode=260]="InvalidUnicode",e[e.InvalidEscapeCharacter=261]="InvalidEscapeCharacter",e[e.InvalidCharacter=262]="InvalidCharacter",e[e.PropertyExpected=513]="PropertyExpected",e[e.CommaExpected=514]="CommaExpected",e[e.ColonExpected=515]="ColonExpected",e[e.ValueExpected=516]="ValueExpected",e[e.CommaOrCloseBacketExpected=517]="CommaOrCloseBacketExpected",e[e.CommaOrCloseBraceExpected=518]="CommaOrCloseBraceExpected",e[e.TrailingComma=519]="TrailingComma",e[e.DuplicateKey=520]="DuplicateKey",e[e.CommentNotPermitted=521]="CommentNotPermitted",e[e.SchemaResolveError=768]="SchemaResolveError"})(Bn||(Bn={}));var D0;(function(e){e.LATEST={textDocument:{completion:{completionItem:{documentationFormat:[Hr.Markdown,Hr.PlainText],commitCharactersSupport:!0}}}}})(D0||(D0={}));var Ya={},Tc={},w0;function _0(){if(w0)return Tc;w0=1,Object.defineProperty(Tc,"__esModule",{value:!0});var e;function t(){if(e===void 0)throw new Error("No runtime abstraction layer installed");return e}return(function(n){function r(i){if(i===void 0)throw new Error("No runtime abstraction layer provided");e=i}n.install=r})(t||(t={})),Tc.default=t,Tc}var Ih={},E0;function S0(){return E0||(E0=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.config=e.loadMessageBundle=e.localize=e.format=e.setPseudo=e.isPseudo=e.isDefined=e.BundleFormat=e.MessageFormat=void 0;var t=_0();(function(f){f.file="file",f.bundle="bundle",f.both="both"})(e.MessageFormat||(e.MessageFormat={})),(function(f){f.standalone="standalone",f.languagePack="languagePack"})(e.BundleFormat||(e.BundleFormat={}));var n;(function(f){function d(h){var y=h;return y&&r(y.key)&&r(y.comment)}f.is=d})(n||(n={}));function r(f){return typeof f<"u"}e.isDefined=r,e.isPseudo=!1;function i(f){e.isPseudo=f}e.setPseudo=i;function s(f,d){var h;return e.isPseudo&&(f="［"+f.replace(/[aouei]/g,"$&$&")+"］"),d.length===0?h=f:h=f.replace(/\{(\d+)\}/g,function(y,w){var k=w[0],$=d[k],E=y;return typeof $=="string"?E=$:(typeof $=="number"||typeof $=="boolean"||$===void 0||$===null)&&(E=String($)),E}),h}e.format=s;function o(f,d){for(var h=[],y=2;y<arguments.length;y++)h[y-2]=arguments[y];return s(d,h)}e.localize=o;function u(f){return(0,t.default)().loadMessageBundle(f)}e.loadMessageBundle=u;function c(f){return(0,t.default)().config(f)}e.config=c})(Ih)),Ih}var $0;function xT(){return $0||($0=1,(function(e){var t=Ya&&Ya.__spreadArray||function(u,c,f){if(f||arguments.length===2)for(var d=0,h=c.length,y;d<h;d++)(y||!(d in c))&&(y||(y=Array.prototype.slice.call(c,0,d)),y[d]=c[d]);return u.concat(y||Array.prototype.slice.call(c))};Object.defineProperty(e,"__esModule",{value:!0}),e.config=e.loadMessageBundle=e.BundleFormat=e.MessageFormat=void 0;var n=_0(),r=S0(),i=S0();Object.defineProperty(e,"MessageFormat",{enumerable:!0,get:function(){return i.MessageFormat}}),Object.defineProperty(e,"BundleFormat",{enumerable:!0,get:function(){return i.BundleFormat}});function s(u){return function(c,f){for(var d=[],h=2;h<arguments.length;h++)d[h-2]=arguments[h];if(typeof c=="number")throw new Error("Browser implementation does currently not support externalized strings.");return r.localize.apply(void 0,t([c,f],d,!1))}}e.loadMessageBundle=s;function o(u){var c;return(0,r.setPseudo)(((c=u==null?void 0:u.locale)===null||c===void 0?void 0:c.toLowerCase())==="pseudo"),s}e.config=o,n.default.install(Object.freeze({loadMessageBundle:s,config:o}))})(Ya)),Ya}var Gi=xT(),Fs=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Ga=Gi.loadMessageBundle();Ga("colorHexFormatWarning","Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA."),Ga("dateTimeFormatWarning","String is not a RFC3339 date-time."),Ga("dateFormatWarning","String is not a RFC3339 date."),Ga("timeFormatWarning","String is not a RFC3339 time."),Ga("emailFormatWarning","String is not an e-mail address.");var Is=(function(){function e(t,n,r){r===void 0&&(r=0),this.offset=n,this.length=r,this.parent=t}return Object.defineProperty(e.prototype,"children",{get:function(){return[]},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"type: "+this.type+" ("+this.offset+"/"+this.length+")"+(this.parent?" parent: {"+this.parent.toString()+"}":"")},e})();(function(e){Fs(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.type="null",i.value=null,i}return t})(Is),(function(e){Fs(t,e);function t(n,r,i){var s=e.call(this,n,i)||this;return s.type="boolean",s.value=r,s}return t})(Is),(function(e){Fs(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.type="array",i.items=[],i}return Object.defineProperty(t.prototype,"children",{get:function(){return this.items},enumerable:!1,configurable:!0}),t})(Is),(function(e){Fs(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.type="number",i.isInteger=!0,i.value=Number.NaN,i}return t})(Is),(function(e){Fs(t,e);function t(n,r,i){var s=e.call(this,n,r,i)||this;return s.type="string",s.value="",s}return t})(Is),(function(e){Fs(t,e);function t(n,r,i){var s=e.call(this,n,r)||this;return s.type="property",s.colonOffset=-1,s.keyNode=i,s}return Object.defineProperty(t.prototype,"children",{get:function(){return this.valueNode?[this.keyNode,this.valueNode]:[this.keyNode]},enumerable:!1,configurable:!0}),t})(Is),(function(e){Fs(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.type="object",i.properties=[],i}return Object.defineProperty(t.prototype,"children",{get:function(){return this.properties},enumerable:!1,configurable:!0}),t})(Is);function BT(e){return Po(e)?e?{}:{not:{}}:e}var T0;(function(e){e[e.Key=0]="Key",e[e.Enum=1]="Enum"})(T0||(T0={})),(function(){function e(){}return Object.defineProperty(e.prototype,"schemas",{get:function(){return[]},enumerable:!1,configurable:!0}),e.prototype.add=function(t){},e.prototype.merge=function(t){},e.prototype.include=function(t){return!0},e.prototype.newSub=function(){return this},e.instance=new e,e})();function kc(e){return NT(e)}function WT(e,t){if(typeof e!="string")throw new TypeError("Expected a string");for(var n=String(e),r="",i=!!t,s=!!t,o=!1,u=t&&typeof t.flags=="string"?t.flags:"",c,f=0,d=n.length;f<d;f++)switch(c=n[f],c){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":r+="\\"+c;break;case"?":if(i){r+=".";break}case"[":case"]":if(i){r+=c;break}case"{":if(i){o=!0,r+="(";break}case"}":if(i){o=!1,r+=")";break}case",":if(o){r+="|";break}r+="\\"+c;break;case"*":for(var h=n[f-1],y=1;n[f+1]==="*";)y++,f++;var w=n[f+1];if(!s)r+=".*";else{var k=y>1&&(h==="/"||h===void 0||h==="{"||h===",")&&(w==="/"||w===void 0||w===","||w==="}");k?(w==="/"?f++:h==="/"&&r.endsWith("\\/")&&(r=r.substr(0,r.length-2)),r+="((?:[^/]*(?:/|$))*)"):r+="([^/]*)"}break;default:r+=c}return(!u||!~u.indexOf("g"))&&(r="^"+r+"$"),new RegExp(r,u)}var Ji=Gi.loadMessageBundle(),UT="!",VT="/",HT=(function(){function e(t,n){this.globWrappers=[];try{for(var r=0,i=t;r<i.length;r++){var s=i[r],o=s[0]!==UT;o||(s=s.substring(1)),s.length>0&&(s[0]===VT&&(s=s.substring(1)),this.globWrappers.push({regexp:WT("**/"+s,{extended:!0,globstar:!0}),include:o}))}this.uris=n}catch{this.globWrappers.length=0,this.uris=[]}}return e.prototype.matchesPattern=function(t){for(var n=!1,r=0,i=this.globWrappers;r<i.length;r++){var s=i[r],o=s.regexp,u=s.include;o.test(t)&&(n=u)}return n},e.prototype.getURIs=function(){return this.uris},e})(),KT=(function(){function e(t,n,r){this.service=t,this.url=n,this.dependencies={},r&&(this.unresolvedSchema=this.service.promise.resolve(new Rr(r)))}return e.prototype.getUnresolvedSchema=function(){return this.unresolvedSchema||(this.unresolvedSchema=this.service.loadSchema(this.url)),this.unresolvedSchema},e.prototype.getResolvedSchema=function(){var t=this;return this.resolvedSchema||(this.resolvedSchema=this.getUnresolvedSchema().then(function(n){return t.service.resolveSchemaContent(n,t.url,t.dependencies)})),this.resolvedSchema},e.prototype.clearSchema=function(){this.resolvedSchema=void 0,this.unresolvedSchema=void 0,this.dependencies={}},e})(),Rr=(function(){function e(t,n){n===void 0&&(n=[]),this.schema=t,this.errors=n}return e})(),Ja=(function(){function e(t,n){n===void 0&&(n=[]),this.schema=t,this.errors=n}return e.prototype.getSection=function(t){var n=this.getSectionRecursive(t,this.schema);if(n)return BT(n)},e.prototype.getSectionRecursive=function(t,n){if(!n||typeof n=="boolean"||t.length===0)return n;var r=t.shift();if(n.properties&&typeof n.properties[r])return this.getSectionRecursive(t,n.properties[r]);if(n.patternProperties)for(var i=0,s=Object.keys(n.patternProperties);i<s.length;i++){var o=s[i],u=jT(o);if(u.test(r))return this.getSectionRecursive(t,n.patternProperties[o])}else{if(typeof n.additionalProperties=="object")return this.getSectionRecursive(t,n.additionalProperties);if(r.match("[0-9]+")){if(Array.isArray(n.items)){var c=parseInt(r,10);if(!isNaN(c)&&n.items[c])return this.getSectionRecursive(t,n.items[c])}else if(n.items)return this.getSectionRecursive(t,n.items)}}},e})(),zT=(function(){function e(t,n,r){this.contextService=n,this.requestService=t,this.promiseConstructor=r||Promise,this.callOnDispose=[],this.contributionSchemas={},this.contributionAssociations=[],this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={}}return e.prototype.getRegisteredSchemaIds=function(t){return Object.keys(this.registeredSchemasIds).filter(function(n){var r=Qn.parse(n).scheme;return r!=="schemaservice"&&(!t||t(r))})},Object.defineProperty(e.prototype,"promise",{get:function(){return this.promiseConstructor},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){for(;this.callOnDispose.length>0;)this.callOnDispose.pop()()},e.prototype.onResourceChange=function(t){var n=this;this.cachedSchemaForResource=void 0;var r=!1;t=Qi(t);for(var i=[t],s=Object.keys(this.schemasById).map(function(f){return n.schemasById[f]});i.length;)for(var o=i.pop(),u=0;u<s.length;u++){var c=s[u];c&&(c.url===o||c.dependencies[o])&&(c.url!==o&&i.push(c.url),c.clearSchema(),s[u]=void 0,r=!0)}return r},e.prototype.setSchemaContributions=function(t){if(t.schemas){var n=t.schemas;for(var r in n){var i=Qi(r);this.contributionSchemas[i]=this.addSchemaHandle(i,n[r])}}if(Array.isArray(t.schemaAssociations))for(var s=t.schemaAssociations,o=0,u=s;o<u.length;o++){var c=u[o],f=c.uris.map(Qi),d=this.addFilePatternAssociation(c.pattern,f);this.contributionAssociations.push(d)}},e.prototype.addSchemaHandle=function(t,n){var r=new KT(this,t,n);return this.schemasById[t]=r,r},e.prototype.getOrAddSchemaHandle=function(t,n){return this.schemasById[t]||this.addSchemaHandle(t,n)},e.prototype.addFilePatternAssociation=function(t,n){var r=new HT(t,n);return this.filePatternAssociations.push(r),r},e.prototype.registerExternalSchema=function(t,n,r){var i=Qi(t);return this.registeredSchemasIds[i]=!0,this.cachedSchemaForResource=void 0,n&&this.addFilePatternAssociation(n,[t]),r?this.addSchemaHandle(i,r):this.getOrAddSchemaHandle(i)},e.prototype.clearExternalSchemas=function(){this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={},this.cachedSchemaForResource=void 0;for(var t in this.contributionSchemas)this.schemasById[t]=this.contributionSchemas[t],this.registeredSchemasIds[t]=!0;for(var n=0,r=this.contributionAssociations;n<r.length;n++){var i=r[n];this.filePatternAssociations.push(i)}},e.prototype.getResolvedSchema=function(t){var n=Qi(t),r=this.schemasById[n];return r?r.getResolvedSchema():this.promise.resolve(void 0)},e.prototype.loadSchema=function(t){if(!this.requestService){var n=Ji("json.schema.norequestservice","Unable to load schema from '{0}'. No schema request service available",Ac(t));return this.promise.resolve(new Rr({},[n]))}return this.requestService(t).then(function(r){if(!r){var i=Ji("json.schema.nocontent","Unable to load schema from '{0}': No content.",Ac(t));return new Rr({},[i])}var s={},o=[];s=RT(r,o);var u=o.length?[Ji("json.schema.invalidFormat","Unable to parse content from '{0}': Parse error at offset {1}.",Ac(t),o[0].offset)]:[];return new Rr(s,u)},function(r){var i=r.toString(),s=r.toString().split("Error: ");return s.length>1&&(i=s[1]),Nh(i,".")&&(i=i.substr(0,i.length-1)),new Rr({},[Ji("json.schema.nocontent","Unable to load schema from '{0}': {1}.",Ac(t),i)])})},e.prototype.resolveSchemaContent=function(t,n,r){var i=this,s=t.errors.slice(0),o=t.schema;if(o.$schema){var u=Qi(o.$schema);if(u==="http://json-schema.org/draft-03/schema")return this.promise.resolve(new Ja({},[Ji("json.schema.draft03.notsupported","Draft-03 schemas are not supported.")]));u==="https://json-schema.org/draft/2019-09/schema"&&s.push(Ji("json.schema.draft201909.notsupported","Draft 2019-09 schemas are not yet fully supported."))}var c=this.contextService,f=function(w,k){if(!k)return w;var $=w;return k[0]==="/"&&(k=k.substr(1)),k.split("/").some(function(E){return E=E.replace(/~1/g,"/").replace(/~0/g,"~"),$=$[E],!$}),$},d=function(w,k,$,E){var T=E?decodeURIComponent(E):void 0,D=f(k,T);if(D)for(var p in D)D.hasOwnProperty(p)&&!w.hasOwnProperty(p)&&(w[p]=D[p]);else s.push(Ji("json.schema.invalidref","$ref '{0}' in '{1}' can not be resolved.",T,$))},h=function(w,k,$,E,T){c&&!/^[A-Za-z][A-Za-z0-9+\-.+]*:\/\/.*/.test(k)&&(k=c.resolveRelativePath(k,E)),k=Qi(k);var D=i.getOrAddSchemaHandle(k);return D.getUnresolvedSchema().then(function(p){if(T[k]=!0,p.errors.length){var b=$?k+"#"+$:k;s.push(Ji("json.schema.problemloadingref","Problems loading reference '{0}': {1}",b,p.errors[0]))}return d(w,p.schema,k,$),y(w,p.schema,k,D.dependencies)})},y=function(w,k,$,E){if(!w||typeof w!="object")return Promise.resolve(null);for(var T=[w],D=[],p=[],b=function(){for(var R=[],N=0;N<arguments.length;N++)R[N]=arguments[N];for(var F=0,j=R;F<j.length;F++){var I=j[F];typeof I=="object"&&T.push(I)}},m=function(){for(var R=[],N=0;N<arguments.length;N++)R[N]=arguments[N];for(var F=0,j=R;F<j.length;F++){var I=j[F];if(typeof I=="object")for(var X in I){var oe=X,ue=I[oe];typeof ue=="object"&&T.push(ue)}}},v=function(){for(var R=[],N=0;N<arguments.length;N++)R[N]=arguments[N];for(var F=0,j=R;F<j.length;F++){var I=j[F];if(Array.isArray(I))for(var X=0,oe=I;X<oe.length;X++){var ue=oe[X];typeof ue=="object"&&T.push(ue)}}},_=function(R){for(var N=[];R.$ref;){var F=R.$ref,j=F.split("#",2);if(delete R.$ref,j[0].length>0){p.push(h(R,j[0],j[1],$,E));return}else N.indexOf(F)===-1&&(d(R,k,$,j[1]),N.push(F))}b(R.items,R.additionalItems,R.additionalProperties,R.not,R.contains,R.propertyNames,R.if,R.then,R.else),m(R.definitions,R.properties,R.patternProperties,R.dependencies),v(R.anyOf,R.allOf,R.oneOf,R.items)};T.length;){var P=T.pop();D.indexOf(P)>=0||(D.push(P),_(P))}return i.promise.all(p)};return y(o,o,n,r).then(function(w){return new Ja(o,s)})},e.prototype.getSchemaForResource=function(t,n){if(n&&n.root&&n.root.type==="object"){var r=n.root.properties.filter(function(T){return T.keyNode.value==="$schema"&&T.valueNode&&T.valueNode.type==="string"});if(r.length>0){var i=r[0].valueNode;if(i&&i.type==="string"){var s=kc(i);if(s&&g0(s,".")&&this.contextService&&(s=this.contextService.resolveRelativePath(s,t)),s){var o=Qi(s);return this.getOrAddSchemaHandle(o).getResolvedSchema()}}}}if(this.cachedSchemaForResource&&this.cachedSchemaForResource.resource===t)return this.cachedSchemaForResource.resolvedSchema;for(var u=Object.create(null),c=[],f=GT(t),d=0,h=this.filePatternAssociations;d<h.length;d++){var y=h[d];if(y.matchesPattern(f))for(var w=0,k=y.getURIs();w<k.length;w++){var $=k[w];u[$]||(c.push($),u[$]=!0)}}var E=c.length>0?this.createCombinedSchema(t,c).getResolvedSchema():this.promise.resolve(void 0);return this.cachedSchemaForResource={resource:t,resolvedSchema:E},E},e.prototype.createCombinedSchema=function(t,n){if(n.length===1)return this.getOrAddSchemaHandle(n[0]);var r="schemaservice://combinedSchema/"+encodeURIComponent(t),i={allOf:n.map(function(s){return{$ref:s}})};return this.addSchemaHandle(r,i)},e.prototype.getMatchingSchemas=function(t,n,r){if(r){var i=r.id||"schemaservice://untitled/matchingSchemas/"+YT++;return this.resolveSchemaContent(new Rr(r),i,{}).then(function(s){return n.getMatchingSchemas(s.schema).filter(function(o){return!o.inverted})})}return this.getSchemaForResource(t.uri,n).then(function(s){return s?n.getMatchingSchemas(s.schema).filter(function(o){return!o.inverted}):[]})},e})(),YT=0;function Qi(e){try{return Qn.parse(e).toString()}catch{return e}}function GT(e){try{return Qn.parse(e).with({fragment:null,query:null}).toString()}catch{return e}}function Ac(e){try{var t=Qn.parse(e);if(t.scheme==="file")return t.fsPath}catch{}return e}function JT(e){return e.replace(/[-\\{}+?|^$.,[\]()#\s]/g,"\\$&").replace(/[*]/g,".*")}function QT(e,t){if(e.length<t)return 0;for(let n=0;n<t;n++){const r=e.charCodeAt(n);if(r!==32&&r!==9)return n}return t}function k0(e){try{return new RegExp(e,"u")}catch{return new RegExp(e)}}function XT(e,t){t++;for(let n=t;n<e.length;n++){const r=e.charAt(n);if(r===" "||r==="	")t++;else return t}return t}const Mh=Symbol.for("yaml.alias"),Lh=Symbol.for("yaml.document"),Xi=Symbol.for("yaml.map"),A0=Symbol.for("yaml.pair"),wi=Symbol.for("yaml.scalar"),Ro=Symbol.for("yaml.seq"),dr=Symbol.for("yaml.node.type"),Jr=e=>!!e&&typeof e=="object"&&e[dr]===Mh,Cc=e=>!!e&&typeof e=="object"&&e[dr]===Lh,Jt=e=>!!e&&typeof e=="object"&&e[dr]===Xi,wt=e=>!!e&&typeof e=="object"&&e[dr]===A0,Je=e=>!!e&&typeof e=="object"&&e[dr]===wi,sn=e=>!!e&&typeof e=="object"&&e[dr]===Ro;function Qt(e){if(e&&typeof e=="object")switch(e[dr]){case Xi:case Ro:return!0}return!1}function $t(e){if(e&&typeof e=="object")switch(e[dr]){case Mh:case Xi:case wi:case Ro:return!0}return!1}const ZT=e=>(Je(e)||Qt(e))&&!!e.anchor;class jh{constructor(t){Object.defineProperty(this,dr,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}}const Ms=Symbol("break visit"),ek=Symbol("skip children"),Qa=Symbol("remove node");function jt(e,t){const n=tk(t);Cc(e)?No(null,e.contents,n,Object.freeze([e]))===Qa&&(e.contents=null):No(null,e,n,Object.freeze([]))}jt.BREAK=Ms,jt.SKIP=ek,jt.REMOVE=Qa;function No(e,t,n,r){const i=nk(e,t,n,r);if($t(i)||wt(i))return rk(e,r,i),No(e,i,n,r);if(typeof i!="symbol"){if(Qt(t)){r=Object.freeze(r.concat(t));for(let s=0;s<t.items.length;++s){const o=No(s,t.items[s],n,r);if(typeof o=="number")s=o-1;else{if(o===Ms)return Ms;o===Qa&&(t.items.splice(s,1),s-=1)}}}else if(wt(t)){r=Object.freeze(r.concat(t));const s=No("key",t.key,n,r);if(s===Ms)return Ms;s===Qa&&(t.key=null);const o=No("value",t.value,n,r);if(o===Ms)return Ms;o===Qa&&(t.value=null)}}return i}function tk(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function nk(e,t,n,r){var i,s,o,u,c;if(typeof n=="function")return n(e,t,r);if(Jt(t))return(i=n.Map)==null?void 0:i.call(n,e,t,r);if(sn(t))return(s=n.Seq)==null?void 0:s.call(n,e,t,r);if(wt(t))return(o=n.Pair)==null?void 0:o.call(n,e,t,r);if(Je(t))return(u=n.Scalar)==null?void 0:u.call(n,e,t,r);if(Jr(t))return(c=n.Alias)==null?void 0:c.call(n,e,t,r)}function rk(e,t,n){const r=t[t.length-1];if(Qt(r))r.items[e]=n;else if(wt(r))e==="key"?r.key=n:r.value=n;else if(Cc(r))r.contents=n;else{const i=Jr(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const ik={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},sk=e=>e.replace(/[!,[\]{}]/g,t=>ik[t]);class Pn{constructor(t,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Pn.defaultYaml,t),this.tags=Object.assign({},Pn.defaultTags,n)}clone(){const t=new Pn(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new Pn(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Pn.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Pn.defaultTags);break}return t}add(t,n){this.atNextDocument&&(this.yaml={explicit:Pn.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Pn.defaultTags),this.atNextDocument=!1);const r=t.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[s,o]=r;return this.tags[s]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[s]=r;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{const o=/^\d+\.\d+$/.test(s);return n(6,`Unsupported YAML version ${s}`,o),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(t,n){if(t==="!")return"!";if(t[0]!=="!")return n(`Not a valid tag: ${t}`),null;if(t[1]==="<"){const o=t.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(t[t.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,r,i]=t.match(/^(.*!)([^!]*)$/);i||n(`The ${t} tag has no suffix`);const s=this.tags[r];return s?s+decodeURIComponent(i):r==="!"?t:(n(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[n,r]of Object.entries(this.tags))if(t.startsWith(r))return n+sk(t.substring(r.length));return t[0]==="!"?t:`!<${t}>`}toString(t){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let i;if(t&&r.length>0&&$t(t.contents)){const s={};jt(t.contents,(o,u)=>{$t(u)&&u.tag&&(s[u.tag]=!0)}),i=Object.keys(s)}else i=[];for(const[s,o]of r)s==="!!"&&o==="tag:yaml.org,2002:"||(!t||i.some(u=>u.startsWith(o)))&&n.push(`%TAG ${s} ${o}`);return n.join(`
`)}}Pn.defaultYaml={explicit:!1,version:"1.2"},Pn.defaultTags={"!!":"tag:yaml.org,2002:"};function C0(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(e)}`;throw new Error(n)}return!0}function O0(e){const t=new Set;return jt(e,{Value(n,r){r.anchor&&t.add(r.anchor)}}),t}function P0(e,t){for(let n=1;;++n){const r=`${e}${n}`;if(!t.has(r))return r}}function ok(e,t){const n=[],r=new Map;let i=null;return{onAnchor:s=>{n.push(s),i||(i=O0(e));const o=P0(t,i);return i.add(o),o},setAnchors:()=>{for(const s of n){const o=r.get(s);if(typeof o=="object"&&o.anchor&&(Je(o.node)||Qt(o.node)))o.node.anchor=o.anchor;else{const u=new Error("Failed to resolve repeated object (this should not happen)");throw u.source=s,u}}},sourceObjects:r}}class qh extends jh{constructor(t){super(Mh),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let n;return jt(t,{Node:(r,i)=>{if(i===this)return jt.BREAK;i.anchor===this.source&&(n=i)}}),n}toJSON(t,n){if(!n)return{source:this.source};const{anchors:r,doc:i,maxAliasCount:s}=n,o=this.resolve(i);if(!o){const c=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(c)}const u=r.get(o);if(!u||u.res===void 0){const c="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(c)}if(s>=0&&(u.count+=1,u.aliasCount===0&&(u.aliasCount=Oc(i,o,r)),u.count*u.aliasCount>s)){const c="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(c)}return u.res}toString(t,n,r){const i=`*${this.source}`;if(t){if(C0(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(t.implicitKey)return`${i} `}return i}}function Oc(e,t,n){if(Jr(t)){const r=t.resolve(e),i=n&&r&&n.get(r);return i?i.count*i.aliasCount:0}else if(Qt(t)){let r=0;for(const i of t.items){const s=Oc(e,i,n);s>r&&(r=s)}return r}else if(wt(t)){const r=Oc(e,t.key,n),i=Oc(e,t.value,n);return Math.max(r,i)}return 1}function Qr(e,t,n){if(Array.isArray(e))return e.map((r,i)=>Qr(r,String(i),n));if(e&&typeof e.toJSON=="function"){if(!n||!ZT(e))return e.toJSON(t,n);const r={aliasCount:0,count:1,res:void 0};n.anchors.set(e,r),n.onCreate=s=>{r.res=s,delete n.onCreate};const i=e.toJSON(t,n);return n.onCreate&&n.onCreate(i),i}return typeof e=="bigint"&&!(n!=null&&n.keep)?Number(e):e}const R0=e=>!e||typeof e!="function"&&typeof e!="object";class tt extends jh{constructor(t){super(wi),this.value=t}toJSON(t,n){return n!=null&&n.keep?this.value:Qr(this.value,t,n)}toString(){return String(this.value)}}tt.BLOCK_FOLDED="BLOCK_FOLDED",tt.BLOCK_LITERAL="BLOCK_LITERAL",tt.PLAIN="PLAIN",tt.QUOTE_DOUBLE="QUOTE_DOUBLE",tt.QUOTE_SINGLE="QUOTE_SINGLE";const ak="tag:yaml.org,2002:";function uk(e,t,n){if(t){const r=n.filter(s=>s.tag===t),i=r.find(s=>!s.format)??r[0];if(!i)throw new Error(`Tag ${t} not found`);return i}return n.find(r=>{var i;return((i=r.identify)==null?void 0:i.call(r,e))&&!r.format})}function Xa(e,t,n){var h,y;if(Cc(e)&&(e=e.contents),$t(e))return e;if(wt(e)){const w=(y=(h=n.schema[Xi]).createNode)==null?void 0:y.call(h,n.schema,null,n);return w.items.push(e),w}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:r,onAnchor:i,onTagObj:s,schema:o,sourceObjects:u}=n;let c;if(r&&e&&typeof e=="object"){if(c=u.get(e),c)return c.anchor||(c.anchor=i(e)),new qh(c.anchor);c={anchor:null,node:null},u.set(e,c)}t!=null&&t.startsWith("!!")&&(t=ak+t.slice(2));let f=uk(e,t,o.tags);if(!f){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){const w=new tt(e);return c&&(c.node=w),w}f=e instanceof Map?o[Xi]:Symbol.iterator in Object(e)?o[Ro]:o[Xi]}s&&(s(f),delete n.onTagObj);const d=f!=null&&f.createNode?f.createNode(n.schema,e,n):new tt(e);return t&&(d.tag=t),c&&(c.node=d),d}function Pc(e,t,n){let r=n;for(let i=t.length-1;i>=0;--i){const s=t[i];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){const o=[];o[s]=r,r=o}else r=new Map([[s,r]])}return Xa(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const Za=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done;class Rc extends jh{constructor(t,n){super(t),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(t){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(n.schema=t),n.items=n.items.map(r=>$t(r)||wt(r)?r.clone(t):r),this.range&&(n.range=this.range.slice()),n}addIn(t,n){if(Za(t))this.add(n);else{const[r,...i]=t,s=this.get(r,!0);if(Qt(s))s.addIn(i,n);else if(s===void 0&&this.schema)this.set(r,Pc(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(t){const[n,...r]=t;if(r.length===0)return this.delete(n);const i=this.get(n,!0);if(Qt(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${r}`)}getIn(t,n){const[r,...i]=t,s=this.get(r,!0);return i.length===0?!n&&Je(s)?s.value:s:Qt(s)?s.getIn(i,n):void 0}hasAllNullValues(t){return this.items.every(n=>{if(!wt(n))return!1;const r=n.value;return r==null||t&&Je(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(t){const[n,...r]=t;if(r.length===0)return this.has(n);const i=this.get(n,!0);return Qt(i)?i.hasIn(r):!1}setIn(t,n){const[r,...i]=t;if(i.length===0)this.set(r,n);else{const s=this.get(r,!0);if(Qt(s))s.setIn(i,n);else if(s===void 0&&this.schema)this.set(r,Pc(this.schema,i,n));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}}Rc.maxFlowStringSingleLineLength=60;const ck=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function _i(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const Zi=(e,t,n)=>e.endsWith(`
`)?_i(n,t):n.includes(`
`)?`
`+_i(n,t):(e.endsWith(" ")?"":" ")+n,N0="flow",xh="block",Nc="quoted";function Fc(e,t,n="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:o,onOverflow:u}={}){if(!i||i<0)return e;const c=Math.max(1+s,1+i-t.length);if(e.length<=c)return e;const f=[],d={};let h=i-t.length;typeof r=="number"&&(r>i-Math.max(2,s)?f.push(0):h=i-r);let y,w,k=!1,$=-1,E=-1,T=-1;n===xh&&($=F0(e,$),$!==-1&&(h=$+c));for(let p;p=e[$+=1];){if(n===Nc&&p==="\\"){switch(E=$,e[$+1]){case"x":$+=3;break;case"u":$+=5;break;case"U":$+=9;break;default:$+=1}T=$}if(p===`
`)n===xh&&($=F0(e,$)),h=$+c,y=void 0;else{if(p===" "&&w&&w!==" "&&w!==`
`&&w!=="	"){const b=e[$+1];b&&b!==" "&&b!==`
`&&b!=="	"&&(y=$)}if($>=h)if(y)f.push(y),h=y+c,y=void 0;else if(n===Nc){for(;w===" "||w==="	";)w=p,p=e[$+=1],k=!0;const b=$>T+1?$-2:E-1;if(d[b])return e;f.push(b),d[b]=!0,h=b+c,y=void 0}else k=!0}w=p}if(k&&u&&u(),f.length===0)return e;o&&o();let D=e.slice(0,f[0]);for(let p=0;p<f.length;++p){const b=f[p],m=f[p+1]||e.length;b===0?D=`
${t}${e.slice(0,m)}`:(n===Nc&&d[b]&&(D+=`${e[b]}\\`),D+=`
${t}${e.slice(b+1,m)}`)}return D}function F0(e,t){let n=e[t+1];for(;n===" "||n==="	";){do n=e[t+=1];while(n&&n!==`
`);n=e[t+1]}return t}const Ic=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),Mc=e=>/^(%|---|\.\.\.)/m.test(e);function lk(e,t,n){if(!t||t<0)return!1;const r=t-n,i=e.length;if(i<=r)return!1;for(let s=0,o=0;s<i;++s)if(e[s]===`
`){if(s-o>r)return!0;if(o=s+1,i-o<=r)return!1}return!0}function eu(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:r}=t,i=t.options.doubleQuotedMinMultiLineLength,s=t.indent||(Mc(e)?"  ":"");let o="",u=0;for(let c=0,f=n[c];f;f=n[++c])if(f===" "&&n[c+1]==="\\"&&n[c+2]==="n"&&(o+=n.slice(u,c)+"\\ ",c+=1,u=c,f="\\"),f==="\\")switch(n[c+1]){case"u":{o+=n.slice(u,c);const d=n.substr(c+2,4);switch(d){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:d.substr(0,2)==="00"?o+="\\x"+d.substr(2):o+=n.substr(c,6)}c+=5,u=c+1}break;case"n":if(r||n[c+2]==='"'||n.length<i)c+=1;else{for(o+=n.slice(u,c)+`

`;n[c+2]==="\\"&&n[c+3]==="n"&&n[c+4]!=='"';)o+=`
`,c+=2;o+=s,n[c+2]===" "&&(o+="\\"),c+=1,u=c+1}break;default:c+=1}return o=u?o+n.slice(u):n,r?o:Fc(o,s,Nc,Ic(t,!1))}function Bh(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes(`
`)||/[ \t]\n|\n[ \t]/.test(e))return eu(e,t);const n=t.indent||(Mc(e)?"  ":""),r="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return t.implicitKey?r:Fc(r,n,N0,Ic(t,!1))}function Fo(e,t){const{singleQuote:n}=t.options;let r;if(n===!1)r=eu;else{const i=e.includes('"'),s=e.includes("'");i&&!s?r=Bh:s&&!i?r=eu:r=n?Bh:eu}return r(e,t)}function Lc({comment:e,type:t,value:n},r,i,s){const{blockQuote:o,commentString:u,lineWidth:c}=r.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Fo(n,r);const f=r.indent||(r.forceBlockIndent||Mc(n)?"  ":""),d=o==="literal"?!0:o==="folded"||t===tt.BLOCK_FOLDED?!1:t===tt.BLOCK_LITERAL?!0:!lk(n,c,f.length);if(!n)return d?`|
`:`>
`;let h,y;for(y=n.length;y>0;--y){const v=n[y-1];if(v!==`
`&&v!=="	"&&v!==" ")break}let w=n.substring(y);const k=w.indexOf(`
`);k===-1?h="-":n===w||k!==w.length-1?(h="+",s&&s()):h="",w&&(n=n.slice(0,-w.length),w[w.length-1]===`
`&&(w=w.slice(0,-1)),w=w.replace(/\n+(?!\n|$)/g,`$&${f}`));let $=!1,E,T=-1;for(E=0;E<n.length;++E){const v=n[E];if(v===" ")$=!0;else if(v===`
`)T=E;else break}let D=n.substring(0,T<E?T+1:E);D&&(n=n.substring(D.length),D=D.replace(/\n+/g,`$&${f}`));let b=(d?"|":">")+($?f?"2":"1":"")+h;if(e&&(b+=" "+u(e.replace(/ ?[\r\n]+/g," ")),i&&i()),d)return n=n.replace(/\n+/g,`$&${f}`),`${b}
${f}${D}${n}${w}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${f}`);const m=Fc(`${D}${n}${w}`,f,xh,Ic(r,!0));return`${b}
${f}${m}`}function fk(e,t,n,r){const{type:i,value:s}=e,{actualString:o,implicitKey:u,indent:c,indentStep:f,inFlow:d}=t;if(u&&/[\n[\]{},]/.test(s)||d&&/[[\]{},]/.test(s))return Fo(s,t);if(!s||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return u||d||!s.includes(`
`)?Fo(s,t):Lc(e,t,n,r);if(!u&&!d&&i!==tt.PLAIN&&s.includes(`
`))return Lc(e,t,n,r);if(Mc(s)){if(c==="")return t.forceBlockIndent=!0,Lc(e,t,n,r);if(u&&c===f)return Fo(s,t)}const h=s.replace(/\n+/g,`$&
${c}`);if(o){const y=$=>{var E;return $.default&&$.tag!=="tag:yaml.org,2002:str"&&((E=$.test)==null?void 0:E.test(h))},{compat:w,tags:k}=t.doc.schema;if(k.some(y)||w!=null&&w.some(y))return Fo(s,t)}return u?h:Fc(h,c,N0,Ic(t,!1))}function Wh(e,t,n,r){const{implicitKey:i,inFlow:s}=t,o=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)});let{type:u}=e;u!==tt.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(u=tt.QUOTE_DOUBLE);const c=d=>{switch(d){case tt.BLOCK_FOLDED:case tt.BLOCK_LITERAL:return i||s?Fo(o.value,t):Lc(o,t,n,r);case tt.QUOTE_DOUBLE:return eu(o.value,t);case tt.QUOTE_SINGLE:return Bh(o.value,t);case tt.PLAIN:return fk(o,t,n,r);default:return null}};let f=c(u);if(f===null){const{defaultKeyType:d,defaultStringType:h}=t.options,y=i&&d||h;if(f=c(y),f===null)throw new Error(`Unsupported default string type ${y}`)}return f}function I0(e,t){const n=Object.assign({blockQuote:!0,commentString:ck,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let r;switch(n.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:r,options:n}}function dk(e,t){var i;if(t.tag){const s=e.filter(o=>o.tag===t.tag);if(s.length>0)return s.find(o=>o.format===t.format)??s[0]}let n,r;if(Je(t)){r=t.value;const s=e.filter(o=>{var u;return(u=o.identify)==null?void 0:u.call(o,r)});n=s.find(o=>o.format===t.format)??s.find(o=>!o.format)}else r=t,n=e.find(s=>s.nodeClass&&r instanceof s.nodeClass);if(!n){const s=((i=r==null?void 0:r.constructor)==null?void 0:i.name)??typeof r;throw new Error(`Tag not resolved for ${s} value`)}return n}function hk(e,t,{anchors:n,doc:r}){if(!r.directives)return"";const i=[],s=(Je(e)||Qt(e))&&e.anchor;s&&C0(s)&&(n.add(s),i.push(`&${s}`));const o=e.tag?e.tag:t.default?null:t.tag;return o&&i.push(r.directives.tagString(o)),i.join(" ")}function Ls(e,t,n,r){var c;if(wt(e))return e.toString(t,n,r);if(Jr(e)){if(t.doc.directives)return e.toString(t);if((c=t.resolvedAliases)!=null&&c.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i;const s=$t(e)?e:t.doc.createNode(e,{onTagObj:f=>i=f});i||(i=dk(t.doc.schema.tags,s));const o=hk(s,i,t);o.length>0&&(t.indentAtStart=(t.indentAtStart??0)+o.length+1);const u=typeof i.stringify=="function"?i.stringify(s,t,n,r):Je(s)?Wh(s,t,n,r):s.toString(t,n,r);return o?Je(s)||u[0]==="{"||u[0]==="["?`${o} ${u}`:`${o}
${t.indent}${u}`:u}function pk({key:e,value:t},n,r,i){const{allNullValues:s,doc:o,indent:u,indentStep:c,options:{commentString:f,indentSeq:d,simpleKeys:h}}=n;let y=$t(e)&&e.comment||null;if(h){if(y)throw new Error("With simple keys, key nodes cannot have comments");if(Qt(e)){const _="With simple keys, collection cannot be used as a key value";throw new Error(_)}}let w=!h&&(!e||y&&t==null&&!n.inFlow||Qt(e)||(Je(e)?e.type===tt.BLOCK_FOLDED||e.type===tt.BLOCK_LITERAL:typeof e=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!w&&(h||!s),indent:u+c});let k=!1,$=!1,E=Ls(e,n,()=>k=!0,()=>$=!0);if(!w&&!n.inFlow&&E.length>1024){if(h)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");w=!0}if(n.inFlow){if(s||t==null)return k&&r&&r(),E===""?"?":w?`? ${E}`:E}else if(s&&!h||t==null&&w)return E=`? ${E}`,y&&!k?E+=Zi(E,n.indent,f(y)):$&&i&&i(),E;k&&(y=null),w?(y&&(E+=Zi(E,n.indent,f(y))),E=`? ${E}
${u}:`):(E=`${E}:`,y&&(E+=Zi(E,n.indent,f(y))));let T,D,p;$t(t)?(T=!!t.spaceBefore,D=t.commentBefore,p=t.comment):(T=!1,D=null,p=null,t&&typeof t=="object"&&(t=o.createNode(t))),n.implicitKey=!1,!w&&!y&&Je(t)&&(n.indentAtStart=E.length+1),$=!1,!d&&c.length>=2&&!n.inFlow&&!w&&sn(t)&&!t.flow&&!t.tag&&!t.anchor&&(n.indent=n.indent.substring(2));let b=!1;const m=Ls(t,n,()=>b=!0,()=>$=!0);let v=" ";if(y||T||D){if(v=T?`
`:"",D){const _=f(D);v+=`
${_i(_,n.indent)}`}m===""&&!n.inFlow?v===`
`&&(v=`

`):v+=`
${n.indent}`}else if(!w&&Qt(t)){const _=m[0],P=m.indexOf(`
`),R=P!==-1,N=n.inFlow??t.flow??t.items.length===0;if(R||!N){let F=!1;if(R&&(_==="&"||_==="!")){let j=m.indexOf(" ");_==="&"&&j!==-1&&j<P&&m[j+1]==="!"&&(j=m.indexOf(" ",j+1)),(j===-1||P<j)&&(F=!0)}F||(v=`
${n.indent}`)}}else(m===""||m[0]===`
`)&&(v="");return E+=v+m,n.inFlow?b&&r&&r():p&&!b?E+=Zi(E,n.indent,f(p)):$&&i&&i(),E}function M0(e,t){(e==="debug"||e==="warn")&&(typeof Ns<"u"&&Ns.emitWarning?Ns.emitWarning(t):console.warn(t))}const L0="<<";function j0(e,t,{key:n,value:r}){if(e!=null&&e.doc.schema.merge&&mk(n))if(r=Jr(r)?r.resolve(e.doc):r,sn(r))for(const i of r.items)Uh(e,t,i);else if(Array.isArray(r))for(const i of r)Uh(e,t,i);else Uh(e,t,r);else{const i=Qr(n,"",e);if(t instanceof Map)t.set(i,Qr(r,i,e));else if(t instanceof Set)t.add(i);else{const s=gk(n,i,e),o=Qr(r,s,e);s in t?Object.defineProperty(t,s,{value:o,writable:!0,enumerable:!0,configurable:!0}):t[s]=o}}return t}const mk=e=>e===L0||Je(e)&&e.value===L0&&(!e.type||e.type===tt.PLAIN);function Uh(e,t,n){const r=e&&Jr(n)?n.resolve(e.doc):n;if(!Jt(r))throw new Error("Merge sources must be maps or map aliases");const i=r.toJSON(null,e,Map);for(const[s,o]of i)t instanceof Map?t.has(s)||t.set(s,o):t instanceof Set?t.add(s):Object.prototype.hasOwnProperty.call(t,s)||Object.defineProperty(t,s,{value:o,writable:!0,enumerable:!0,configurable:!0});return t}function gk(e,t,n){if(t===null)return"";if(typeof t!="object")return String(t);if($t(e)&&n&&n.doc){const r=I0(n.doc,{});r.anchors=new Set;for(const s of n.anchors.keys())r.anchors.add(s.anchor);r.inFlow=!0,r.inStringifyKey=!0;const i=e.toString(r);if(!n.mapKeyWarned){let s=JSON.stringify(i);s.length>40&&(s=s.substring(0,36)+'..."'),M0(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(t)}function Vh(e,t,n){const r=Xa(e,void 0,n),i=Xa(t,void 0,n);return new Rn(r,i)}class Rn{constructor(t,n=null){Object.defineProperty(this,dr,{value:A0}),this.key=t,this.value=n}clone(t){let{key:n,value:r}=this;return $t(n)&&(n=n.clone(t)),$t(r)&&(r=r.clone(t)),new Rn(n,r)}toJSON(t,n){const r=n!=null&&n.mapAsMap?new Map:{};return j0(n,r,this)}toString(t,n,r){return t!=null&&t.doc?pk(this,t,n,r):JSON.stringify(this)}}function q0(e,t,n){return(t.inFlow??e.flow?vk:yk)(e,t,n)}function yk({comment:e,items:t},n,{blockItemPrefix:r,flowChars:i,itemIndent:s,onChompKeep:o,onComment:u}){const{indent:c,options:{commentString:f}}=n,d=Object.assign({},n,{indent:s,type:null});let h=!1;const y=[];for(let k=0;k<t.length;++k){const $=t[k];let E=null;if($t($))!h&&$.spaceBefore&&y.push(""),jc(n,y,$.commentBefore,h),$.comment&&(E=$.comment);else if(wt($)){const D=$t($.key)?$.key:null;D&&(!h&&D.spaceBefore&&y.push(""),jc(n,y,D.commentBefore,h))}h=!1;let T=Ls($,d,()=>E=null,()=>h=!0);E&&(T+=Zi(T,s,f(E))),h&&E&&(h=!1),y.push(r+T)}let w;if(y.length===0)w=i.start+i.end;else{w=y[0];for(let k=1;k<y.length;++k){const $=y[k];w+=$?`
${c}${$}`:`
`}}return e?(w+=`
`+_i(f(e),c),u&&u()):h&&o&&o(),w}function vk({comment:e,items:t},n,{flowChars:r,itemIndent:i,onComment:s}){const{indent:o,indentStep:u,flowCollectionPadding:c,options:{commentString:f}}=n;i+=u;const d=Object.assign({},n,{indent:i,inFlow:!0,type:null});let h=!1,y=0;const w=[];for(let T=0;T<t.length;++T){const D=t[T];let p=null;if($t(D))D.spaceBefore&&w.push(""),jc(n,w,D.commentBefore,!1),D.comment&&(p=D.comment);else if(wt(D)){const m=$t(D.key)?D.key:null;m&&(m.spaceBefore&&w.push(""),jc(n,w,m.commentBefore,!1),m.comment&&(h=!0));const v=$t(D.value)?D.value:null;v?(v.comment&&(p=v.comment),v.commentBefore&&(h=!0)):D.value==null&&m&&m.comment&&(p=m.comment)}p&&(h=!0);let b=Ls(D,d,()=>p=null);T<t.length-1&&(b+=","),p&&(b+=Zi(b,i,f(p))),!h&&(w.length>y||b.includes(`
`))&&(h=!0),w.push(b),y=w.length}let k;const{start:$,end:E}=r;if(w.length===0)k=$+E;else if(h||(h=w.reduce((D,p)=>D+p.length+2,2)>Rc.maxFlowStringSingleLineLength),h){k=$;for(const T of w)k+=T?`
${u}${o}${T}`:`
`;k+=`
${o}${E}`}else k=`${$}${c}${w.join(" ")}${c}${E}`;return e&&(k+=Zi(k,o,f(e)),s&&s()),k}function jc({indent:e,options:{commentString:t}},n,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){const s=_i(t(r),e);n.push(s.trimStart())}}function js(e,t){const n=Je(t)?t.value:t;for(const r of e)if(wt(r)&&(r.key===t||r.key===n||Je(r.key)&&r.key.value===n))return r}class Nr extends Rc{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(Xi,t),this.items=[]}add(t,n){var o;let r;wt(t)?r=t:!t||typeof t!="object"||!("key"in t)?r=new Rn(t,t==null?void 0:t.value):r=new Rn(t.key,t.value);const i=js(this.items,r.key),s=(o=this.schema)==null?void 0:o.sortMapEntries;if(i){if(!n)throw new Error(`Key ${r.key} already set`);Je(i.value)&&R0(r.value)?i.value.value=r.value:i.value=r.value}else if(s){const u=this.items.findIndex(c=>s(r,c)<0);u===-1?this.items.push(r):this.items.splice(u,0,r)}else this.items.push(r)}delete(t){const n=js(this.items,t);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(t,n){const r=js(this.items,t),i=r==null?void 0:r.value;return(!n&&Je(i)?i.value:i)??void 0}has(t){return!!js(this.items,t)}set(t,n){this.add(new Rn(t,n),!0)}toJSON(t,n,r){const i=r?new r:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(i);for(const s of this.items)j0(n,i,s);return i}toString(t,n,r){if(!t)return JSON.stringify(this);for(const i of this.items)if(!wt(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),q0(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:r,onComment:n})}}function bk(e,t,n){const{keepUndefined:r,replacer:i}=n,s=new Nr(e),o=(u,c)=>{if(typeof i=="function")c=i.call(t,u,c);else if(Array.isArray(i)&&!i.includes(u))return;(c!==void 0||r)&&s.items.push(Vh(u,c,n))};if(t instanceof Map)for(const[u,c]of t)o(u,c);else if(t&&typeof t=="object")for(const u of Object.keys(t))o(u,t[u]);return typeof e.sortMapEntries=="function"&&s.items.sort(e.sortMapEntries),s}const Io={collection:"map",createNode:bk,default:!0,nodeClass:Nr,tag:"tag:yaml.org,2002:map",resolve(e,t){return Jt(e)||t("Expected a mapping for this tag"),e}};class Mo extends Rc{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(Ro,t),this.items=[]}add(t){this.items.push(t)}delete(t){const n=qc(t);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(t,n){const r=qc(t);if(typeof r!="number")return;const i=this.items[r];return!n&&Je(i)?i.value:i}has(t){const n=qc(t);return typeof n=="number"&&n<this.items.length}set(t,n){const r=qc(t);if(typeof r!="number")throw new Error(`Expected a valid index, not ${t}.`);const i=this.items[r];Je(i)&&R0(n)?i.value=n:this.items[r]=n}toJSON(t,n){const r=[];n!=null&&n.onCreate&&n.onCreate(r);let i=0;for(const s of this.items)r.push(Qr(s,String(i++),n));return r}toString(t,n,r){return t?q0(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:r,onComment:n}):JSON.stringify(this)}}function qc(e){let t=Je(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}function Dk(e,t,n){const{replacer:r}=n,i=new Mo(e);if(t&&Symbol.iterator in Object(t)){let s=0;for(let o of t){if(typeof r=="function"){const u=t instanceof Set?o:String(s++);o=r.call(t,u,o)}i.items.push(Xa(o,void 0,n))}}return i}const Lo={collection:"seq",createNode:Dk,default:!0,nodeClass:Mo,tag:"tag:yaml.org,2002:seq",resolve(e,t){return sn(e)||t("Expected a sequence for this tag"),e}},xc={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,n,r){return t=Object.assign({actualString:!0},t),Wh(e,t,n,r)}},Bc={identify:e=>e==null,createNode:()=>new tt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new tt(null),stringify:({source:e},t)=>typeof e=="string"&&Bc.test.test(e)?e:t.options.nullStr},Hh={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new tt(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},n){if(e&&Hh.test.test(e)){const r=e[0]==="t"||e[0]==="T";if(t===r)return e}return t?n.options.trueStr:n.options.falseStr}};function Fr({format:e,minFractionDigits:t,tag:n,value:r}){if(typeof r=="bigint")return String(r);const i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let s=JSON.stringify(r);if(!e&&t&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let o=s.indexOf(".");o<0&&(o=s.length,s+=".");let u=t-(s.length-o-1);for(;u-- >0;)s+="0"}return s}const x0={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Fr},B0={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Fr(e)}},W0={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new tt(parseFloat(e)),n=e.indexOf(".");return n!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-n-1),t},stringify:Fr},Wc=e=>typeof e=="bigint"||Number.isInteger(e),Kh=(e,t,n,{intAsBigInt:r})=>r?BigInt(e):parseInt(e.substring(t),n);function U0(e,t,n){const{value:r}=e;return Wc(r)&&r>=0?n+r.toString(t):Fr(e)}const V0={identify:e=>Wc(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>Kh(e,2,8,n),stringify:e=>U0(e,8,"0o")},H0={identify:Wc,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>Kh(e,0,10,n),stringify:Fr},K0={identify:e=>Wc(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>Kh(e,2,16,n),stringify:e=>U0(e,16,"0x")},wk=[Io,Lo,xc,Bc,Hh,V0,H0,K0,x0,B0,W0];function z0(e){return typeof e=="bigint"||Number.isInteger(e)}const Uc=({value:e})=>JSON.stringify(e),_k=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Uc},{identify:e=>e==null,createNode:()=>new tt(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Uc},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>e==="true",stringify:Uc},{identify:z0,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>z0(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Uc}],Ek={default:!0,tag:"",test:/^/,resolve(e,t){return t(`Unresolved plain scalar ${JSON.stringify(e)}`),e}},Sk=[Io,Lo].concat(_k,Ek);var Y0={},Vc={};Vc.byteLength=kk,Vc.toByteArray=Ck,Vc.fromByteArray=Rk;for(var Xr=[],hr=[],$k=typeof Uint8Array<"u"?Uint8Array:Array,zh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jo=0,Tk=zh.length;jo<Tk;++jo)Xr[jo]=zh[jo],hr[zh.charCodeAt(jo)]=jo;hr[45]=62,hr[95]=63;function G0(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function kk(e){var t=G0(e),n=t[0],r=t[1];return(n+r)*3/4-r}function Ak(e,t,n){return(t+n)*3/4-n}function Ck(e){var t,n=G0(e),r=n[0],i=n[1],s=new $k(Ak(e,r,i)),o=0,u=i>0?r-4:r,c;for(c=0;c<u;c+=4)t=hr[e.charCodeAt(c)]<<18|hr[e.charCodeAt(c+1)]<<12|hr[e.charCodeAt(c+2)]<<6|hr[e.charCodeAt(c+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=hr[e.charCodeAt(c)]<<2|hr[e.charCodeAt(c+1)]>>4,s[o++]=t&255),i===1&&(t=hr[e.charCodeAt(c)]<<10|hr[e.charCodeAt(c+1)]<<4|hr[e.charCodeAt(c+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}function Ok(e){return Xr[e>>18&63]+Xr[e>>12&63]+Xr[e>>6&63]+Xr[e&63]}function Pk(e,t,n){for(var r,i=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(Ok(r));return i.join("")}function Rk(e){for(var t,n=e.length,r=n%3,i=[],s=16383,o=0,u=n-r;o<u;o+=s)i.push(Pk(e,o,o+s>u?u:o+s));return r===1?(t=e[n-1],i.push(Xr[t>>2]+Xr[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(Xr[t>>10]+Xr[t>>4&63]+Xr[t<<2&63]+"=")),i.join("")}var Yh={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Yh.read=function(e,t,n,r,i){var s,o,u=i*8-r-1,c=(1<<u)-1,f=c>>1,d=-7,h=n?i-1:0,y=n?-1:1,w=e[t+h];for(h+=y,s=w&(1<<-d)-1,w>>=-d,d+=u;d>0;s=s*256+e[t+h],h+=y,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=r;d>0;o=o*256+e[t+h],h+=y,d-=8);if(s===0)s=1-f;else{if(s===c)return o?NaN:(w?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-f}return(w?-1:1)*o*Math.pow(2,s-r)},Yh.write=function(e,t,n,r,i,s){var o,u,c,f=s*8-i-1,d=(1<<f)-1,h=d>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=r?0:s-1,k=r?1:-1,$=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+h>=1?t+=y/c:t+=y*Math.pow(2,1-h),t*c>=2&&(o++,c/=2),o+h>=d?(u=0,o=d):o+h>=1?(u=(t*c-1)*Math.pow(2,i),o=o+h):(u=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+w]=u&255,w+=k,u/=256,i-=8);for(o=o<<i|u,f+=i;f>0;e[n+w]=o&255,w+=k,o/=256,f-=8);e[n+w-k]|=$*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Vc,n=Yh,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=d,e.SlowBuffer=m,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i;const{Uint8Array:s,ArrayBuffer:o,SharedArrayBuffer:u}=globalThis;d.TYPED_ARRAY_SUPPORT=c(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const C=new s(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,s.prototype),Object.setPrototypeOf(C,S),C.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function f(C){if(C>i)throw new RangeError('The value "'+C+'" is invalid for option "size"');const S=new s(C);return Object.setPrototypeOf(S,d.prototype),S}function d(C,S,A){if(typeof C=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return k(C)}return h(C,S,A)}d.poolSize=8192;function h(C,S,A){if(typeof C=="string")return $(C,S);if(o.isView(C))return T(C);if(C==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C);if(yt(C,o)||C&&yt(C.buffer,o)||typeof u<"u"&&(yt(C,u)||C&&yt(C.buffer,u)))return D(C,S,A);if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const M=C.valueOf&&C.valueOf();if(M!=null&&M!==C)return d.from(M,S,A);const z=p(C);if(z)return z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return d.from(C[Symbol.toPrimitive]("string"),S,A);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C)}d.from=function(C,S,A){return h(C,S,A)},Object.setPrototypeOf(d.prototype,s.prototype),Object.setPrototypeOf(d,s);function y(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function w(C,S,A){return y(C),C<=0?f(C):S!==void 0?typeof A=="string"?f(C).fill(S,A):f(C).fill(S):f(C)}d.alloc=function(C,S,A){return w(C,S,A)};function k(C){return y(C),f(C<0?0:b(C)|0)}d.allocUnsafe=function(C){return k(C)},d.allocUnsafeSlow=function(C){return k(C)};function $(C,S){if((typeof S!="string"||S==="")&&(S="utf8"),!d.isEncoding(S))throw new TypeError("Unknown encoding: "+S);const A=v(C,S)|0;let M=f(A);const z=M.write(C,S);return z!==A&&(M=M.slice(0,z)),M}function E(C){const S=C.length<0?0:b(C.length)|0,A=f(S);for(let M=0;M<S;M+=1)A[M]=C[M]&255;return A}function T(C){if(yt(C,s)){const S=new s(C);return D(S.buffer,S.byteOffset,S.byteLength)}return E(C)}function D(C,S,A){if(S<0||C.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<S+(A||0))throw new RangeError('"length" is outside of buffer bounds');let M;return S===void 0&&A===void 0?M=new s(C):A===void 0?M=new s(C,S):M=new s(C,S,A),Object.setPrototypeOf(M,d.prototype),M}function p(C){if(d.isBuffer(C)){const S=b(C.length)|0,A=f(S);return A.length===0||C.copy(A,0,0,S),A}if(C.length!==void 0)return typeof C.length!="number"||Y(C.length)?f(0):E(C);if(C.type==="Buffer"&&Array.isArray(C.data))return E(C.data)}function b(C){if(C>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return C|0}function m(C){return+C!=C&&(C=0),d.alloc(+C)}d.isBuffer=function(S){return S!=null&&S._isBuffer===!0&&S!==d.prototype},d.compare=function(S,A){if(yt(S,s)&&(S=d.from(S,S.offset,S.byteLength)),yt(A,s)&&(A=d.from(A,A.offset,A.byteLength)),!d.isBuffer(S)||!d.isBuffer(A))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(S===A)return 0;let M=S.length,z=A.length;for(let Z=0,se=Math.min(M,z);Z<se;++Z)if(S[Z]!==A[Z]){M=S[Z],z=A[Z];break}return M<z?-1:z<M?1:0},d.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(S,A){if(!Array.isArray(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return d.alloc(0);let M;if(A===void 0)for(A=0,M=0;M<S.length;++M)A+=S[M].length;const z=d.allocUnsafe(A);let Z=0;for(M=0;M<S.length;++M){let se=S[M];if(yt(se,s))Z+se.length>z.length?(d.isBuffer(se)||(se=d.from(se)),se.copy(z,Z)):s.prototype.set.call(z,se,Z);else if(d.isBuffer(se))se.copy(z,Z);else throw new TypeError('"list" argument must be an Array of Buffers');Z+=se.length}return z};function v(C,S){if(d.isBuffer(C))return C.length;if(o.isView(C)||yt(C,o))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof C);const A=C.length,M=arguments.length>2&&arguments[2]===!0;if(!M&&A===0)return 0;let z=!1;for(;;)switch(S){case"ascii":case"latin1":case"binary":return A;case"utf8":case"utf-8":return dt(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A*2;case"hex":return A>>>1;case"base64":return At(C).length;default:if(z)return M?-1:dt(C).length;S=(""+S).toLowerCase(),z=!0}}d.byteLength=v;function _(C,S,A){let M=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((A===void 0||A>this.length)&&(A=this.length),A<=0)||(A>>>=0,S>>>=0,A<=S))return"";for(C||(C="utf8");;)switch(C){case"hex":return ae(this,S,A);case"utf8":case"utf-8":return he(this,S,A);case"ascii":return ge(this,S,A);case"latin1":case"binary":return U(this,S,A);case"base64":return ue(this,S,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,S,A);default:if(M)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),M=!0}}d.prototype._isBuffer=!0;function P(C,S,A){const M=C[S];C[S]=C[A],C[A]=M}d.prototype.swap16=function(){const S=this.length;if(S%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let A=0;A<S;A+=2)P(this,A,A+1);return this},d.prototype.swap32=function(){const S=this.length;if(S%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let A=0;A<S;A+=4)P(this,A,A+3),P(this,A+1,A+2);return this},d.prototype.swap64=function(){const S=this.length;if(S%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let A=0;A<S;A+=8)P(this,A,A+7),P(this,A+1,A+6),P(this,A+2,A+5),P(this,A+3,A+4);return this},d.prototype.toString=function(){const S=this.length;return S===0?"":arguments.length===0?he(this,0,S):_.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(S){if(!d.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S?!0:d.compare(this,S)===0},d.prototype.inspect=function(){let S="";const A=e.INSPECT_MAX_BYTES;return S=this.toString("hex",0,A).replace(/(.{2})/g,"$1 ").trim(),this.length>A&&(S+=" ... "),"<Buffer "+S+">"},r&&(d.prototype[r]=d.prototype.inspect),d.prototype.compare=function(S,A,M,z,Z){if(yt(S,s)&&(S=d.from(S,S.offset,S.byteLength)),!d.isBuffer(S))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof S);if(A===void 0&&(A=0),M===void 0&&(M=S?S.length:0),z===void 0&&(z=0),Z===void 0&&(Z=this.length),A<0||M>S.length||z<0||Z>this.length)throw new RangeError("out of range index");if(z>=Z&&A>=M)return 0;if(z>=Z)return-1;if(A>=M)return 1;if(A>>>=0,M>>>=0,z>>>=0,Z>>>=0,this===S)return 0;let se=Z-z,Ee=M-A;const je=Math.min(se,Ee),Pe=this.slice(z,Z),qe=S.slice(A,M);for(let Ce=0;Ce<je;++Ce)if(Pe[Ce]!==qe[Ce]){se=Pe[Ce],Ee=qe[Ce];break}return se<Ee?-1:Ee<se?1:0};function R(C,S,A,M,z){if(C.length===0)return-1;if(typeof A=="string"?(M=A,A=0):A>2147483647?A=2147483647:A<-2147483648&&(A=-2147483648),A=+A,Y(A)&&(A=z?0:C.length-1),A<0&&(A=C.length+A),A>=C.length){if(z)return-1;A=C.length-1}else if(A<0)if(z)A=0;else return-1;if(typeof S=="string"&&(S=d.from(S,M)),d.isBuffer(S))return S.length===0?-1:N(C,S,A,M,z);if(typeof S=="number")return S=S&255,typeof s.prototype.indexOf=="function"?z?s.prototype.indexOf.call(C,S,A):s.prototype.lastIndexOf.call(C,S,A):N(C,[S],A,M,z);throw new TypeError("val must be string, number or Buffer")}function N(C,S,A,M,z){let Z=1,se=C.length,Ee=S.length;if(M!==void 0&&(M=String(M).toLowerCase(),M==="ucs2"||M==="ucs-2"||M==="utf16le"||M==="utf-16le")){if(C.length<2||S.length<2)return-1;Z=2,se/=2,Ee/=2,A/=2}function je(qe,Ce){return Z===1?qe[Ce]:qe.readUInt16BE(Ce*Z)}let Pe;if(z){let qe=-1;for(Pe=A;Pe<se;Pe++)if(je(C,Pe)===je(S,qe===-1?0:Pe-qe)){if(qe===-1&&(qe=Pe),Pe-qe+1===Ee)return qe*Z}else qe!==-1&&(Pe-=Pe-qe),qe=-1}else for(A+Ee>se&&(A=se-Ee),Pe=A;Pe>=0;Pe--){let qe=!0;for(let Ce=0;Ce<Ee;Ce++)if(je(C,Pe+Ce)!==je(S,Ce)){qe=!1;break}if(qe)return Pe}return-1}d.prototype.includes=function(S,A,M){return this.indexOf(S,A,M)!==-1},d.prototype.indexOf=function(S,A,M){return R(this,S,A,M,!0)},d.prototype.lastIndexOf=function(S,A,M){return R(this,S,A,M,!1)};function F(C,S,A,M){A=Number(A)||0;const z=C.length-A;M?(M=Number(M),M>z&&(M=z)):M=z;const Z=S.length;M>Z/2&&(M=Z/2);let se;for(se=0;se<M;++se){const Ee=parseInt(S.substr(se*2,2),16);if(Y(Ee))return se;C[A+se]=Ee}return se}function j(C,S,A,M){return Xt(dt(S,C.length-A),C,A,M)}function I(C,S,A,M){return Xt(ze(S),C,A,M)}function X(C,S,A,M){return Xt(At(S),C,A,M)}function oe(C,S,A,M){return Xt(It(S,C.length-A),C,A,M)}d.prototype.write=function(S,A,M,z){if(A===void 0)z="utf8",M=this.length,A=0;else if(M===void 0&&typeof A=="string")z=A,M=this.length,A=0;else if(isFinite(A))A=A>>>0,isFinite(M)?(M=M>>>0,z===void 0&&(z="utf8")):(z=M,M=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Z=this.length-A;if((M===void 0||M>Z)&&(M=Z),S.length>0&&(M<0||A<0)||A>this.length)throw new RangeError("Attempt to write outside buffer bounds");z||(z="utf8");let se=!1;for(;;)switch(z){case"hex":return F(this,S,A,M);case"utf8":case"utf-8":return j(this,S,A,M);case"ascii":case"latin1":case"binary":return I(this,S,A,M);case"base64":return X(this,S,A,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,S,A,M);default:if(se)throw new TypeError("Unknown encoding: "+z);z=(""+z).toLowerCase(),se=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ue(C,S,A){return S===0&&A===C.length?t.fromByteArray(C):t.fromByteArray(C.slice(S,A))}function he(C,S,A){A=Math.min(C.length,A);const M=[];let z=S;for(;z<A;){const Z=C[z];let se=null,Ee=Z>239?4:Z>223?3:Z>191?2:1;if(z+Ee<=A){let je,Pe,qe,Ce;switch(Ee){case 1:Z<128&&(se=Z);break;case 2:je=C[z+1],(je&192)===128&&(Ce=(Z&31)<<6|je&63,Ce>127&&(se=Ce));break;case 3:je=C[z+1],Pe=C[z+2],(je&192)===128&&(Pe&192)===128&&(Ce=(Z&15)<<12|(je&63)<<6|Pe&63,Ce>2047&&(Ce<55296||Ce>57343)&&(se=Ce));break;case 4:je=C[z+1],Pe=C[z+2],qe=C[z+3],(je&192)===128&&(Pe&192)===128&&(qe&192)===128&&(Ce=(Z&15)<<18|(je&63)<<12|(Pe&63)<<6|qe&63,Ce>65535&&Ce<1114112&&(se=Ce))}}se===null?(se=65533,Ee=1):se>65535&&(se-=65536,M.push(se>>>10&1023|55296),se=56320|se&1023),M.push(se),z+=Ee}return We(M)}const $e=4096;function We(C){const S=C.length;if(S<=$e)return String.fromCharCode.apply(String,C);let A="",M=0;for(;M<S;)A+=String.fromCharCode.apply(String,C.slice(M,M+=$e));return A}function ge(C,S,A){let M="";A=Math.min(C.length,A);for(let z=S;z<A;++z)M+=String.fromCharCode(C[z]&127);return M}function U(C,S,A){let M="";A=Math.min(C.length,A);for(let z=S;z<A;++z)M+=String.fromCharCode(C[z]);return M}function ae(C,S,A){const M=C.length;(!S||S<0)&&(S=0),(!A||A<0||A>M)&&(A=M);let z="";for(let Z=S;Z<A;++Z)z+=B[C[Z]];return z}function re(C,S,A){const M=C.slice(S,A);let z="";for(let Z=0;Z<M.length-1;Z+=2)z+=String.fromCharCode(M[Z]+M[Z+1]*256);return z}d.prototype.slice=function(S,A){const M=this.length;S=~~S,A=A===void 0?M:~~A,S<0?(S+=M,S<0&&(S=0)):S>M&&(S=M),A<0?(A+=M,A<0&&(A=0)):A>M&&(A=M),A<S&&(A=S);const z=this.subarray(S,A);return Object.setPrototypeOf(z,d.prototype),z};function x(C,S,A){if(C%1!==0||C<0)throw new RangeError("offset is not uint");if(C+S>A)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(S,A,M){S=S>>>0,A=A>>>0,M||x(S,A,this.length);let z=this[S],Z=1,se=0;for(;++se<A&&(Z*=256);)z+=this[S+se]*Z;return z},d.prototype.readUintBE=d.prototype.readUIntBE=function(S,A,M){S=S>>>0,A=A>>>0,M||x(S,A,this.length);let z=this[S+--A],Z=1;for(;A>0&&(Z*=256);)z+=this[S+--A]*Z;return z},d.prototype.readUint8=d.prototype.readUInt8=function(S,A){return S=S>>>0,A||x(S,1,this.length),this[S]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(S,A){return S=S>>>0,A||x(S,2,this.length),this[S]|this[S+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(S,A){return S=S>>>0,A||x(S,2,this.length),this[S]<<8|this[S+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(S,A){return S=S>>>0,A||x(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+this[S+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(S,A){return S=S>>>0,A||x(S,4,this.length),this[S]*16777216+(this[S+1]<<16|this[S+2]<<8|this[S+3])},d.prototype.readBigUInt64LE=q(function(S){S=S>>>0,Ne(S,"offset");const A=this[S],M=this[S+7];(A===void 0||M===void 0)&&xe(S,this.length-8);const z=A+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24,Z=this[++S]+this[++S]*2**8+this[++S]*2**16+M*2**24;return BigInt(z)+(BigInt(Z)<<BigInt(32))}),d.prototype.readBigUInt64BE=q(function(S){S=S>>>0,Ne(S,"offset");const A=this[S],M=this[S+7];(A===void 0||M===void 0)&&xe(S,this.length-8);const z=A*2**24+this[++S]*2**16+this[++S]*2**8+this[++S],Z=this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+M;return(BigInt(z)<<BigInt(32))+BigInt(Z)}),d.prototype.readIntLE=function(S,A,M){S=S>>>0,A=A>>>0,M||x(S,A,this.length);let z=this[S],Z=1,se=0;for(;++se<A&&(Z*=256);)z+=this[S+se]*Z;return Z*=128,z>=Z&&(z-=Math.pow(2,8*A)),z},d.prototype.readIntBE=function(S,A,M){S=S>>>0,A=A>>>0,M||x(S,A,this.length);let z=A,Z=1,se=this[S+--z];for(;z>0&&(Z*=256);)se+=this[S+--z]*Z;return Z*=128,se>=Z&&(se-=Math.pow(2,8*A)),se},d.prototype.readInt8=function(S,A){return S=S>>>0,A||x(S,1,this.length),this[S]&128?(255-this[S]+1)*-1:this[S]},d.prototype.readInt16LE=function(S,A){S=S>>>0,A||x(S,2,this.length);const M=this[S]|this[S+1]<<8;return M&32768?M|4294901760:M},d.prototype.readInt16BE=function(S,A){S=S>>>0,A||x(S,2,this.length);const M=this[S+1]|this[S]<<8;return M&32768?M|4294901760:M},d.prototype.readInt32LE=function(S,A){return S=S>>>0,A||x(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},d.prototype.readInt32BE=function(S,A){return S=S>>>0,A||x(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},d.prototype.readBigInt64LE=q(function(S){S=S>>>0,Ne(S,"offset");const A=this[S],M=this[S+7];(A===void 0||M===void 0)&&xe(S,this.length-8);const z=this[S+4]+this[S+5]*2**8+this[S+6]*2**16+(M<<24);return(BigInt(z)<<BigInt(32))+BigInt(A+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24)}),d.prototype.readBigInt64BE=q(function(S){S=S>>>0,Ne(S,"offset");const A=this[S],M=this[S+7];(A===void 0||M===void 0)&&xe(S,this.length-8);const z=(A<<24)+this[++S]*2**16+this[++S]*2**8+this[++S];return(BigInt(z)<<BigInt(32))+BigInt(this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+M)}),d.prototype.readFloatLE=function(S,A){return S=S>>>0,A||x(S,4,this.length),n.read(this,S,!0,23,4)},d.prototype.readFloatBE=function(S,A){return S=S>>>0,A||x(S,4,this.length),n.read(this,S,!1,23,4)},d.prototype.readDoubleLE=function(S,A){return S=S>>>0,A||x(S,8,this.length),n.read(this,S,!0,52,8)},d.prototype.readDoubleBE=function(S,A){return S=S>>>0,A||x(S,8,this.length),n.read(this,S,!1,52,8)};function Q(C,S,A,M,z,Z){if(!d.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>z||S<Z)throw new RangeError('"value" argument is out of bounds');if(A+M>C.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(S,A,M,z){if(S=+S,A=A>>>0,M=M>>>0,!z){const Ee=Math.pow(2,8*M)-1;Q(this,S,A,M,Ee,0)}let Z=1,se=0;for(this[A]=S&255;++se<M&&(Z*=256);)this[A+se]=S/Z&255;return A+M},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(S,A,M,z){if(S=+S,A=A>>>0,M=M>>>0,!z){const Ee=Math.pow(2,8*M)-1;Q(this,S,A,M,Ee,0)}let Z=M-1,se=1;for(this[A+Z]=S&255;--Z>=0&&(se*=256);)this[A+Z]=S/se&255;return A+M},d.prototype.writeUint8=d.prototype.writeUInt8=function(S,A,M){return S=+S,A=A>>>0,M||Q(this,S,A,1,255,0),this[A]=S&255,A+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(S,A,M){return S=+S,A=A>>>0,M||Q(this,S,A,2,65535,0),this[A]=S&255,this[A+1]=S>>>8,A+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(S,A,M){return S=+S,A=A>>>0,M||Q(this,S,A,2,65535,0),this[A]=S>>>8,this[A+1]=S&255,A+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(S,A,M){return S=+S,A=A>>>0,M||Q(this,S,A,4,4294967295,0),this[A+3]=S>>>24,this[A+2]=S>>>16,this[A+1]=S>>>8,this[A]=S&255,A+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(S,A,M){return S=+S,A=A>>>0,M||Q(this,S,A,4,4294967295,0),this[A]=S>>>24,this[A+1]=S>>>16,this[A+2]=S>>>8,this[A+3]=S&255,A+4};function fe(C,S,A,M,z){Se(S,M,z,C,A,7);let Z=Number(S&BigInt(4294967295));C[A++]=Z,Z=Z>>8,C[A++]=Z,Z=Z>>8,C[A++]=Z,Z=Z>>8,C[A++]=Z;let se=Number(S>>BigInt(32)&BigInt(4294967295));return C[A++]=se,se=se>>8,C[A++]=se,se=se>>8,C[A++]=se,se=se>>8,C[A++]=se,A}function Te(C,S,A,M,z){Se(S,M,z,C,A,7);let Z=Number(S&BigInt(4294967295));C[A+7]=Z,Z=Z>>8,C[A+6]=Z,Z=Z>>8,C[A+5]=Z,Z=Z>>8,C[A+4]=Z;let se=Number(S>>BigInt(32)&BigInt(4294967295));return C[A+3]=se,se=se>>8,C[A+2]=se,se=se>>8,C[A+1]=se,se=se>>8,C[A]=se,A+8}d.prototype.writeBigUInt64LE=q(function(S,A=0){return fe(this,S,A,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=q(function(S,A=0){return Te(this,S,A,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(S,A,M,z){if(S=+S,A=A>>>0,!z){const je=Math.pow(2,8*M-1);Q(this,S,A,M,je-1,-je)}let Z=0,se=1,Ee=0;for(this[A]=S&255;++Z<M&&(se*=256);)S<0&&Ee===0&&this[A+Z-1]!==0&&(Ee=1),this[A+Z]=(S/se>>0)-Ee&255;return A+M},d.prototype.writeIntBE=function(S,A,M,z){if(S=+S,A=A>>>0,!z){const je=Math.pow(2,8*M-1);Q(this,S,A,M,je-1,-je)}let Z=M-1,se=1,Ee=0;for(this[A+Z]=S&255;--Z>=0&&(se*=256);)S<0&&Ee===0&&this[A+Z+1]!==0&&(Ee=1),this[A+Z]=(S/se>>0)-Ee&255;return A+M},d.prototype.writeInt8=function(S,A,M){return S=+S,A=A>>>0,M||Q(this,S,A,1,127,-128),S<0&&(S=255+S+1),this[A]=S&255,A+1},d.prototype.writeInt16LE=function(S,A,M){return S=+S,A=A>>>0,M||Q(this,S,A,2,32767,-32768),this[A]=S&255,this[A+1]=S>>>8,A+2},d.prototype.writeInt16BE=function(S,A,M){return S=+S,A=A>>>0,M||Q(this,S,A,2,32767,-32768),this[A]=S>>>8,this[A+1]=S&255,A+2},d.prototype.writeInt32LE=function(S,A,M){return S=+S,A=A>>>0,M||Q(this,S,A,4,2147483647,-2147483648),this[A]=S&255,this[A+1]=S>>>8,this[A+2]=S>>>16,this[A+3]=S>>>24,A+4},d.prototype.writeInt32BE=function(S,A,M){return S=+S,A=A>>>0,M||Q(this,S,A,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),this[A]=S>>>24,this[A+1]=S>>>16,this[A+2]=S>>>8,this[A+3]=S&255,A+4},d.prototype.writeBigInt64LE=q(function(S,A=0){return fe(this,S,A,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=q(function(S,A=0){return Te(this,S,A,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ke(C,S,A,M,z,Z){if(A+M>C.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("Index out of range")}function Fe(C,S,A,M,z){return S=+S,A=A>>>0,z||ke(C,S,A,4),n.write(C,S,A,M,23,4),A+4}d.prototype.writeFloatLE=function(S,A,M){return Fe(this,S,A,!0,M)},d.prototype.writeFloatBE=function(S,A,M){return Fe(this,S,A,!1,M)};function we(C,S,A,M,z){return S=+S,A=A>>>0,z||ke(C,S,A,8),n.write(C,S,A,M,52,8),A+8}d.prototype.writeDoubleLE=function(S,A,M){return we(this,S,A,!0,M)},d.prototype.writeDoubleBE=function(S,A,M){return we(this,S,A,!1,M)},d.prototype.copy=function(S,A,M,z){if(!d.isBuffer(S))throw new TypeError("argument should be a Buffer");if(M||(M=0),!z&&z!==0&&(z=this.length),A>=S.length&&(A=S.length),A||(A=0),z>0&&z<M&&(z=M),z===M||S.length===0||this.length===0)return 0;if(A<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("sourceEnd out of bounds");z>this.length&&(z=this.length),S.length-A<z-M&&(z=S.length-A+M);const Z=z-M;return this===S&&typeof s.prototype.copyWithin=="function"?this.copyWithin(A,M,z):s.prototype.set.call(S,this.subarray(M,z),A),Z},d.prototype.fill=function(S,A,M,z){if(typeof S=="string"){if(typeof A=="string"?(z=A,A=0,M=this.length):typeof M=="string"&&(z=M,M=this.length),z!==void 0&&typeof z!="string")throw new TypeError("encoding must be a string");if(typeof z=="string"&&!d.isEncoding(z))throw new TypeError("Unknown encoding: "+z);if(S.length===1){const se=S.charCodeAt(0);(z==="utf8"&&se<128||z==="latin1")&&(S=se)}}else typeof S=="number"?S=S&255:typeof S=="boolean"&&(S=Number(S));if(A<0||this.length<A||this.length<M)throw new RangeError("Out of range index");if(M<=A)return this;A=A>>>0,M=M===void 0?this.length:M>>>0,S||(S=0);let Z;if(typeof S=="number")for(Z=A;Z<M;++Z)this[Z]=S;else{const se=d.isBuffer(S)?S:d.from(S,z),Ee=se.length;if(Ee===0)throw new TypeError('The value "'+S+'" is invalid for argument "value"');for(Z=0;Z<M-A;++Z)this[Z+A]=se[Z%Ee]}return this};const V={};function J(C,S,A){V[C]=class extends A{constructor(){super(),Object.defineProperty(this,"message",{value:S.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${C}]`,this.stack,delete this.name}get code(){return C}set code(z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:z,writable:!0})}toString(){return`${this.name} [${C}]: ${this.message}`}}}J("ERR_BUFFER_OUT_OF_BOUNDS",function(C){return C?`${C} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),J("ERR_INVALID_ARG_TYPE",function(C,S){return`The "${C}" argument must be of type number. Received type ${typeof S}`},TypeError),J("ERR_OUT_OF_RANGE",function(C,S,A){let M=`The value of "${C}" is out of range.`,z=A;return Number.isInteger(A)&&Math.abs(A)>2**32?z=de(String(A)):typeof A=="bigint"&&(z=String(A),(A>BigInt(2)**BigInt(32)||A<-(BigInt(2)**BigInt(32)))&&(z=de(z)),z+="n"),M+=` It must be ${S}. Received ${z}`,M},RangeError);function de(C){let S="",A=C.length;const M=C[0]==="-"?1:0;for(;A>=M+4;A-=3)S=`_${C.slice(A-3,A)}${S}`;return`${C.slice(0,A)}${S}`}function ne(C,S,A){Ne(S,"offset"),(C[S]===void 0||C[S+A]===void 0)&&xe(S,C.length-(A+1))}function Se(C,S,A,M,z,Z){if(C>A||C<S){const se=typeof S=="bigint"?"n":"";let Ee;throw S===0||S===BigInt(0)?Ee=`>= 0${se} and < 2${se} ** ${(Z+1)*8}${se}`:Ee=`>= -(2${se} ** ${(Z+1)*8-1}${se}) and < 2 ** ${(Z+1)*8-1}${se}`,new V.ERR_OUT_OF_RANGE("value",Ee,C)}ne(M,z,Z)}function Ne(C,S){if(typeof C!="number")throw new V.ERR_INVALID_ARG_TYPE(S,"number",C)}function xe(C,S,A){throw Math.floor(C)!==C?(Ne(C,A),new V.ERR_OUT_OF_RANGE("offset","an integer",C)):S<0?new V.ERR_BUFFER_OUT_OF_BOUNDS:new V.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${S}`,C)}const Ft=/[^+/0-9A-Za-z-_]/g;function kt(C){if(C=C.split("=")[0],C=C.trim().replace(Ft,""),C.length<2)return"";for(;C.length%4!==0;)C=C+"=";return C}function dt(C,S){S=S||1/0;let A;const M=C.length;let z=null;const Z=[];for(let se=0;se<M;++se){if(A=C.charCodeAt(se),A>55295&&A<57344){if(!z){if(A>56319){(S-=3)>-1&&Z.push(239,191,189);continue}else if(se+1===M){(S-=3)>-1&&Z.push(239,191,189);continue}z=A;continue}if(A<56320){(S-=3)>-1&&Z.push(239,191,189),z=A;continue}A=(z-55296<<10|A-56320)+65536}else z&&(S-=3)>-1&&Z.push(239,191,189);if(z=null,A<128){if((S-=1)<0)break;Z.push(A)}else if(A<2048){if((S-=2)<0)break;Z.push(A>>6|192,A&63|128)}else if(A<65536){if((S-=3)<0)break;Z.push(A>>12|224,A>>6&63|128,A&63|128)}else if(A<1114112){if((S-=4)<0)break;Z.push(A>>18|240,A>>12&63|128,A>>6&63|128,A&63|128)}else throw new Error("Invalid code point")}return Z}function ze(C){const S=[];for(let A=0;A<C.length;++A)S.push(C.charCodeAt(A)&255);return S}function It(C,S){let A,M,z;const Z=[];for(let se=0;se<C.length&&!((S-=2)<0);++se)A=C.charCodeAt(se),M=A>>8,z=A%256,Z.push(z),Z.push(M);return Z}function At(C){return t.toByteArray(kt(C))}function Xt(C,S,A,M){let z;for(z=0;z<M&&!(z+A>=S.length||z>=C.length);++z)S[z+A]=C[z];return z}function yt(C,S){return C instanceof S||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===S.name}function Y(C){return C!==C}const B=(function(){const C="0123456789abcdef",S=new Array(256);for(let A=0;A<16;++A){const M=A*16;for(let z=0;z<16;++z)S[M+z]=C[A]+C[z]}return S})();function q(C){return typeof BigInt>"u"?W:C}function W(){throw new Error("BigInt not supported")}})(Y0);const Zr=Y0.Buffer,Gh={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Zr=="function")return Zr.from(e,"base64");if(typeof atob=="function"){const n=atob(e.replace(/[\n\r]/g,"")),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},r,i,s){const o=n;let u;if(typeof Zr=="function")u=o instanceof Zr?o.toString("base64"):Zr.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);u=btoa(c)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t||(t=tt.BLOCK_LITERAL),t!==tt.QUOTE_DOUBLE){const c=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),f=Math.ceil(u.length/c),d=new Array(f);for(let h=0,y=0;h<f;++h,y+=c)d[h]=u.substr(y,c);u=d.join(t===tt.BLOCK_LITERAL?`
`:" ")}return Wh({comment:e,type:t,value:u},r,i,s)}};function J0(e,t){if(sn(e))for(let n=0;n<e.items.length;++n){let r=e.items[n];if(!wt(r)){if(Jt(r)){r.items.length>1&&t("Each pair must have its own sequence indicator");const i=r.items[0]||new Rn(new tt(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){const s=i.value??i.key;s.comment=s.comment?`${r.comment}
${s.comment}`:r.comment}r=i}e.items[n]=wt(r)?r:new Rn(r)}}else t("Expected a sequence for this tag");return e}function Q0(e,t,n){const{replacer:r}=n,i=new Mo(e);i.tag="tag:yaml.org,2002:pairs";let s=0;if(t&&Symbol.iterator in Object(t))for(let o of t){typeof r=="function"&&(o=r.call(t,String(s++),o));let u,c;if(Array.isArray(o))if(o.length===2)u=o[0],c=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const f=Object.keys(o);if(f.length===1)u=f[0],c=o[u];else throw new TypeError(`Expected { key: value } tuple: ${o}`)}else u=o;i.items.push(Vh(u,c,n))}return i}const Jh={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:J0,createNode:Q0};class qo extends Mo{constructor(){super(),this.add=Nr.prototype.add.bind(this),this.delete=Nr.prototype.delete.bind(this),this.get=Nr.prototype.get.bind(this),this.has=Nr.prototype.has.bind(this),this.set=Nr.prototype.set.bind(this),this.tag=qo.tag}toJSON(t,n){if(!n)return super.toJSON(t);const r=new Map;n!=null&&n.onCreate&&n.onCreate(r);for(const i of this.items){let s,o;if(wt(i)?(s=Qr(i.key,"",n),o=Qr(i.value,s,n)):s=Qr(i,"",n),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,o)}return r}}qo.tag="tag:yaml.org,2002:omap";const Qh={collection:"seq",identify:e=>e instanceof Map,nodeClass:qo,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=J0(e,t),r=[];for(const{key:i}of n.items)Je(i)&&(r.includes(i.value)?t(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new qo,n)},createNode(e,t,n){const r=Q0(e,t,n),i=new qo;return i.items=r.items,i}};function X0({value:e,source:t},n){return t&&(e?Z0:ev).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const Z0={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new tt(!0),stringify:X0},ev={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new tt(!1),stringify:X0},Nk={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Fr},Fk={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Fr(e)}},Ik={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new tt(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(n!==-1){const r=e.substring(n+1).replace(/_/g,"");r[r.length-1]==="0"&&(t.minFractionDigits=r.length)}return t},stringify:Fr},tu=e=>typeof e=="bigint"||Number.isInteger(e);function Hc(e,t,n,{intAsBigInt:r}){const i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),r){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`;break}const o=BigInt(e);return i==="-"?BigInt(-1)*o:o}const s=parseInt(e,n);return i==="-"?-1*s:s}function Xh(e,t,n){const{value:r}=e;if(tu(r)){const i=r.toString(t);return r<0?"-"+n+i.substr(1):n+i}return Fr(e)}const Mk={identify:tu,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>Hc(e,2,2,n),stringify:e=>Xh(e,2,"0b")},Lk={identify:tu,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>Hc(e,1,8,n),stringify:e=>Xh(e,8,"0")},jk={identify:tu,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>Hc(e,0,10,n),stringify:Fr},qk={identify:tu,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>Hc(e,2,16,n),stringify:e=>Xh(e,16,"0x")};class xo extends Nr{constructor(t){super(t),this.tag=xo.tag}add(t){let n;wt(t)?n=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?n=new Rn(t.key,null):n=new Rn(t,null),js(this.items,n.key)||this.items.push(n)}get(t,n){const r=js(this.items,t);return!n&&wt(r)?Je(r.key)?r.key.value:r.key:r}set(t,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const r=js(this.items,t);r&&!n?this.items.splice(this.items.indexOf(r),1):!r&&n&&this.items.push(new Rn(t))}toJSON(t,n){return super.toJSON(t,n,Set)}toString(t,n,r){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),n,r);throw new Error("Set items must all have null values")}}xo.tag="tag:yaml.org,2002:set";const Zh={collection:"map",identify:e=>e instanceof Set,nodeClass:xo,default:!1,tag:"tag:yaml.org,2002:set",resolve(e,t){if(Jt(e)){if(e.hasAllNullValues(!0))return Object.assign(new xo,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e},createNode(e,t,n){const{replacer:r}=n,i=new xo(e);if(t&&Symbol.iterator in Object(t))for(let s of t)typeof r=="function"&&(s=r.call(t,s,s)),i.items.push(Vh(s,null,n));return i}};function ep(e,t){const n=e[0],r=n==="-"||n==="+"?e.substring(1):e,i=o=>t?BigInt(o):Number(o),s=r.replace(/_/g,"").split(":").reduce((o,u)=>o*i(60)+i(u),i(0));return n==="-"?i(-1)*s:s}function tv(e){let{value:t}=e,n=o=>o;if(typeof t=="bigint")n=o=>BigInt(o);else if(isNaN(t)||!isFinite(t))return Fr(e);let r="";t<0&&(r="-",t*=n(-1));const i=n(60),s=[t%i];return t<60?s.unshift(0):(t=(t-s[0])/i,s.unshift(t%i),t>=60&&(t=(t-s[0])/i,s.unshift(t))),r+s.map(o=>o<10?"0"+String(o):String(o)).join(":").replace(/000000\d*$/,"")}const nv={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>ep(e,n),stringify:tv},rv={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>ep(e,!1),stringify:tv},Kc={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(Kc.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,r,i,s,o,u]=t.map(Number),c=t[7]?Number((t[7]+"00").substr(1,3)):0;let f=Date.UTC(n,r-1,i,s||0,o||0,u||0,c);const d=t[8];if(d&&d!=="Z"){let h=ep(d,!1);Math.abs(h)<30&&(h*=60),f-=6e4*h}return new Date(f)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},iv=[Io,Lo,xc,Bc,Z0,ev,Mk,Lk,jk,qk,Nk,Fk,Ik,Gh,Qh,Jh,Zh,nv,rv,Kc],sv=new Map([["core",wk],["failsafe",[Io,Lo,xc]],["json",Sk],["yaml11",iv],["yaml-1.1",iv]]),ov={binary:Gh,bool:Hh,float:W0,floatExp:B0,floatNaN:x0,floatTime:rv,int:H0,intHex:K0,intOct:V0,intTime:nv,map:Io,null:Bc,omap:Qh,pairs:Jh,seq:Lo,set:Zh,timestamp:Kc},xk={"tag:yaml.org,2002:binary":Gh,"tag:yaml.org,2002:omap":Qh,"tag:yaml.org,2002:pairs":Jh,"tag:yaml.org,2002:set":Zh,"tag:yaml.org,2002:timestamp":Kc};function tp(e,t){let n=sv.get(t);if(!n)if(Array.isArray(e))n=[];else{const r=Array.from(sv.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${r} or define customTags array`)}if(Array.isArray(e))for(const r of e)n=n.concat(r);else typeof e=="function"&&(n=e(n.slice()));return n.map(r=>{if(typeof r!="string")return r;const i=ov[r];if(i)return i;const s=Object.keys(ov).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown custom tag "${r}"; use one of ${s}`)})}const Bk=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class np{constructor({compat:t,customTags:n,merge:r,resolveKnownTags:i,schema:s,sortMapEntries:o,toStringDefaults:u}){this.compat=Array.isArray(t)?tp(t,"compat"):t?tp(null,t):null,this.merge=!!r,this.name=typeof s=="string"&&s||"core",this.knownTags=i?xk:{},this.tags=tp(n,this.name),this.toStringOptions=u??null,Object.defineProperty(this,Xi,{value:Io}),Object.defineProperty(this,wi,{value:xc}),Object.defineProperty(this,Ro,{value:Lo}),this.sortMapEntries=typeof o=="function"?o:o===!0?Bk:null}clone(){const t=Object.create(np.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function Wk(e,t){var c;const n=[];let r=t.directives===!0;if(t.directives!==!1&&e.directives){const f=e.directives.toString(e);f?(n.push(f),r=!0):e.directives.docStart&&(r=!0)}r&&n.push("---");const i=I0(e,t),{commentString:s}=i.options;if(e.commentBefore){n.length!==1&&n.unshift("");const f=s(e.commentBefore);n.unshift(_i(f,""))}let o=!1,u=null;if(e.contents){if($t(e.contents)){if(e.contents.spaceBefore&&r&&n.push(""),e.contents.commentBefore){const h=s(e.contents.commentBefore);n.push(_i(h,""))}i.forceBlockIndent=!!e.comment,u=e.contents.comment}const f=u?void 0:()=>o=!0;let d=Ls(e.contents,i,()=>u=null,f);u&&(d+=Zi(d,"",s(u))),(d[0]==="|"||d[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${d}`:n.push(d)}else n.push(Ls(e.contents,i));if((c=e.directives)!=null&&c.docEnd)if(e.comment){const f=s(e.comment);f.includes(`
`)?(n.push("..."),n.push(_i(f,""))):n.push(`... ${f}`)}else n.push("...");else{let f=e.comment;f&&o&&(f=f.replace(/^\n+/,"")),f&&((!o||u)&&n[n.length-1]!==""&&n.push(""),n.push(_i(s(f),"")))}return n.join(`
`)+`
`}function nu(e,t,n,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,s=r.length;i<s;++i){const o=r[i],u=nu(e,r,String(i),o);u===void 0?delete r[i]:u!==o&&(r[i]=u)}else if(r instanceof Map)for(const i of Array.from(r.keys())){const s=r.get(i),o=nu(e,r,i,s);o===void 0?r.delete(i):o!==s&&r.set(i,o)}else if(r instanceof Set)for(const i of Array.from(r)){const s=nu(e,r,i,i);s===void 0?r.delete(i):s!==i&&(r.delete(i),r.add(s))}else for(const[i,s]of Object.entries(r)){const o=nu(e,r,i,s);o===void 0?delete r[i]:o!==s&&(r[i]=o)}return e.call(t,n,r)}class ru{constructor(t,n,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,dr,{value:Lh});let i=null;typeof n=="function"||Array.isArray(n)?i=n:r===void 0&&n&&(r=n,n=void 0);const s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},r);this.options=s;let{version:o}=s;r!=null&&r._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Pn({version:o}),this.setSchema(o,r),t===void 0?this.contents=null:this.contents=this.createNode(t,i,r)}clone(){const t=Object.create(ru.prototype,{[dr]:{value:Lh}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=$t(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){Bo(this.contents)&&this.contents.add(t)}addIn(t,n){Bo(this.contents)&&this.contents.addIn(t,n)}createAlias(t,n){if(!t.anchor){const r=O0(this);t.anchor=!n||r.has(n)?P0(n||"a",r):n}return new qh(t.anchor)}createNode(t,n,r){let i;if(typeof n=="function")t=n.call({"":t},"",t),i=n;else if(Array.isArray(n)){const E=D=>typeof D=="number"||D instanceof String||D instanceof Number,T=n.filter(E).map(String);T.length>0&&(n=n.concat(T)),i=n}else r===void 0&&n&&(r=n,n=void 0);const{aliasDuplicateObjects:s,anchorPrefix:o,flow:u,keepUndefined:c,onTagObj:f,tag:d}=r??{},{onAnchor:h,setAnchors:y,sourceObjects:w}=ok(this,o||"a"),k={aliasDuplicateObjects:s??!0,keepUndefined:c??!1,onAnchor:h,onTagObj:f,replacer:i,schema:this.schema,sourceObjects:w},$=Xa(t,d,k);return u&&Qt($)&&($.flow=!0),y(),$}createPair(t,n,r={}){const i=this.createNode(t,null,r),s=this.createNode(n,null,r);return new Rn(i,s)}delete(t){return Bo(this.contents)?this.contents.delete(t):!1}deleteIn(t){return Za(t)?this.contents==null?!1:(this.contents=null,!0):Bo(this.contents)?this.contents.deleteIn(t):!1}get(t,n){return Qt(this.contents)?this.contents.get(t,n):void 0}getIn(t,n){return Za(t)?!n&&Je(this.contents)?this.contents.value:this.contents:Qt(this.contents)?this.contents.getIn(t,n):void 0}has(t){return Qt(this.contents)?this.contents.has(t):!1}hasIn(t){return Za(t)?this.contents!==void 0:Qt(this.contents)?this.contents.hasIn(t):!1}set(t,n){this.contents==null?this.contents=Pc(this.schema,[t],n):Bo(this.contents)&&this.contents.set(t,n)}setIn(t,n){Za(t)?this.contents=n:this.contents==null?this.contents=Pc(this.schema,Array.from(t),n):Bo(this.contents)&&this.contents.setIn(t,n)}setSchema(t,n={}){typeof t=="number"&&(t=String(t));let r;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Pn({version:"1.1"}),r={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new Pn({version:t}),r={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{const i=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(r)this.schema=new np(Object.assign(r,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:n,mapAsMap:r,maxAliasCount:i,onAnchor:s,reviver:o}={}){const u={anchors:new Map,doc:this,keep:!t,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100,stringify:Ls},c=Qr(this.contents,n??"",u);if(typeof s=="function")for(const{count:f,res:d}of u.anchors.values())s(d,f);return typeof o=="function"?nu(o,{"":c},"",c):c}toJSON(t,n){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:n})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const n=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return Wk(this,t)}}function Bo(e){if(Qt(e))return!0;throw new Error("Expected a YAML collection as document contents")}class av extends Error{constructor(t,n,r,i){super(),this.name=t,this.code=r,this.message=i,this.pos=n}}class iu extends av{constructor(t,n,r){super("YAMLParseError",t,n,r)}}class Uk extends av{constructor(t,n,r){super("YAMLWarning",t,n,r)}}const uv=(e,t)=>n=>{if(n.pos[0]===-1)return;n.linePos=n.pos.map(u=>t.linePos(u));const{line:r,col:i}=n.linePos[0];n.message+=` at line ${r}, column ${i}`;let s=i-1,o=e.substring(t.lineStarts[r-1],t.lineStarts[r]).replace(/[\n\r]+$/,"");if(s>=60&&o.length>80){const u=Math.min(s-39,o.length-79);o="…"+o.substring(u),s-=u-1}if(o.length>80&&(o=o.substring(0,79)+"…"),r>1&&/^ *$/.test(o.substring(0,s))){let u=e.substring(t.lineStarts[r-2],t.lineStarts[r-1]);u.length>80&&(u=u.substring(0,79)+`…
`),o=u+o}if(/[^ ]/.test(o)){let u=1;const c=n.linePos[1];c&&c.line===r&&c.col>i&&(u=Math.max(1,Math.min(c.col-i,80-s)));const f=" ".repeat(s)+"^".repeat(u);n.message+=`:

${o}
${f}
`}};function Wo(e,{flow:t,indicator:n,next:r,offset:i,onError:s,startOnNewline:o}){let u=!1,c=o,f=o,d="",h="",y=!1,w=!1,k=!1,$=null,E=null,T=null,D=null,p=null;for(const v of e)switch(k&&(v.type!=="space"&&v.type!=="newline"&&v.type!=="comma"&&s(v.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),k=!1),v.type){case"space":!t&&c&&n!=="doc-start"&&v.source[0]==="	"&&s(v,"TAB_AS_INDENT","Tabs are not allowed as indentation"),f=!0;break;case"comment":{f||s(v,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const _=v.source.substring(1)||" ";d?d+=h+_:d=_,h="",c=!1;break}case"newline":c?d?d+=v.source:u=!0:h+=v.source,c=!0,y=!0,($||E)&&(w=!0),f=!0;break;case"anchor":$&&s(v,"MULTIPLE_ANCHORS","A node can have at most one anchor"),v.source.endsWith(":")&&s(v.offset+v.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),$=v,p===null&&(p=v.offset),c=!1,f=!1,k=!0;break;case"tag":{E&&s(v,"MULTIPLE_TAGS","A node can have at most one tag"),E=v,p===null&&(p=v.offset),c=!1,f=!1,k=!0;break}case n:($||E)&&s(v,"BAD_PROP_ORDER",`Anchors and tags must be after the ${v.source} indicator`),D&&s(v,"UNEXPECTED_TOKEN",`Unexpected ${v.source} in ${t??"collection"}`),D=v,c=!1,f=!1;break;case"comma":if(t){T&&s(v,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),T=v,c=!1,f=!1;break}default:s(v,"UNEXPECTED_TOKEN",`Unexpected ${v.type} token`),c=!1,f=!1}const b=e[e.length-1],m=b?b.offset+b.source.length:i;return k&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&s(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:T,found:D,spaceBefore:u,comment:d,hasNewline:y,hasNewlineAfterProp:w,anchor:$,tag:E,end:m,start:p??m}}function su(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes(`
`))return!0;if(e.end){for(const t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(const t of e.items){for(const n of t.start)if(n.type==="newline")return!0;if(t.sep){for(const n of t.sep)if(n.type==="newline")return!0}if(su(t.key)||su(t.value))return!0}return!1;default:return!0}}function rp(e,t,n){if((t==null?void 0:t.type)==="flow-collection"){const r=t.end[0];r.indent===e&&(r.source==="]"||r.source==="}")&&su(t)&&n(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function cv(e,t,n){const{uniqueKeys:r}=e.options;if(r===!1)return!1;const i=typeof r=="function"?r:(s,o)=>s===o||Je(s)&&Je(o)&&s.value===o.value&&!(s.value==="<<"&&e.schema.merge);return t.some(s=>i(s.key,n))}const lv="All mapping items must start at the same column";function Vk({composeNode:e,composeEmptyNode:t},n,r,i){var c;const s=new Nr(n.schema);n.atRoot&&(n.atRoot=!1);let o=r.offset,u=null;for(const f of r.items){const{start:d,key:h,sep:y,value:w}=f,k=Wo(d,{indicator:"explicit-key-ind",next:h??(y==null?void 0:y[0]),offset:o,onError:i,startOnNewline:!0}),$=!k.found;if($){if(h&&(h.type==="block-seq"?i(o,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in h&&h.indent!==r.indent&&i(o,"BAD_INDENT",lv)),!k.anchor&&!k.tag&&!y){u=k.end,k.comment&&(s.comment?s.comment+=`
`+k.comment:s.comment=k.comment);continue}(k.hasNewlineAfterProp||su(h))&&i(h??d[d.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((c=k.found)==null?void 0:c.indent)!==r.indent&&i(o,"BAD_INDENT",lv);const E=k.end,T=h?e(n,h,k,i):t(n,E,d,null,k,i);n.schema.compat&&rp(r.indent,h,i),cv(n,s.items,T)&&i(E,"DUPLICATE_KEY","Map keys must be unique");const D=Wo(y??[],{indicator:"map-value-ind",next:w,offset:T.range[2],onError:i,startOnNewline:!h||h.type==="block-scalar"});if(o=D.end,D.found){$&&((w==null?void 0:w.type)==="block-map"&&!D.hasNewline&&i(o,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&k.start<D.found.offset-1024&&i(T.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const p=w?e(n,w,D,i):t(n,o,y,null,D,i);n.schema.compat&&rp(r.indent,w,i),o=p.range[2];const b=new Rn(T,p);n.options.keepSourceTokens&&(b.srcToken=f),s.items.push(b)}else{$&&i(T.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),D.comment&&(T.comment?T.comment+=`
`+D.comment:T.comment=D.comment);const p=new Rn(T);n.options.keepSourceTokens&&(p.srcToken=f),s.items.push(p)}}return u&&u<o&&i(u,"IMPOSSIBLE","Map comment with trailing content"),s.range=[r.offset,o,u??o],s}function Hk({composeNode:e,composeEmptyNode:t},n,r,i){const s=new Mo(n.schema);n.atRoot&&(n.atRoot=!1);let o=r.offset,u=null;for(const{start:c,value:f}of r.items){const d=Wo(c,{indicator:"seq-item-ind",next:f,offset:o,onError:i,startOnNewline:!0});if(!d.found)if(d.anchor||d.tag||f)f&&f.type==="block-seq"?i(d.end,"BAD_INDENT","All sequence items must start at the same column"):i(o,"MISSING_CHAR","Sequence item without - indicator");else{u=d.end,d.comment&&(s.comment=d.comment);continue}const h=f?e(n,f,d,i):t(n,d.end,c,null,d,i);n.schema.compat&&rp(r.indent,f,i),o=h.range[2],s.items.push(h)}return s.range=[r.offset,o,u??o],s}function ou(e,t,n,r){let i="";if(e){let s=!1,o="";for(const u of e){const{source:c,type:f}=u;switch(f){case"space":s=!0;break;case"comment":{n&&!s&&r(u,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const d=c.substring(1)||" ";i?i+=o+d:i=d,o="";break}case"newline":i&&(o+=c),s=!0;break;default:r(u,"UNEXPECTED_TOKEN",`Unexpected ${f} at node end`)}t+=c.length}}return{comment:i,offset:t}}const ip="Block collections are not allowed within flow collections",sp=e=>e&&(e.type==="block-map"||e.type==="block-seq");function Kk({composeNode:e,composeEmptyNode:t},n,r,i){const s=r.start.source==="{",o=s?"flow map":"flow sequence",u=s?new Nr(n.schema):new Mo(n.schema);u.flow=!0;const c=n.atRoot;c&&(n.atRoot=!1);let f=r.offset+r.start.source.length;for(let k=0;k<r.items.length;++k){const $=r.items[k],{start:E,key:T,sep:D,value:p}=$,b=Wo(E,{flow:o,indicator:"explicit-key-ind",next:T??(D==null?void 0:D[0]),offset:f,onError:i,startOnNewline:!1});if(!b.found){if(!b.anchor&&!b.tag&&!D&&!p){k===0&&b.comma?i(b.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`):k<r.items.length-1&&i(b.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${o}`),b.comment&&(u.comment?u.comment+=`
`+b.comment:u.comment=b.comment),f=b.end;continue}!s&&n.options.strict&&su(T)&&i(T,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(k===0)b.comma&&i(b.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`);else if(b.comma||i(b.start,"MISSING_CHAR",`Missing , between ${o} items`),b.comment){let m="";e:for(const v of E)switch(v.type){case"comma":case"space":break;case"comment":m=v.source.substring(1);break e;default:break e}if(m){let v=u.items[u.items.length-1];wt(v)&&(v=v.value??v.key),v.comment?v.comment+=`
`+m:v.comment=m,b.comment=b.comment.substring(m.length+1)}}if(!s&&!D&&!b.found){const m=p?e(n,p,b,i):t(n,b.end,D,null,b,i);u.items.push(m),f=m.range[2],sp(p)&&i(m.range,"BLOCK_IN_FLOW",ip)}else{const m=b.end,v=T?e(n,T,b,i):t(n,m,E,null,b,i);sp(T)&&i(v.range,"BLOCK_IN_FLOW",ip);const _=Wo(D??[],{flow:o,indicator:"map-value-ind",next:p,offset:v.range[2],onError:i,startOnNewline:!1});if(_.found){if(!s&&!b.found&&n.options.strict){if(D)for(const N of D){if(N===_.found)break;if(N.type==="newline"){i(N,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}b.start<_.found.offset-1024&&i(_.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else p&&("source"in p&&p.source&&p.source[0]===":"?i(p,"MISSING_CHAR",`Missing space after : in ${o}`):i(_.start,"MISSING_CHAR",`Missing , or : between ${o} items`));const P=p?e(n,p,_,i):_.found?t(n,_.end,D,null,_,i):null;P?sp(p)&&i(P.range,"BLOCK_IN_FLOW",ip):_.comment&&(v.comment?v.comment+=`
`+_.comment:v.comment=_.comment);const R=new Rn(v,P);if(n.options.keepSourceTokens&&(R.srcToken=$),s){const N=u;cv(n,N.items,v)&&i(m,"DUPLICATE_KEY","Map keys must be unique"),N.items.push(R)}else{const N=new Nr(n.schema);N.flow=!0,N.items.push(R),u.items.push(N)}f=P?P.range[2]:_.end}}const d=s?"}":"]",[h,...y]=r.end;let w=f;if(h&&h.source===d)w=h.offset+h.source.length;else{const k=o[0].toUpperCase()+o.substring(1),$=c?`${k} must end with a ${d}`:`${k} in block collection must be sufficiently indented and end with a ${d}`;i(f,c?"MISSING_CHAR":"BAD_INDENT",$),h&&h.source.length!==1&&y.unshift(h)}if(y.length>0){const k=ou(y,w,n.options.strict,i);k.comment&&(u.comment?u.comment+=`
`+k.comment:u.comment=k.comment),u.range=[r.offset,w,k.offset]}else u.range=[r.offset,w,w];return u}function zk(e,t,n,r,i){let s;switch(n.type){case"block-map":{s=Vk(e,t,n,i);break}case"block-seq":{s=Hk(e,t,n,i);break}case"flow-collection":{s=Kk(e,t,n,i);break}}if(!r)return s;const o=t.directives.tagName(r.source,y=>i(r,"TAG_RESOLVE_FAILED",y));if(!o)return s;const u=s.constructor;if(o==="!"||o===u.tagName)return s.tag=u.tagName,s;const c=Jt(s)?"map":"seq";let f=t.schema.tags.find(y=>y.collection===c&&y.tag===o);if(!f){const y=t.schema.knownTags[o];if(y&&y.collection===c)t.schema.tags.push(Object.assign({},y,{default:!1})),f=y;else return i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),s.tag=o,s}const d=f.resolve(s,y=>i(r,"TAG_RESOLVE_FAILED",y),t.options),h=$t(d)?d:new tt(d);return h.range=s.range,h.tag=o,f!=null&&f.format&&(h.format=f.format),h}function Yk(e,t,n){const r=e.offset,i=Gk(e,t,n);if(!i)return{value:"",type:null,comment:"",range:[r,r,r]};const s=i.mode===">"?tt.BLOCK_FOLDED:tt.BLOCK_LITERAL,o=e.source?Jk(e.source):[];let u=o.length;for(let $=o.length-1;$>=0;--$){const E=o[$][1];if(E===""||E==="\r")u=$;else break}if(u===0){const $=i.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"";let E=r+i.length;return e.source&&(E+=e.source.length),{value:$,type:s,comment:i.comment,range:[r,E,E]}}let c=e.indent+i.indent,f=e.offset+i.length,d=0;for(let $=0;$<u;++$){const[E,T]=o[$];if(T===""||T==="\r")i.indent===0&&E.length>c&&(c=E.length);else{E.length<c&&n(f+E.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(c=E.length),d=$;break}f+=E.length+T.length+1}for(let $=o.length-1;$>=u;--$)o[$][0].length>c&&(u=$+1);let h="",y="",w=!1;for(let $=0;$<d;++$)h+=o[$][0].slice(c)+`
`;for(let $=d;$<u;++$){let[E,T]=o[$];f+=E.length+T.length+1;const D=T[T.length-1]==="\r";if(D&&(T=T.slice(0,-1)),T&&E.length<c){const b=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;n(f-T.length-(D?2:1),"BAD_INDENT",b),E=""}s===tt.BLOCK_LITERAL?(h+=y+E.slice(c)+T,y=`
`):E.length>c||T[0]==="	"?(y===" "?y=`
`:!w&&y===`
`&&(y=`

`),h+=y+E.slice(c)+T,y=`
`,w=!0):T===""?y===`
`?h+=`
`:y=`
`:(h+=y+T,y=" ",w=!1)}switch(i.chomp){case"-":break;case"+":for(let $=u;$<o.length;++$)h+=`
`+o[$][0].slice(c);h[h.length-1]!==`
`&&(h+=`
`);break;default:h+=`
`}const k=r+i.length+e.source.length;return{value:h,type:s,comment:i.comment,range:[r,k,k]}}function Gk({offset:e,props:t},n,r){if(t[0].type!=="block-scalar-header")return r(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:i}=t[0],s=i[0];let o=0,u="",c=-1;for(let y=1;y<i.length;++y){const w=i[y];if(!u&&(w==="-"||w==="+"))u=w;else{const k=Number(w);!o&&k?o=k:c===-1&&(c=e+y)}}c!==-1&&r(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let f=!1,d="",h=i.length;for(let y=1;y<t.length;++y){const w=t[y];switch(w.type){case"space":f=!0;case"newline":h+=w.source.length;break;case"comment":n&&!f&&r(w,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),h+=w.source.length,d=w.source.substring(1);break;case"error":r(w,"UNEXPECTED_TOKEN",w.message),h+=w.source.length;break;default:{const k=`Unexpected token in block scalar header: ${w.type}`;r(w,"UNEXPECTED_TOKEN",k);const $=w.source;$&&typeof $=="string"&&(h+=$.length)}}}return{mode:s,indent:o,chomp:u,comment:d,length:h}}function Jk(e){const t=e.split(/\n( *)/),n=t[0],r=n.match(/^( *)/),s=[r!=null&&r[1]?[r[1],n.slice(r[1].length)]:["",n]];for(let o=1;o<t.length;o+=2)s.push([t[o],t[o+1]]);return s}function Qk(e,t,n){const{offset:r,type:i,source:s,end:o}=e;let u,c;const f=(y,w,k)=>n(r+y,w,k);switch(i){case"scalar":u=tt.PLAIN,c=Xk(s,f);break;case"single-quoted-scalar":u=tt.QUOTE_SINGLE,c=Zk(s,f);break;case"double-quoted-scalar":u=tt.QUOTE_DOUBLE,c=eA(s,f);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+s.length,r+s.length]}}const d=r+s.length,h=ou(o,d,t,n);return{value:c,type:u,comment:h.comment,range:[r,d,h.offset]}}function Xk(e,t){let n="";switch(e[0]){case"	":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":{n=`block scalar indicator ${e[0]}`;break}case"@":case"`":{n=`reserved character ${e[0]}`;break}}return n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`),fv(e)}function Zk(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),fv(e.slice(1,-1)).replace(/''/g,"'")}function fv(e){let t,n;try{t=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),n=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let r=t.exec(e);if(!r)return e;let i=r[1],s=" ",o=t.lastIndex;for(n.lastIndex=o;r=n.exec(e);)r[1]===""?s===`
`?i+=s:s=`
`:(i+=s+r[1],s=" "),o=n.lastIndex;const u=/[ \t]*(.*)/sy;return u.lastIndex=o,r=u.exec(e),i+s+((r==null?void 0:r[1])??"")}function eA(e,t){let n="";for(let r=1;r<e.length-1;++r){const i=e[r];if(!(i==="\r"&&e[r+1]===`
`))if(i===`
`){const{fold:s,offset:o}=tA(e,r);n+=s,r=o}else if(i==="\\"){let s=e[++r];const o=nA[s];if(o)n+=o;else if(s===`
`)for(s=e[r+1];s===" "||s==="	";)s=e[++r+1];else if(s==="\r"&&e[r+1]===`
`)for(s=e[++r+1];s===" "||s==="	";)s=e[++r+1];else if(s==="x"||s==="u"||s==="U"){const u={x:2,u:4,U:8}[s];n+=rA(e,r+1,u,t),r+=u}else{const u=e.substr(r-1,2);t(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${u}`),n+=u}}else if(i===" "||i==="	"){const s=r;let o=e[r+1];for(;o===" "||o==="	";)o=e[++r+1];o!==`
`&&!(o==="\r"&&e[r+2]===`
`)&&(n+=r>s?e.slice(s,r+1):i)}else n+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),n}function tA(e,t){let n="",r=e[t+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&e[t+2]!==`
`);)r===`
`&&(n+=`
`),t+=1,r=e[t+1];return n||(n=" "),{fold:n,offset:t}}const nA={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function rA(e,t,n,r){const i=e.substr(t,n),o=i.length===n&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){const u=e.substr(t-2,n+2);return r(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${u}`),u}return String.fromCodePoint(o)}function dv(e,t,n,r){const{value:i,type:s,comment:o,range:u}=t.type==="block-scalar"?Yk(t,e.options.strict,r):Qk(t,e.options.strict,r),c=n?e.directives.tagName(n.source,h=>r(n,"TAG_RESOLVE_FAILED",h)):null,f=n&&c?iA(e.schema,i,c,n,r):t.type==="scalar"?sA(e,i,t,r):e.schema[wi];let d;try{const h=f.resolve(i,y=>r(n??t,"TAG_RESOLVE_FAILED",y),e.options);d=Je(h)?h:new tt(h)}catch(h){const y=h instanceof Error?h.message:String(h);r(n??t,"TAG_RESOLVE_FAILED",y),d=new tt(i)}return d.range=u,d.source=i,s&&(d.type=s),c&&(d.tag=c),f.format&&(d.format=f.format),o&&(d.comment=o),d}function iA(e,t,n,r,i){var u;if(n==="!")return e[wi];const s=[];for(const c of e.tags)if(!c.collection&&c.tag===n)if(c.default&&c.test)s.push(c);else return c;for(const c of s)if((u=c.test)!=null&&u.test(t))return c;const o=e.knownTags[n];return o&&!o.collection?(e.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,n!=="tag:yaml.org,2002:str"),e[wi])}function sA({directives:e,schema:t},n,r,i){const s=t.tags.find(o=>{var u;return o.default&&((u=o.test)==null?void 0:u.test(n))})||t[wi];if(t.compat){const o=t.compat.find(u=>{var c;return u.default&&((c=u.test)==null?void 0:c.test(n))})??t[wi];if(s.tag!==o.tag){const u=e.tagString(s.tag),c=e.tagString(o.tag),f=`Value may be parsed as either ${u} or ${c}`;i(r,"TAG_RESOLVE_FAILED",f,!0)}}return s}function oA(e,t,n){if(t){n===null&&(n=t.length);for(let r=n-1;r>=0;--r){let i=t[r];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++r];(i==null?void 0:i.type)==="space";)e+=i.source.length,i=t[++r];break}}return e}const aA={composeNode:hv,composeEmptyNode:op};function hv(e,t,n,r){const{spaceBefore:i,comment:s,anchor:o,tag:u}=n;let c,f=!0;switch(t.type){case"alias":c=uA(e,t,r),(o||u)&&r(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=dv(e,t,u,r),o&&(c.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=zk(aA,e,t,u,r),o&&(c.anchor=o.source.substring(1));break;default:{const d=t.type==="error"?t.message:`Unsupported token (type: ${t.type})`;r(t,"UNEXPECTED_TOKEN",d),c=op(e,t.offset,void 0,null,n,r),f=!1}}return o&&c.anchor===""&&r(o,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(c.spaceBefore=!0),s&&(t.type==="scalar"&&t.source===""?c.comment=s:c.commentBefore=s),e.options.keepSourceTokens&&f&&(c.srcToken=t),c}function op(e,t,n,r,{spaceBefore:i,comment:s,anchor:o,tag:u,end:c},f){const d={type:"scalar",offset:oA(t,n,r),indent:-1,source:""},h=dv(e,d,u,f);return o&&(h.anchor=o.source.substring(1),h.anchor===""&&f(o,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(h.spaceBefore=!0),s&&(h.comment=s,h.range[2]=c),h}function uA({options:e},{offset:t,source:n,end:r},i){const s=new qh(n.substring(1));s.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&i(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const o=t+n.length,u=ou(r,o,e.strict,i);return s.range=[t,o,u.offset],u.comment&&(s.comment=u.comment),s}function cA(e,t,{offset:n,start:r,value:i,end:s},o){const u=Object.assign({_directives:t},e),c=new ru(void 0,u),f={atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},d=Wo(r,{indicator:"doc-start",next:i??(s==null?void 0:s[0]),offset:n,onError:o,startOnNewline:!0});d.found&&(c.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!d.hasNewline&&o(d.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=i?hv(f,i,d,o):op(f,d.end,r,null,d,o);const h=c.contents.range[2],y=ou(s,h,!1,o);return y.comment&&(c.comment=y.comment),c.range=[n,h,y.offset],c}function au(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+(typeof n=="string"?n.length:1)]}function pv(e){var i;let t="",n=!1,r=!1;for(let s=0;s<e.length;++s){const o=e[s];switch(o[0]){case"#":t+=(t===""?"":r?`

`:`
`)+(o.substring(1)||" "),n=!0,r=!1;break;case"%":((i=e[s+1])==null?void 0:i[0])!=="#"&&(s+=1),n=!1;break;default:n||(r=!0),n=!1}}return{comment:t,afterEmptyLine:r}}class mv{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(n,r,i,s)=>{const o=au(n);s?this.warnings.push(new Uk(o,r,i)):this.errors.push(new iu(o,r,i))},this.directives=new Pn({version:t.version||"1.2"}),this.options=t}decorate(t,n){const{comment:r,afterEmptyLine:i}=pv(this.prelude);if(r){const s=t.contents;if(n)t.comment=t.comment?`${t.comment}
${r}`:r;else if(i||t.directives.docStart||!s)t.commentBefore=r;else if(Qt(s)&&!s.flow&&s.items.length>0){let o=s.items[0];wt(o)&&(o=o.key);const u=o.commentBefore;o.commentBefore=u?`${r}
${u}`:r}else{const o=s.commentBefore;s.commentBefore=o?`${r}
${o}`:r}}n?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:pv(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,n=!1,r=-1){for(const i of t)yield*this.next(i);yield*this.end(n,r)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(n,r,i)=>{const s=au(t);s[0]+=n,this.onError(s,"BAD_DIRECTIVE",r,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const n=cA(this.options,this.directives,t,this.onError);this.atDirectives&&!n.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(n,!1),this.doc&&(yield this.doc),this.doc=n,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const n=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,r=new iu(au(t),"UNEXPECTED_TOKEN",n);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){const r="Unexpected doc-end without preceding document";this.errors.push(new iu(au(t),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;const n=ou(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),n.comment){const r=this.doc.comment;this.doc.comment=r?`${r}
${n.comment}`:n.comment}this.doc.range[2]=n.offset;break}default:this.errors.push(new iu(au(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,n=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const r=Object.assign({_directives:this.directives},this.options),i=new ru(void 0,r);this.atDirectives&&this.onError(n,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,n,n],this.decorate(i,!1),yield i}}}const gv=e=>"type"in e?zc(e):Yc(e);function zc(e){switch(e.type){case"block-scalar":{let t="";for(const n of e.props)t+=zc(n);return t+e.source}case"block-map":case"block-seq":{let t="";for(const n of e.items)t+=Yc(n);return t}case"flow-collection":{let t=e.start.source;for(const n of e.items)t+=Yc(n);for(const n of e.end)t+=n.source;return t}case"document":{let t=Yc(e);if(e.end)for(const n of e.end)t+=n.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(const n of e.end)t+=n.source;return t}}}function Yc({start:e,key:t,sep:n,value:r}){let i="";for(const s of e)i+=s.source;if(t&&(i+=zc(t)),n)for(const s of n)i+=s.source;return r&&(i+=zc(r)),i}const ap=Symbol("break visit"),lA=Symbol("skip children"),yv=Symbol("remove item");function qs(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),vv(Object.freeze([]),e,t)}qs.BREAK=ap,qs.SKIP=lA,qs.REMOVE=yv,qs.itemAtPath=(e,t)=>{let n=e;for(const[r,i]of t){const s=n==null?void 0:n[r];if(s&&"items"in s)n=s.items[i];else return}return n},qs.parentCollection=(e,t)=>{const n=qs.itemAtPath(e,t.slice(0,-1)),r=t[t.length-1][0],i=n==null?void 0:n[r];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function vv(e,t,n){let r=n(t,e);if(typeof r=="symbol")return r;for(const i of["key","value"]){const s=t[i];if(s&&"items"in s){for(let o=0;o<s.items.length;++o){const u=vv(Object.freeze(e.concat([[i,o]])),s.items[o],n);if(typeof u=="number")o=u-1;else{if(u===ap)return ap;u===yv&&(s.items.splice(o,1),o-=1)}}typeof r=="function"&&i==="key"&&(r=r(t,e))}}return typeof r=="function"?r(t,e):r}const bv="\uFEFF",Dv="",wv="",up="",fA=e=>!!e&&"items"in e,cp=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function dA(e){switch(e){case bv:return"byte-order-mark";case Dv:return"doc-mode";case wv:return"flow-error-end";case up:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}function pr(e){switch(e){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const _v="0123456789ABCDEFabcdef".split(""),hA="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),lp=",[]{}".split(""),pA=` ,[]{}
\r	`.split(""),fp=e=>!e||pA.includes(e);class mA{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,n=!1){t&&(this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null),this.atEnd=!n;let r=this.next??"stream";for(;r&&(n||this.hasChars(1));)r=yield*this.parseNext(r)}atLineEnd(){let t=this.pos,n=this.buffer[t];for(;n===" "||n==="	";)n=this.buffer[++t];return!n||n==="#"||n===`
`?!0:n==="\r"?this.buffer[t+1]===`
`:!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let n=this.buffer[t];if(this.indentNext>0){let r=0;for(;n===" ";)n=this.buffer[++r+t];if(n==="\r"){const i=this.buffer[r+t+1];if(i===`
`||!i&&!this.atEnd)return t+r+1}return n===`
`||r>=this.indentNext||!n&&!this.atEnd?t+r:-1}if(n==="-"||n==="."){const r=this.buffer.substr(t,3);if((r==="---"||r==="...")&&pr(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===bv&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let n=t.length;const r=t.indexOf("#");if(r!==-1){const s=t[r-1];(s===" "||s==="	")&&(n=r-1)}for(;;){const s=t[n-1];if(s===" "||s==="	")n-=1;else break}const i=(yield*this.pushCount(n))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){const n=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-n),yield*this.pushNewline(),"stream"}return yield Dv,yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const n=this.peek(3);if(n==="---"&&pr(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(n==="..."&&pr(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!pr(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,n]=this.peek(2);if(!n&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&pr(n)){const r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(t===null)return this.setNext("doc");let n=yield*this.pushIndicators();switch(t[n]){case"#":yield*this.pushCount(t.length-n);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(fp),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return n+=yield*this.parseBlockScalarHeader(),n+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-n),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,n,r=-1;do t=yield*this.pushNewline(),t>0?(n=yield*this.pushSpaces(!1),this.indentValue=r=n):n=0,n+=yield*this.pushSpaces(!0);while(t+n>0);const i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&pr(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield wv,yield*this.parseLineStart();let s=0;for(;i[s]===",";)s+=yield*this.pushCount(1),s+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(s+=yield*this.pushIndicators(),i[s]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(fp),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const o=this.charAt(1);if(this.flowKey||pr(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let n=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;n!==-1&&this.buffer[n+1]==="'";)n=this.buffer.indexOf("'",n+2);else for(;n!==-1;){let s=0;for(;this.buffer[n-1-s]==="\\";)s+=1;if(s%2===0)break;n=this.buffer.indexOf('"',n+1)}const r=this.buffer.substring(0,n);let i=r.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){const s=this.continueScalar(i+1);if(s===-1)break;i=r.indexOf(`
`,s)}i!==-1&&(n=i-(r[i-1]==="\r"?2:1))}if(n===-1){if(!this.atEnd)return this.setNext("quoted-scalar");n=this.buffer.length}return yield*this.pushToIndex(n+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const n=this.buffer[++t];if(n==="+")this.blockScalarKeep=!0;else if(n>"0"&&n<="9")this.blockScalarIndent=Number(n)-1;else if(n!=="-")break}return yield*this.pushUntil(n=>pr(n)||n==="#")}*parseBlockScalar(){let t=this.pos-1,n=0,r;e:for(let i=this.pos;r=this.buffer[i];++i)switch(r){case" ":n+=1;break;case`
`:t=i,n=0;break;case"\r":{const s=this.buffer[i+1];if(!s&&!this.atEnd)return this.setNext("block-scalar");if(s===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const i=this.continueScalar(t+1);if(i===-1)break;t=this.buffer.indexOf(`
`,i)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)do{let i=t-1,s=this.buffer[i];s==="\r"&&(s=this.buffer[--i]);const o=i;for(;s===" "||s==="	";)s=this.buffer[--i];if(s===`
`&&i>=this.pos&&i+1+n>o)t=i;else break}while(!0);return yield up,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let n=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){const s=this.buffer[r+1];if(pr(s)||t&&s===",")break;n=r}else if(pr(i)){let s=this.buffer[r+1];if(i==="\r"&&(s===`
`?(r+=1,i=`
`,s=this.buffer[r+1]):n=r),s==="#"||t&&lp.includes(s))break;if(i===`
`){const o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2)}}else{if(t&&lp.includes(i))break;n=r}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield up,yield*this.pushToIndex(n+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,n){const r=this.buffer.slice(this.pos,t);return r?(yield r,this.pos+=r.length,r.length):(n&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(fp))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,n=this.charAt(1);if(pr(n)||t&&lp.includes(n))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,n=this.buffer[t];for(;!pr(n)&&n!==">";)n=this.buffer[++t];return yield*this.pushToIndex(n===">"?t+1:t,!1)}else{let t=this.pos+1,n=this.buffer[t];for(;n;)if(hA.includes(n))n=this.buffer[++t];else if(n==="%"&&_v.includes(this.buffer[t+1])&&_v.includes(this.buffer[t+2]))n=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return t===`
`?yield*this.pushCount(1):t==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(t){let n=this.pos-1,r;do r=this.buffer[++n];while(r===" "||t&&r==="	");const i=n-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=n),i}*pushUntil(t){let n=this.pos,r=this.buffer[n];for(;!t(r);)r=this.buffer[++n];return yield*this.pushToIndex(n,!1)}}class Ev{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let n=0,r=this.lineStarts.length;for(;n<r;){const s=n+r>>1;this.lineStarts[s]<t?n=s+1:r=s}if(this.lineStarts[n]===t)return{line:n+1,col:1};if(n===0)return{line:0,col:t};const i=this.lineStarts[n-1];return{line:n,col:t-i+1}}}}function Ir(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function Sv(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function $v(e){switch(e==null?void 0:e.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Gc(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Uo(e){var n;if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((n=e[++t])==null?void 0:n.type)==="space";);return e.splice(t,e.length)}function Tv(e){if(e.start.type==="flow-seq-start")for(const t of e.items)t.sep&&!t.value&&!Ir(t.start,"explicit-key-ind")&&!Ir(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,$v(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class dp{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new mA,this.onNewLine=t}*parse(t,n=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const r of this.lexer.lex(t,n))yield*this.next(r);n||(yield*this.end())}*next(t){if(this.source=t,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}const n=dA(t);if(n)if(n==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=n,yield*this.step(),n){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const r=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){const n=t??this.stack.pop();if(!n)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield n;else{const r=this.peek(1);switch(n.type==="block-scalar"?n.indent="indent"in r?r.indent:0:n.type==="flow-collection"&&r.type==="document"&&(n.indent=0),n.type==="flow-collection"&&Tv(n),r.type){case"document":r.value=n;break;case"block-scalar":r.props.push(n);break;case"block-map":{const i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:n,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=n;else{Object.assign(i,{key:n,sep:[]}),this.onKeyLine=!Ir(i.start,"explicit-key-ind");return}break}case"block-seq":{const i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:n}):i.value=n;break}case"flow-collection":{const i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:n,sep:[]}):i.sep?i.value=n:Object.assign(i,{key:n,sep:[]});return}default:yield*this.pop(),yield*this.pop(n)}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(n.type==="block-map"||n.type==="block-seq")){const i=n.items[n.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&Sv(i.start)===-1&&(n.indent===0||i.start.every(s=>s.type!=="comment"||s.indent<n.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),n.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{Sv(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}const n=this.startBlockValue(t);n?this.stack.push(n):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if(this.type==="map-value-ind"){const n=Gc(this.peek(2)),r=Uo(n);let i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];const s={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:r,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){const i="end"in n.value?n.value.end:void 0,s=Array.isArray(i)?i[i.length-1]:void 0;(s==null?void 0:s.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2],s=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(s)){Array.prototype.push.apply(s,n.start),s.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const i=!this.onKeyLine&&this.indent===t.indent&&n.sep;let s=[];if(i&&n.sep&&!n.value){const o=[];for(let u=0;u<n.sep.length;++u){const c=n.sep[u];switch(c.type){case"newline":o.push(u);break;case"space":break;case"comment":c.indent>t.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(s=n.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":i||n.value?(s.push(this.sourceToken),t.items.push({start:s}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!Ir(n.start,"explicit-key-ind")?n.start.push(this.sourceToken):i||n.value?(s.push(this.sourceToken),t.items.push({start:s})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(Ir(n.start,"explicit-key-ind"))if(n.sep)if(n.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Ir(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]});else if($v(n.key)&&!Ir(n.sep,"newline")){const o=Uo(n.start),u=n.key,c=n.sep;c.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:u,sep:c}]})}else s.length>0?n.sep=n.sep.concat(s,this.sourceToken):n.sep.push(this.sourceToken);else if(Ir(n.start,"newline"))Object.assign(n,{key:null,sep:[this.sourceToken]});else{const o=Uo(n.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else n.sep?n.value||i?t.items.push({start:s,key:null,sep:[this.sourceToken]}):Ir(n.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);i||n.value?(t.items.push({start:s,key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{const o=this.startBlockValue(t);if(o){i&&o.type!=="block-seq"&&Ir(n.start,"explicit-key-ind")&&t.items.push({start:s}),this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){var r;const n=t.items[t.items.length-1];switch(this.type){case"newline":if(n.value){const i="end"in n.value?n.value.end:void 0,s=Array.isArray(i)?i[i.length-1]:void 0;(s==null?void 0:s.type)==="comment"?i==null||i.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,t.indent)){const i=t.items[t.items.length-2],s=(r=i==null?void 0:i.value)==null?void 0:r.end;if(Array.isArray(s)){Array.prototype.push.apply(s,n.start),s.push(this.sourceToken),t.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=t.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;n.value||Ir(n.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>t.indent){const i=this.startBlockValue(t);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){const n=t.items[t.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!n||n.sep?t.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return;case"map-value-ind":!n||n.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):Object.assign(n,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!n||n.value?t.items.push({start:[this.sourceToken]}):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const i=this.flowScalar(this.type);!n||n.value?t.items.push({start:[],key:i,sep:[]}):n.sep?this.stack.push(i):Object.assign(n,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}const r=this.startBlockValue(t);r?this.stack.push(r):(yield*this.pop(),yield*this.step())}else{const r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===t.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){const i=Gc(r),s=Uo(i);Tv(t);const o=t.end.splice(1,t.end.length);o.push(this.sourceToken);const u={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:s,key:t,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=u}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let n=this.source.indexOf(`
`)+1;for(;n!==0;)this.onNewLine(this.offset+n),n=this.source.indexOf(`
`,n)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const n=Gc(t),r=Uo(n);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r}]}}case"map-value-ind":{this.onKeyLine=!0;const n=Gc(t),r=Uo(n);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,n){return this.type!=="comment"||this.indent<=n?!1:t.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function gA(e){const t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new Ev||null,prettyErrors:t}}function yA(e,t={}){const{lineCounter:n,prettyErrors:r}=gA(t),i=new dp(n==null?void 0:n.addNewLine),s=new mv(t);let o=null;for(const u of s.compose(i.parse(e),!0,e.length))if(!o)o=u;else if(o.options.logLevel!=="silent"){o.errors.push(new iu(u.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&n&&(o.errors.forEach(uv(e,n)),o.warnings.forEach(uv(e,n))),o}function vA(e,t,n){let r;const i=yA(e,n);if(!i)return null;if(i.warnings.forEach(s=>M0(i.options.logLevel,s)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:r},n))}function bA(e,t,n){let r=null;if(Array.isArray(t)?r=t:n===void 0&&t&&(n=t),typeof n=="string"&&(n=n.length),typeof n=="number"){const i=Math.round(n);n=i<1?void 0:i>8?{indent:8}:{indent:i}}if(e===void 0){const{keepUndefined:i}=n??t??{};if(!i)return}return new ru(e,r,n).toString(n)}var hp,kv;function DA(){if(kv)return hp;kv=1;function e(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}function t(i,s){for(var o="",u=0,c=-1,f=0,d,h=0;h<=i.length;++h){if(h<i.length)d=i.charCodeAt(h);else{if(d===47)break;d=47}if(d===47){if(!(c===h-1||f===1))if(c!==h-1&&f===2){if(o.length<2||u!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){var y=o.lastIndexOf("/");if(y!==o.length-1){y===-1?(o="",u=0):(o=o.slice(0,y),u=o.length-1-o.lastIndexOf("/")),c=h,f=0;continue}}else if(o.length===2||o.length===1){o="",u=0,c=h,f=0;continue}}s&&(o.length>0?o+="/..":o="..",u=2)}else o.length>0?o+="/"+i.slice(c+1,h):o=i.slice(c+1,h),u=h-c-1;c=h,f=0}else d===46&&f!==-1?++f:f=-1}return o}function n(i,s){var o=s.dir||s.root,u=s.base||(s.name||"")+(s.ext||"");return o?o===s.root?o+u:o+i+u:u}var r={resolve:function(){for(var s="",o=!1,u,c=arguments.length-1;c>=-1&&!o;c--){var f;c>=0?f=arguments[c]:(u===void 0&&(u=Ns.cwd()),f=u),e(f),f.length!==0&&(s=f+"/"+s,o=f.charCodeAt(0)===47)}return s=t(s,!o),o?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(e(s),s.length===0)return".";var o=s.charCodeAt(0)===47,u=s.charCodeAt(s.length-1)===47;return s=t(s,!o),s.length===0&&!o&&(s="."),s.length>0&&u&&(s+="/"),o?"/"+s:s},isAbsolute:function(s){return e(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,o=0;o<arguments.length;++o){var u=arguments[o];e(u),u.length>0&&(s===void 0?s=u:s+="/"+u)}return s===void 0?".":r.normalize(s)},relative:function(s,o){if(e(s),e(o),s===o||(s=r.resolve(s),o=r.resolve(o),s===o))return"";for(var u=1;u<s.length&&s.charCodeAt(u)===47;++u);for(var c=s.length,f=c-u,d=1;d<o.length&&o.charCodeAt(d)===47;++d);for(var h=o.length,y=h-d,w=f<y?f:y,k=-1,$=0;$<=w;++$){if($===w){if(y>w){if(o.charCodeAt(d+$)===47)return o.slice(d+$+1);if($===0)return o.slice(d+$)}else f>w&&(s.charCodeAt(u+$)===47?k=$:$===0&&(k=0));break}var E=s.charCodeAt(u+$),T=o.charCodeAt(d+$);if(E!==T)break;E===47&&(k=$)}var D="";for($=u+k+1;$<=c;++$)($===c||s.charCodeAt($)===47)&&(D.length===0?D+="..":D+="/..");return D.length>0?D+o.slice(d+k):(d+=k,o.charCodeAt(d)===47&&++d,o.slice(d))},_makeLong:function(s){return s},dirname:function(s){if(e(s),s.length===0)return".";for(var o=s.charCodeAt(0),u=o===47,c=-1,f=!0,d=s.length-1;d>=1;--d)if(o=s.charCodeAt(d),o===47){if(!f){c=d;break}}else f=!1;return c===-1?u?"/":".":u&&c===1?"//":s.slice(0,c)},basename:function(s,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');e(s);var u=0,c=-1,f=!0,d;if(o!==void 0&&o.length>0&&o.length<=s.length){if(o.length===s.length&&o===s)return"";var h=o.length-1,y=-1;for(d=s.length-1;d>=0;--d){var w=s.charCodeAt(d);if(w===47){if(!f){u=d+1;break}}else y===-1&&(f=!1,y=d+1),h>=0&&(w===o.charCodeAt(h)?--h===-1&&(c=d):(h=-1,c=y))}return u===c?c=y:c===-1&&(c=s.length),s.slice(u,c)}else{for(d=s.length-1;d>=0;--d)if(s.charCodeAt(d)===47){if(!f){u=d+1;break}}else c===-1&&(f=!1,c=d+1);return c===-1?"":s.slice(u,c)}},extname:function(s){e(s);for(var o=-1,u=0,c=-1,f=!0,d=0,h=s.length-1;h>=0;--h){var y=s.charCodeAt(h);if(y===47){if(!f){u=h+1;break}continue}c===-1&&(f=!1,c=h+1),y===46?o===-1?o=h:d!==1&&(d=1):o!==-1&&(d=-1)}return o===-1||c===-1||d===0||d===1&&o===c-1&&o===u+1?"":s.slice(o,c)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},parse:function(s){e(s);var o={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return o;var u=s.charCodeAt(0),c=u===47,f;c?(o.root="/",f=1):f=0;for(var d=-1,h=0,y=-1,w=!0,k=s.length-1,$=0;k>=f;--k){if(u=s.charCodeAt(k),u===47){if(!w){h=k+1;break}continue}y===-1&&(w=!1,y=k+1),u===46?d===-1?d=k:$!==1&&($=1):d!==-1&&($=-1)}return d===-1||y===-1||$===0||$===1&&d===y-1&&d===h+1?y!==-1&&(h===0&&c?o.base=o.name=s.slice(1,y):o.base=o.name=s.slice(h,y)):(h===0&&c?(o.name=s.slice(1,d),o.base=s.slice(1,y)):(o.name=s.slice(h,d),o.base=s.slice(h,y)),o.ext=s.slice(d,y)),h>0?o.dir=s.slice(0,h-1):c&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};return r.posix=r,hp=r,hp}var xs=DA();function Jc(e,t){if(e===t)return!0;if(e==null||t===null||t===void 0||typeof e!=typeof t||typeof e!="object"||Array.isArray(e)!==Array.isArray(t))return!1;let n,r;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!Jc(e[n],t[n]))return!1}else{const i=[];for(r in e)i.push(r);i.sort();const s=[];for(r in t)s.push(r);if(s.sort(),!Jc(i,s))return!1;for(n=0;n<i.length;n++)if(!Jc(e[i[n]],t[i[n]]))return!1}return!0}function mr(e){return typeof e=="number"}function Bs(e){return typeof e<"u"}function Vo(e){return typeof e=="boolean"}function Ho(e){return typeof e=="string"}function wA(e){return Symbol.iterator in Object(e)}function pp(e){const t=e.type&&e.closestTitle;return e.title?e.title:e.$id?Av(e.$id):e.$ref||e._$ref?Av(e.$ref||e._$ref):Array.isArray(e.type)?e.type.join(" | "):t?e.type.concat("(",e.closestTitle,")"):e.type||e.closestTitle}function Av(e){const t=e.match(/^(?:.*\/)?(.*?)(?:\.schema\.json)?$/);let n=!!t&&t[1];return n||(n="typeNotFound",console.error(`$ref (${e}) not parsed properly`)),n}function Cv(e,t){const n=Qn.parse(t);let r=xs.basename(n.fsPath);return xs.extname(n.fsPath)||(r+=".json"),Object.getOwnPropertyDescriptor(e,"name")?Object.getOwnPropertyDescriptor(e,"name").value+` (${r})`:e.title?e.description?e.title+" - "+e.description+` (${r})`:e.title+` (${r})`:r}function _A(e){return e.type!=="object"&&!mp(e)}function mp(e){return!!(e.anyOf||e.allOf||e.oneOf)}Gi.loadMessageBundle();var EA=Gi.loadMessageBundle(),SA=(function(){function e(t,n){this.jsonSchemaService=t,this.promise=n,this.validationEnabled=!0}return e.prototype.configure=function(t){t&&(this.validationEnabled=t.validate!==!1,this.commentSeverity=t.allowComments?void 0:Ge.Error)},e.prototype.doValidation=function(t,n,r,i){var s=this;if(!this.validationEnabled)return this.promise.resolve([]);var o=[],u={},c=function(h){var y=h.range.start.line+" "+h.range.start.character+" "+h.message;u[y]||(u[y]=!0,o.push(h))},f=function(h){var y=r!=null&&r.trailingCommas?Qc(r.trailingCommas):Ge.Error,w=r!=null&&r.comments?Qc(r.comments):s.commentSeverity,k=r!=null&&r.schemaValidation?Qc(r.schemaValidation):Ge.Warning,$=r!=null&&r.schemaRequest?Qc(r.schemaRequest):Ge.Warning;if(h){if(h.errors.length&&n.root&&$){var E=n.root,T=E.type==="object"?E.properties[0]:void 0;if(T&&T.keyNode.value==="$schema"){var D=T.valueNode||T,p=Be.create(t.positionAt(D.offset),t.positionAt(D.offset+D.length));c(An.create(p,h.errors[0],$,Bn.SchemaResolveError))}else{var p=Be.create(t.positionAt(E.offset),t.positionAt(E.offset+1));c(An.create(p,h.errors[0],$,Bn.SchemaResolveError))}}else if(k){var b=n.validate(t,h.schema,k);b&&b.forEach(c)}Ov(h.schema)&&(w=void 0),Pv(h.schema)&&(y=void 0)}for(var m=0,v=n.syntaxErrors;m<v.length;m++){var _=v[m];if(_.code===Bn.TrailingComma){if(typeof y!="number")continue;_.severity=y}c(_)}if(typeof w=="number"){var P=EA("InvalidCommentToken","Comments are not permitted in JSON.");n.comments.forEach(function(R){c(An.create(R,P,w,Bn.CommentNotPermitted))})}return o};if(i){var d=i.id||"schemaservice://untitled/"+$A++;return this.jsonSchemaService.resolveSchemaContent(new Rr(i),d,{}).then(function(h){return f(h)})}return this.jsonSchemaService.getSchemaForResource(t.uri,n).then(function(h){return f(h)})},e})(),$A=0;function Ov(e){if(e&&typeof e=="object"){if(Po(e.allowComments))return e.allowComments;if(e.allOf)for(var t=0,n=e.allOf;t<n.length;t++){var r=n[t],i=Ov(r);if(Po(i))return i}}}function Pv(e){if(e&&typeof e=="object"){if(Po(e.allowTrailingCommas))return e.allowTrailingCommas;var t=e;if(Po(t.allowsTrailingCommas))return t.allowsTrailingCommas;if(e.allOf)for(var n=0,r=e.allOf;n<r.length;n++){var i=r[n],s=Pv(i);if(Po(s))return s}}}function Qc(e){switch(e){case"error":return Ge.Error;case"warning":return Ge.Warning;case"ignore":return}}var Rv=48,TA=57,kA=65,Xc=97,AA=102;function on(e){return e<Rv?0:e<=TA?e-Rv:(e<Xc&&(e+=Xc-kA),e>=Xc&&e<=AA?e-Xc+10:0)}function CA(e){if(e[0]==="#")switch(e.length){case 4:return{red:on(e.charCodeAt(1))*17/255,green:on(e.charCodeAt(2))*17/255,blue:on(e.charCodeAt(3))*17/255,alpha:1};case 5:return{red:on(e.charCodeAt(1))*17/255,green:on(e.charCodeAt(2))*17/255,blue:on(e.charCodeAt(3))*17/255,alpha:on(e.charCodeAt(4))*17/255};case 7:return{red:(on(e.charCodeAt(1))*16+on(e.charCodeAt(2)))/255,green:(on(e.charCodeAt(3))*16+on(e.charCodeAt(4)))/255,blue:(on(e.charCodeAt(5))*16+on(e.charCodeAt(6)))/255,alpha:1};case 9:return{red:(on(e.charCodeAt(1))*16+on(e.charCodeAt(2)))/255,green:(on(e.charCodeAt(3))*16+on(e.charCodeAt(4)))/255,blue:(on(e.charCodeAt(5))*16+on(e.charCodeAt(6)))/255,alpha:(on(e.charCodeAt(7))*16+on(e.charCodeAt(8)))/255}}}var OA=(function(){function e(t){this.schemaService=t}return e.prototype.findDocumentSymbols=function(t,n,r){var i=this;r===void 0&&(r={resultLimit:Number.MAX_VALUE});var s=n.root;if(!s)return[];var o=r.resultLimit||Number.MAX_VALUE,u=t.uri;if((u==="vscode://defaultsettings/keybindings.json"||Nh(u.toLowerCase(),"/user/keybindings.json"))&&s.type==="array"){for(var c=[],f=0,d=s.items;f<d.length;f++){var h=d[f];if(h.type==="object")for(var y=0,w=h.properties;y<w.length;y++){var k=w[y];if(k.keyNode.value==="key"&&k.valueNode){var $=Ts.create(t.uri,es(t,h));if(c.push({name:kc(k.valueNode),kind:Or.Function,location:$}),o--,o<=0)return r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(u),c}}}return c}for(var E=[{node:s,containerName:""}],T=0,D=!1,p=[],b=function(v,_){v.type==="array"?v.items.forEach(function(P){P&&E.push({node:P,containerName:_})}):v.type==="object"&&v.properties.forEach(function(P){var R=P.valueNode;if(R)if(o>0){o--;var N=Ts.create(t.uri,es(t,P)),F=_?_+"."+P.keyNode.value:P.keyNode.value;p.push({name:i.getKeyLabel(P),kind:i.getSymbolKind(R.type),location:N,containerName:_}),E.push({node:R,containerName:F})}else D=!0})};T<E.length;){var m=E[T++];b(m.node,m.containerName)}return D&&r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(u),p},e.prototype.findDocumentSymbols2=function(t,n,r){var i=this;r===void 0&&(r={resultLimit:Number.MAX_VALUE});var s=n.root;if(!s)return[];var o=r.resultLimit||Number.MAX_VALUE,u=t.uri;if((u==="vscode://defaultsettings/keybindings.json"||Nh(u.toLowerCase(),"/user/keybindings.json"))&&s.type==="array"){for(var c=[],f=0,d=s.items;f<d.length;f++){var h=d[f];if(h.type==="object")for(var y=0,w=h.properties;y<w.length;y++){var k=w[y];if(k.keyNode.value==="key"&&k.valueNode){var $=es(t,h),E=es(t,k.keyNode);if(c.push({name:kc(k.valueNode),kind:Or.Function,range:$,selectionRange:E}),o--,o<=0)return r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(u),c}}}return c}for(var T=[],D=[{node:s,result:T}],p=0,b=!1,m=function(_,P){_.type==="array"?_.items.forEach(function(R,N){if(R)if(o>0){o--;var F=es(t,R),j=F,I=String(N),X={name:I,kind:i.getSymbolKind(R.type),range:F,selectionRange:j,children:[]};P.push(X),D.push({result:X.children,node:R})}else b=!0}):_.type==="object"&&_.properties.forEach(function(R){var N=R.valueNode;if(N)if(o>0){o--;var F=es(t,R),j=es(t,R.keyNode),I=[],X={name:i.getKeyLabel(R),kind:i.getSymbolKind(N.type),range:F,selectionRange:j,children:I,detail:i.getDetail(N)};P.push(X),D.push({result:I,node:N})}else b=!0})};p<D.length;){var v=D[p++];m(v.node,v.result)}return b&&r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(u),T},e.prototype.getSymbolKind=function(t){switch(t){case"object":return Or.Module;case"string":return Or.String;case"number":return Or.Number;case"array":return Or.Array;case"boolean":return Or.Boolean;default:return Or.Variable}},e.prototype.getKeyLabel=function(t){var n=t.keyNode.value;return n&&(n=n.replace(/[\n]/g,"↵")),n&&n.trim()?n:'"'+n+'"'},e.prototype.getDetail=function(t){if(t){if(t.type==="boolean"||t.type==="number"||t.type==="null"||t.type==="string")return String(t.value);if(t.type==="array")return t.children.length?void 0:"[]";if(t.type==="object")return t.children.length?void 0:"{}"}},e.prototype.findDocumentColors=function(t,n,r){return this.schemaService.getSchemaForResource(t.uri,n).then(function(i){var s=[];if(i)for(var o=r&&typeof r.resultLimit=="number"?r.resultLimit:Number.MAX_VALUE,u=n.getMatchingSchemas(i.schema),c={},f=0,d=u;f<d.length;f++){var h=d[f];if(!h.inverted&&h.schema&&(h.schema.format==="color"||h.schema.format==="color-hex")&&h.node&&h.node.type==="string"){var y=String(h.node.offset);if(!c[y]){var w=CA(kc(h.node));if(w){var k=es(t,h.node);s.push({color:w,range:k})}if(c[y]=!0,o--,o<=0)return r&&r.onResultLimitExceeded&&r.onResultLimitExceeded(t.uri),s}}}return s})},e.prototype.getColorPresentations=function(t,n,r,i){var s=[],o=Math.round(r.red*255),u=Math.round(r.green*255),c=Math.round(r.blue*255);function f(h){var y=h.toString(16);return y.length!==2?"0"+y:y}var d;return r.alpha===1?d="#"+f(o)+f(u)+f(c):d="#"+f(o)+f(u)+f(c)+f(Math.round(r.alpha*255)),s.push({label:d,textEdit:Pt.replace(i,JSON.stringify(d))}),s},e})();function es(e,t){return Be.create(e.positionAt(t.offset),e.positionAt(t.offset+t.length))}var Ye=Gi.loadMessageBundle(),Nv={schemas:{"http://json-schema.org/schema#":{$ref:"http://json-schema.org/draft-07/schema#"},"http://json-schema.org/draft-04/schema#":{$schema:"http://json-schema.org/draft-04/schema#",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{type:"string",enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minLength:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minItems:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},uniqueItems:{type:"boolean",default:!1},maxProperties:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minProperties:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},required:{allOf:[{$ref:"#/definitions/stringArray"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{anyOf:[{type:"string",enum:["date-time","uri","email","hostname","ipv4","ipv6","regex"]},{type:"string"}]},allOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},anyOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},oneOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},not:{allOf:[{$ref:"#"}]}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}},"http://json-schema.org/draft-07/schema#":{definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}},PA={id:Ye("schema.json.id","A unique identifier for the schema."),$schema:Ye("schema.json.$schema","The schema to verify this document against."),title:Ye("schema.json.title","A descriptive title of the element."),description:Ye("schema.json.description","A long description of the element. Used in hover menus and suggestions."),default:Ye("schema.json.default","A default value. Used by suggestions."),multipleOf:Ye("schema.json.multipleOf","A number that should cleanly divide the current value (i.e. have no remainder)."),maximum:Ye("schema.json.maximum","The maximum numerical value, inclusive by default."),exclusiveMaximum:Ye("schema.json.exclusiveMaximum","Makes the maximum property exclusive."),minimum:Ye("schema.json.minimum","The minimum numerical value, inclusive by default."),exclusiveMinimum:Ye("schema.json.exclusiveMininum","Makes the minimum property exclusive."),maxLength:Ye("schema.json.maxLength","The maximum length of a string."),minLength:Ye("schema.json.minLength","The minimum length of a string."),pattern:Ye("schema.json.pattern","A regular expression to match the string against. It is not implicitly anchored."),additionalItems:Ye("schema.json.additionalItems","For arrays, only when items is set as an array. If it is a schema, then this schema validates items after the ones specified by the items array. If it is false, then additional items will cause validation to fail."),items:Ye("schema.json.items","For arrays. Can either be a schema to validate every element against or an array of schemas to validate each item against in order (the first schema will validate the first element, the second schema will validate the second element, and so on."),maxItems:Ye("schema.json.maxItems","The maximum number of items that can be inside an array. Inclusive."),minItems:Ye("schema.json.minItems","The minimum number of items that can be inside an array. Inclusive."),uniqueItems:Ye("schema.json.uniqueItems","If all of the items in the array must be unique. Defaults to false."),maxProperties:Ye("schema.json.maxProperties","The maximum number of properties an object can have. Inclusive."),minProperties:Ye("schema.json.minProperties","The minimum number of properties an object can have. Inclusive."),required:Ye("schema.json.required","An array of strings that lists the names of all properties required on this object."),additionalProperties:Ye("schema.json.additionalProperties","Either a schema or a boolean. If a schema, then used to validate all properties not matched by 'properties' or 'patternProperties'. If false, then any properties not matched by either will cause this schema to fail."),definitions:Ye("schema.json.definitions","Not used for validation. Place subschemas here that you wish to reference inline with $ref."),properties:Ye("schema.json.properties","A map of property names to schemas for each property."),patternProperties:Ye("schema.json.patternProperties","A map of regular expressions on property names to schemas for matching properties."),dependencies:Ye("schema.json.dependencies","A map of property names to either an array of property names or a schema. An array of property names means the property named in the key depends on the properties in the array being present in the object in order to be valid. If the value is a schema, then the schema is only applied to the object if the property in the key exists on the object."),enum:Ye("schema.json.enum","The set of literal values that are valid."),type:Ye("schema.json.type","Either a string of one of the basic schema types (number, integer, null, array, object, boolean, string) or an array of strings specifying a subset of those types."),format:Ye("schema.json.format","Describes the format expected for the value."),allOf:Ye("schema.json.allOf","An array of schemas, all of which must match."),anyOf:Ye("schema.json.anyOf","An array of schemas, where at least one must match."),oneOf:Ye("schema.json.oneOf","An array of schemas, exactly one of which must match."),not:Ye("schema.json.not","A schema which must not match."),$id:Ye("schema.json.$id","A unique identifier for the schema."),$ref:Ye("schema.json.$ref","Reference a definition hosted on any location."),$comment:Ye("schema.json.$comment","Comments from schema authors to readers or maintainers of the schema."),readOnly:Ye("schema.json.readOnly","Indicates that the value of the instance is managed exclusively by the owning authority."),examples:Ye("schema.json.examples","Sample JSON values associated with a particular schema, for the purpose of illustrating usage."),contains:Ye("schema.json.contains",'An array instance is valid against "contains" if at least one of its elements is valid against the given schema.'),propertyNames:Ye("schema.json.propertyNames","If the instance is an object, this keyword validates if every property name in the instance validates against the provided schema."),const:Ye("schema.json.const","An instance validates successfully against this keyword if its value is equal to the value of the keyword."),contentMediaType:Ye("schema.json.contentMediaType","Describes the media type of a string property."),contentEncoding:Ye("schema.json.contentEncoding","Describes the content encoding of a string property."),if:Ye("schema.json.if",'The validation outcome of the "if" subschema controls which of the "then" or "else" keywords are evaluated.'),then:Ye("schema.json.then",'The "if" subschema is used for validation when the "if" subschema succeeds.'),else:Ye("schema.json.else",'The "else" subschema is used for validation when the "if" subschema fails.')};for(var RA in Nv.schemas){var gp=Nv.schemas[RA];for(var uu in gp.properties){var yp=gp.properties[uu];typeof yp=="boolean"&&(yp=gp.properties[uu]={});var Fv=PA[uu];Fv?yp.description=Fv:console.log(uu+": localize('schema.json."+uu+`', "")`)}}function NA(e,t){var n=[];return t.visit(function(r){var i;if(r.type==="property"&&r.keyNode.value==="$ref"&&((i=r.valueNode)===null||i===void 0?void 0:i.type)==="string"){var s=r.valueNode.value,o=IA(t,s);if(o){var u=e.positionAt(o.offset);n.push({target:e.uri+"#"+(u.line+1)+","+(u.character+1),range:FA(e,r.valueNode)})}}return!0}),Promise.resolve(n)}function FA(e,t){return Be.create(e.positionAt(t.offset+1),e.positionAt(t.offset+t.length-1))}function IA(e,t){var n=MA(t);return n?vp(n,e.root):null}function vp(e,t){if(!t)return null;if(e.length===0)return t;var n=e.shift();if(t&&t.type==="object"){var r=t.properties.find(function(o){return o.keyNode.value===n});return r?vp(e,r.valueNode):null}else if(t&&t.type==="array"&&n.match(/^(0|[1-9][0-9]*)$/)){var i=Number.parseInt(n),s=t.items[i];return s?vp(e,s):null}return null}function MA(e){return e==="#"?[]:e[0]!=="#"||e[1]!=="/"?null:e.substring(2).split(/\//).map(LA)}function LA(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Zc(e,t){for(const n of t.documents)if(n.internalDocument&&n.internalDocument.range[0]<=e&&n.internalDocument.range[2]>=e)return n;return t.documents.length===1?t.documents[0]:null}function Iv(e){const t=["mapping","scalar","sequence"];return e?e.filter(n=>{if(typeof n=="string"){const r=n.split(" "),i=r[1]&&r[1].toLowerCase()||"scalar";return i==="map"?!1:t.indexOf(i)!==-1}return!1}):[]}function Mv(e,t){if(!t||!e||t.length!==e.length)return!1;for(let n=e.length-1;n>=0;n--)if(e[n]!==t[n])return!1;return!0}function jA(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=Math.max(n,r),s=parseInt(e.toFixed(i).replace(".","")),o=parseInt(t.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}const ct=Gi.loadMessageBundle(),bp="Property {0} is not allowed.",qA={"color-hex":{errorMessage:ct("colorHexFormatWarning","Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA."),pattern:/^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/},"date-time":{errorMessage:ct("dateTimeFormatWarning","String is not a RFC3339 date-time."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},date:{errorMessage:ct("dateFormatWarning","String is not a RFC3339 date."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/i},time:{errorMessage:ct("timeFormatWarning","String is not a RFC3339 time."),pattern:/^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},email:{errorMessage:ct("emailFormatWarning","String is not an e-mail address."),pattern:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/},ipv4:{errorMessage:ct("ipv4FormatWarning","String does not match IPv4 format."),pattern:/^((25[0-5]|(2[0-4]|1\d|[1-9]|)\d)\.?\b){4}$/},ipv6:{errorMessage:ct("ipv6FormatWarning","String does not match IPv6 format."),pattern:/^([0-9a-f]|:){1,4}(:([0-9a-f]{0,4})*){1,7}$/i}},el="YAML",Lv="yaml-schema: ";var Nn;(function(e){e.missingRequiredPropWarning="missingRequiredPropWarning",e.typeMismatchWarning="typeMismatchWarning",e.constWarning="constWarning"})(Nn||(Nn={}));const xA={[Nn.missingRequiredPropWarning]:'Missing property "{0}".',[Nn.typeMismatchWarning]:'Incorrect type. Expected "{0}".',[Nn.constWarning]:"Value must be {0}."};class Ws{constructor(t,n,r,i){this.offset=r,this.length=i,this.parent=t,this.internalNode=n}getNodeFromOffsetEndInclusive(t){const n=[],r=u=>{if(t>=u.offset&&t<=u.offset+u.length){const c=u.children;for(let f=0;f<c.length&&c[f].offset<=t;f++){const d=r(c[f]);d&&n.push(d)}return u}return null},i=r(this);let s=Number.MAX_VALUE,o=null;for(const u of n){const c=u.length+u.offset-t+(t-u.offset);c<s&&(o=u,s=c)}return o||i}get children(){return[]}toString(){return"type: "+this.type+" ("+this.offset+"/"+this.length+")"+(this.parent?" parent: {"+this.parent.toString()+"}":"")}}class BA extends Ws{constructor(t,n,r,i){super(t,n,r,i),this.type="null",this.value=null}}class WA extends Ws{constructor(t,n,r,i,s,o){super(t,n,s,o),this.type="boolean",this.value=r,this.source=i}}class UA extends Ws{constructor(t,n,r,i){super(t,n,r,i),this.type="array",this.items=[]}get children(){return this.items}}class VA extends Ws{constructor(t,n,r,i){super(t,n,r,i),this.type="number",this.isInteger=!0,this.value=Number.NaN}}class tl extends Ws{constructor(t,n,r,i){super(t,n,r,i),this.type="string",this.value=""}}class HA extends Ws{constructor(t,n,r,i){super(t,n,r,i),this.type="property",this.colonOffset=-1}get children(){return this.valueNode?[this.keyNode,this.valueNode]:[this.keyNode]}}class KA extends Ws{constructor(t,n,r,i){super(t,n,r,i),this.type="object",this.properties=[]}get children(){return this.properties}}function Fn(e){if(e!==void 0)return Vo(e)?e?{}:{not:{}}:(typeof e!="object"&&(console.warn(`Wrong schema: ${JSON.stringify(e)}, it MUST be an Object or Boolean`),e={type:e}),e)}var jv;(function(e){e[e.Key=0]="Key",e[e.Enum=1]="Enum"})(jv||(jv={}));class Dp{constructor(t=-1,n=null){this.focusOffset=t,this.exclude=n,this.schemas=[]}add(t){this.schemas.push(t)}merge(t){this.schemas.push(...t.schemas)}include(t){return(this.focusOffset===-1||qv(t,this.focusOffset))&&t!==this.exclude}newSub(){return new Dp(-1,this.exclude)}}class cu{constructor(){}get schemas(){return[]}add(t){}merge(t){}include(t){return!0}newSub(){return this}}cu.instance=new cu;class Wn{constructor(t){this.problems=[],this.propertiesMatches=0,this.propertiesValueMatches=0,this.primaryValueMatches=0,this.enumValueMatch=!1,t?this.enumValues=[]:this.enumValues=null}hasProblems(){return!!this.problems.length}mergeAll(t){for(const n of t)this.merge(n)}merge(t){this.problems=this.problems.concat(t.problems)}mergeEnumValues(t){if(!this.enumValueMatch&&!t.enumValueMatch&&this.enumValues&&t.enumValues){this.enumValues=this.enumValues.concat(t.enumValues);for(const n of this.problems)n.code===Bn.EnumValueMismatch&&(n.message=ct("enumWarning","Value is not accepted. Valid values: {0}.",[...new Set(this.enumValues)].map(r=>JSON.stringify(r)).join(", ")))}}mergeWarningGeneric(t,n){var r,i,s;if((r=this.problems)!=null&&r.length)for(const o of n){const u=this.problems.filter(c=>c.problemType===o);for(const c of u){const f=(i=t.problems)==null?void 0:i.find(d=>d.problemType===o&&c.location.offset===d.location.offset&&(o!==Nn.missingRequiredPropWarning||Mv(d.problemArgs,c.problemArgs)));f&&((s=f.problemArgs)!=null&&s.length&&(f.problemArgs.filter(d=>!c.problemArgs.includes(d)).forEach(d=>c.problemArgs.push(d)),c.message=nl(c.problemType,c.problemArgs)),this.mergeSources(f,c))}}}mergePropertyMatch(t){this.merge(t),this.propertiesMatches++,(t.enumValueMatch||!t.hasProblems()&&t.propertiesMatches)&&this.propertiesValueMatches++,t.enumValueMatch&&t.enumValues&&this.primaryValueMatches++}mergeSources(t,n){const r=t.source.replace(Lv,"");n.source.includes(r)||(n.source=n.source+" | "+r),n.schemaUri.includes(t.schemaUri[0])||(n.schemaUri=n.schemaUri.concat(t.schemaUri))}compareGeneric(t){const n=this.hasProblems();return n!==t.hasProblems()?n?-1:1:this.enumValueMatch!==t.enumValueMatch?t.enumValueMatch?-1:1:this.propertiesValueMatches!==t.propertiesValueMatches?this.propertiesValueMatches-t.propertiesValueMatches:this.primaryValueMatches!==t.primaryValueMatches?this.primaryValueMatches-t.primaryValueMatches:this.propertiesMatches-t.propertiesMatches}compareKubernetes(t){const n=this.hasProblems();return this.propertiesMatches!==t.propertiesMatches?this.propertiesMatches-t.propertiesMatches:this.enumValueMatch!==t.enumValueMatch?t.enumValueMatch?-1:1:this.primaryValueMatches!==t.primaryValueMatches?this.primaryValueMatches-t.primaryValueMatches:this.propertiesValueMatches!==t.propertiesValueMatches?this.propertiesValueMatches-t.propertiesValueMatches:n!==t.hasProblems()?n?-1:1:this.propertiesMatches-t.propertiesMatches}}function lu(e){switch(e.type){case"array":return e.children.map(lu);case"object":{const t=Object.create(null);for(let n=0,r=e.children;n<r.length;n++){const i=r[n],s=i.children[1];s&&(t[i.children[0].value]=lu(s))}return t}case"null":case"string":case"number":return e.value;case"boolean":return e.source;default:return}}function qv(e,t,n=!1){return t>=e.offset&&t<=e.offset+e.length||n&&t===e.offset+e.length}function xv(e,t,n){if(n===void 0&&(n=!1),qv(e,t,n)){const r=e.children;if(Array.isArray(r))for(let i=0;i<r.length&&r[i].offset<=t;i++){const s=xv(r[i],t,n);if(s)return s}return e}}class zA{constructor(t,n=[],r=[]){this.root=t,this.syntaxErrors=n,this.comments=r}getNodeFromOffset(t,n=!1){if(this.root)return xv(this.root,t,n)}getNodeFromOffsetEndInclusive(t){return this.root&&this.root.getNodeFromOffsetEndInclusive(t)}visit(t){if(this.root){const n=r=>{let i=t(r);const s=r.children;if(Array.isArray(s))for(let o=0;o<s.length&&i;o++)i=n(s[o]);return i};n(this.root)}}validate(t,n){if(this.root&&n){const r=new Wn(this.isKubernetes);return mn(this.root,n,n,r,cu.instance,{isKubernetes:this.isKubernetes,disableAdditionalProperties:this.disableAdditionalProperties,uri:this.uri}),r.problems.map(i=>{const s=Be.create(t.positionAt(i.location.offset),t.positionAt(i.location.offset+i.location.length)),o=An.create(s,i.message,i.severity,i.code?i.code:Bn.Undefined,i.source);return o.data={schemaUri:i.schemaUri,...i.data},o})}return null}getMatchingSchemas(t,n=-1,r=null,i){const s=new Dp(n,r);return this.root&&t&&mn(this.root,t,t,new Wn(this.isKubernetes),s,{isKubernetes:this.isKubernetes,disableAdditionalProperties:this.disableAdditionalProperties,uri:this.uri,callFromAutoComplete:i}),s.schemas}}function mn(e,t,n,r,i,s){const{isKubernetes:o,callFromAutoComplete:u}=s;if(!e||typeof t!="object")return;switch(t.url||(t.url=n.url),t.closestTitle=t.title||n.closestTitle,e.type){case"object":y(e,t,r,i);break;case"array":h(e,t,r,i);break;case"string":d(e,t,r);break;case"number":f(e,t,r);break;case"property":return mn(e.valueNode,t,t,r,i,s)}c(),i.add({node:e,schema:t});function c(){function $(m){return e.type===m||m==="integer"&&e.type==="number"&&e.isInteger}if(Array.isArray(t.type))t.type.some($)||r.problems.push({location:{offset:e.offset,length:e.length},severity:Ge.Warning,message:t.errorMessage||ct("typeArrayMismatchWarning","Incorrect type. Expected one of {0}.",t.type.join(", ")),source:_t(t,n),schemaUri:Et(t,n)});else if(t.type&&!$(t.type)){const m=t.type==="object"?pp(t):t.type;r.problems.push({location:{offset:e.offset,length:e.length},severity:Ge.Warning,message:t.errorMessage||nl(Nn.typeMismatchWarning,[m]),source:_t(t,n),schemaUri:Et(t,n),problemType:Nn.typeMismatchWarning,problemArgs:[m]})}if(Array.isArray(t.allOf))for(const m of t.allOf)mn(e,Fn(m),t,r,i,s);const E=Fn(t.not);if(E){const m=new Wn(o),v=i.newSub();mn(e,E,t,m,v,s),m.hasProblems()||r.problems.push({location:{offset:e.offset,length:e.length},severity:Ge.Warning,message:ct("notSchemaWarning","Matches a schema that is not allowed."),source:_t(t,n),schemaUri:Et(t,n)});for(const _ of v.schemas)_.inverted=!_.inverted,i.add(_)}const T=(m,v)=>{var F;const _=[],P=[],R=[];let N=null;for(const j of m){const I={...Fn(j)},X=new Wn(o),oe=i.newSub();mn(e,I,t,X,oe,s),(!X.hasProblems()||u)&&(_.push(I),P.push(I),X.propertiesMatches===0&&R.push(I),I.format&&P.pop()),N?o?N=w(X,N,I,oe):N=k(e,v,X,N,I,oe):N={schema:I,validationResult:X,matchingSchemas:oe}}return P.length>1&&(P.length>1||R.length===0)&&v&&r.problems.push({location:{offset:e.offset,length:1},severity:Ge.Warning,message:ct("oneOfWarning","Matches multiple schemas when only one must validate."),source:_t(t,n),schemaUri:Et(t,n)}),N!==null&&(r.merge(N.validationResult),r.propertiesMatches+=N.validationResult.propertiesMatches,r.propertiesValueMatches+=N.validationResult.propertiesValueMatches,r.enumValueMatch=r.enumValueMatch||N.validationResult.enumValueMatch,(F=N.validationResult.enumValues)!=null&&F.length&&(r.enumValues=(r.enumValues||[]).concat(N.validationResult.enumValues)),i.merge(N.matchingSchemas)),_.length};Array.isArray(t.anyOf)&&T(t.anyOf,!1),Array.isArray(t.oneOf)&&T(t.oneOf,!0);const D=(m,v)=>{const _=new Wn(o),P=i.newSub();mn(e,Fn(m),v,_,P,s),r.merge(_),r.propertiesMatches+=_.propertiesMatches,r.propertiesValueMatches+=_.propertiesValueMatches,i.merge(P)},p=(m,v,_,P)=>{const R=Fn(m),N=new Wn(o),F=i.newSub();mn(e,R,v,N,F,s),i.merge(F);const{filePatternAssociation:j}=R;j&&(new OO(j).matchesPattern(s.uri)||N.problems.push({location:{offset:e.offset,length:e.length},severity:Ge.Warning,message:ct("ifFilePatternAssociation",`filePatternAssociation '${j}' does not match with doc uri '${s.uri}'.`),source:_t(t,v),schemaUri:Et(t,v)})),N.hasProblems()?P&&D(P,v):_&&D(_,v)},b=Fn(t.if);if(b&&p(b,t,Fn(t.then),Fn(t.else)),Array.isArray(t.enum)){const m=lu(e);let v=!1;for(const _ of t.enum)if(m===_||u&&Ho(m)&&Ho(_)&&m&&_.startsWith(m)){v=!0;break}r.enumValues=t.enum,r.enumValueMatch=v,v||r.problems.push({location:{offset:e.offset,length:e.length},severity:Ge.Warning,code:Bn.EnumValueMismatch,message:t.errorMessage||ct("enumWarning","Value is not accepted. Valid values: {0}.",t.enum.map(_=>JSON.stringify(_)).join(", ")),source:_t(t,n),schemaUri:Et(t,n),data:{values:t.enum}})}if(Bs(t.const)){const m=lu(e);!Jc(m,t.const)&&!(u&&Ho(m)&&Ho(t.const)&&t.const.startsWith(m))?(r.problems.push({location:{offset:e.offset,length:e.length},severity:Ge.Warning,code:Bn.EnumValueMismatch,problemType:Nn.constWarning,message:t.errorMessage||nl(Nn.constWarning,[JSON.stringify(t.const)]),source:_t(t,n),schemaUri:Et(t,n),problemArgs:[JSON.stringify(t.const)],data:{values:[t.const]}}),r.enumValueMatch=!1):r.enumValueMatch=!0,r.enumValues=[t.const]}t.deprecationMessage&&e.parent&&r.problems.push({location:{offset:e.parent.offset,length:e.parent.length},severity:Ge.Warning,message:t.deprecationMessage,source:_t(t,n),schemaUri:Et(t,n)})}function f($,E,T){const D=$.value;mr(E.multipleOf)&&jA(D,E.multipleOf)!==0&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("multipleOfWarning","Value is not divisible by {0}.",E.multipleOf),source:_t(E,n),schemaUri:Et(E,n)});function p(R,N){if(mr(N))return N;if(Vo(N)&&N)return R}function b(R,N){if(!Vo(N)||!N)return R}const m=p(E.minimum,E.exclusiveMinimum);mr(m)&&D<=m&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("exclusiveMinimumWarning","Value is below the exclusive minimum of {0}.",m),source:_t(E,n),schemaUri:Et(E,n)});const v=p(E.maximum,E.exclusiveMaximum);mr(v)&&D>=v&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("exclusiveMaximumWarning","Value is above the exclusive maximum of {0}.",v),source:_t(E,n),schemaUri:Et(E,n)});const _=b(E.minimum,E.exclusiveMinimum);mr(_)&&D<_&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("minimumWarning","Value is below the minimum of {0}.",_),source:_t(E,n),schemaUri:Et(E,n)});const P=b(E.maximum,E.exclusiveMaximum);mr(P)&&D>P&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("maximumWarning","Value is above the maximum of {0}.",P),source:_t(E,n),schemaUri:Et(E,n)})}function d($,E,T){if(mr(E.minLength)&&$.value.length<E.minLength&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("minLengthWarning","String is shorter than the minimum length of {0}.",E.minLength),source:_t(E,n),schemaUri:Et(E,n)}),mr(E.maxLength)&&$.value.length>E.maxLength&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("maxLengthWarning","String is longer than the maximum length of {0}.",E.maxLength),source:_t(E,n),schemaUri:Et(E,n)}),Ho(E.pattern)&&(k0(E.pattern).test($.value)||T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:E.patternErrorMessage||E.errorMessage||ct("patternWarning",'String does not match the pattern of "{0}".',E.pattern),source:_t(E,n),schemaUri:Et(E,n)})),E.format)switch(E.format){case"uri":case"uri-reference":{let D;if(!$.value)D=ct("uriEmpty","URI expected.");else try{!Qn.parse($.value).scheme&&E.format==="uri"&&(D=ct("uriSchemeMissing","URI with a scheme is expected."))}catch(p){D=p.message}D&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:E.patternErrorMessage||E.errorMessage||ct("uriFormatWarning","String is not a URI: {0}",D),source:_t(E,n),schemaUri:Et(E,n)})}break;case"color-hex":case"date-time":case"date":case"time":case"email":case"ipv4":case"ipv6":{const D=qA[E.format];(!$.value||!D.pattern.test($.value))&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:E.patternErrorMessage||E.errorMessage||D.errorMessage,source:_t(E,n),schemaUri:Et(E,n)})}break}}function h($,E,T,D){if(Array.isArray(E.items)){const b=E.items;for(let m=0;m<b.length;m++){const v=b[m],_=Fn(v),P=new Wn(o),R=$.items[m];R?(mn(R,_,E,P,D,s),T.mergePropertyMatch(P),T.mergeEnumValues(P)):$.items.length>=b.length&&T.propertiesValueMatches++}if($.items.length>b.length)if(typeof E.additionalItems=="object")for(let m=b.length;m<$.items.length;m++){const v=new Wn(o);mn($.items[m],E.additionalItems,E,v,D,s),T.mergePropertyMatch(v),T.mergeEnumValues(v)}else E.additionalItems===!1&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("additionalItemsWarning","Array has too many items according to schema. Expected {0} or fewer.",b.length),source:_t(E,n),schemaUri:Et(E,n)})}else{const b=Fn(E.items);if(b){const m=new Wn(o);$.items.forEach(v=>{if(b.oneOf&&b.oneOf.length===1){const _=b.oneOf[0],P={...Fn(_)};P.title=E.title,P.closestTitle=E.closestTitle,mn(v,P,E,m,D,s),T.mergePropertyMatch(m),T.mergeEnumValues(m)}else mn(v,b,E,m,D,s),T.mergePropertyMatch(m),T.mergeEnumValues(m)})}}const p=Fn(E.contains);if(p&&($.items.some(m=>{const v=new Wn(o);return mn(m,p,E,v,cu.instance,s),!v.hasProblems()})||T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:E.errorMessage||ct("requiredItemMissingWarning","Array does not contain required item."),source:_t(E,n),schemaUri:Et(E,n)})),mr(E.minItems)&&$.items.length<E.minItems&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("minItemsWarning","Array has too few items. Expected {0} or more.",E.minItems),source:_t(E,n),schemaUri:Et(E,n)}),mr(E.maxItems)&&$.items.length>E.maxItems&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("maxItemsWarning","Array has too many items. Expected {0} or fewer.",E.maxItems),source:_t(E,n),schemaUri:Et(E,n)}),E.uniqueItems===!0){const b=lu($);b.some((v,_)=>_!==b.lastIndexOf(v))&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("uniqueItemsWarning","Array has duplicate items."),source:_t(E,n),schemaUri:Et(E,n)})}}function y($,E,T,D){const p=Object.create(null),b=[],m=[...$.properties];for(;m.length>0;){const P=m.pop(),R=P.keyNode.value;if(R==="<<"&&P.valueNode)switch(P.valueNode.type){case"object":{m.push(...P.valueNode.properties);break}case"array":{P.valueNode.items.forEach(N=>{N&&wA(N.properties)&&m.push(...N.properties)});break}}else p[R]=P.valueNode,b.push(R)}if(Array.isArray(E.required)){for(const P of E.required)if(p[P]===void 0){const R=$.parent&&$.parent.type==="property"&&$.parent.keyNode,N=R?{offset:R.offset,length:R.length}:{offset:$.offset,length:1};T.problems.push({location:N,severity:Ge.Warning,message:nl(Nn.missingRequiredPropWarning,[P]),source:_t(E,n),schemaUri:Et(E,n),problemArgs:[P],problemType:Nn.missingRequiredPropWarning})}}const v=P=>{let R=b.indexOf(P);for(;R>=0;)b.splice(R,1),R=b.indexOf(P)};if(E.properties)for(const P of Object.keys(E.properties)){v(P);const R=E.properties[P],N=p[P];if(N)if(Vo(R))if(R)T.propertiesMatches++,T.propertiesValueMatches++;else{const F=N.parent;T.problems.push({location:{offset:F.keyNode.offset,length:F.keyNode.length},severity:Ge.Warning,message:E.errorMessage||ct("DisallowedExtraPropWarning",bp,P),source:_t(E,n),schemaUri:Et(E,n)})}else{R.url=E.url??n.url;const F=new Wn(o);mn(N,R,E,F,D,s),T.mergePropertyMatch(F),T.mergeEnumValues(F)}}if(E.patternProperties)for(const P of Object.keys(E.patternProperties)){const R=k0(P);for(const N of b.slice(0))if(R.test(N)){v(N);const F=p[N];if(F){const j=E.patternProperties[P];if(Vo(j))if(j)T.propertiesMatches++,T.propertiesValueMatches++;else{const I=F.parent;T.problems.push({location:{offset:I.keyNode.offset,length:I.keyNode.length},severity:Ge.Warning,message:E.errorMessage||ct("DisallowedExtraPropWarning",bp,N),source:_t(E,n),schemaUri:Et(E,n)})}else{const I=new Wn(o);mn(F,j,E,I,D,s),T.mergePropertyMatch(I),T.mergeEnumValues(I)}}}}if(typeof E.additionalProperties=="object")for(const P of b){const R=p[P];if(R){const N=new Wn(o);mn(R,E.additionalProperties,E,N,D,s),T.mergePropertyMatch(N),T.mergeEnumValues(N)}}else if((E.additionalProperties===!1||E.type==="object"&&E.additionalProperties===void 0&&s.disableAdditionalProperties===!0)&&b.length>0){const P=E.properties&&Object.keys(E.properties).filter(R=>!p[R]);for(const R of b){const N=p[R];if(N){let F=null;N.type!=="property"?(F=N.parent,F.type==="object"&&(F=F.properties[0])):F=N;const j={location:{offset:F.keyNode.offset,length:F.keyNode.length},severity:Ge.Warning,code:Bn.PropertyExpected,message:E.errorMessage||ct("DisallowedExtraPropWarning",bp,R),source:_t(E,n),schemaUri:Et(E,n)};P!=null&&P.length&&(j.data={properties:P}),T.problems.push(j)}}}if(mr(E.maxProperties)&&$.properties.length>E.maxProperties&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("MaxPropWarning","Object has more properties than limit of {0}.",E.maxProperties),source:_t(E,n),schemaUri:Et(E,n)}),mr(E.minProperties)&&$.properties.length<E.minProperties&&T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("MinPropWarning","Object has fewer properties than the required number of {0}",E.minProperties),source:_t(E,n),schemaUri:Et(E,n)}),E.dependencies){for(const P of Object.keys(E.dependencies))if(p[P]){const N=E.dependencies[P];if(Array.isArray(N))for(const F of N)p[F]?T.propertiesValueMatches++:T.problems.push({location:{offset:$.offset,length:$.length},severity:Ge.Warning,message:ct("RequiredDependentPropWarning","Object is missing property {0} required by property {1}.",F,P),source:_t(E,n),schemaUri:Et(E,n)});else{const F=Fn(N);if(F){const j=new Wn(o);mn($,F,E,j,D,s),T.mergePropertyMatch(j),T.mergeEnumValues(j)}}}}const _=Fn(E.propertyNames);if(_)for(const P of $.properties){const R=P.keyNode;R&&mn(R,_,E,T,cu.instance,s)}}function w($,E,T,D){const p=$.compareKubernetes(E.validationResult);return p>0?E={schema:T,validationResult:$,matchingSchemas:D}:p===0&&(E.matchingSchemas.merge(D),E.validationResult.mergeEnumValues($)),E}function k($,E,T,D,p,b){if(!E&&!T.hasProblems()&&(!D.validationResult.hasProblems()||u))D.matchingSchemas.merge(b),D.validationResult.propertiesMatches+=T.propertiesMatches,D.validationResult.propertiesValueMatches+=T.propertiesValueMatches;else{const m=T.compareGeneric(D.validationResult);m>0||m===0&&E&&D.schema.type==="object"&&$.type!=="null"&&$.type!==D.schema.type?D={schema:p,validationResult:T,matchingSchemas:b}:m===0&&(D.matchingSchemas.merge(b),D.validationResult.mergeEnumValues(T),D.validationResult.mergeWarningGeneric(T,[Nn.missingRequiredPropWarning,Nn.typeMismatchWarning,Nn.constWarning]))}return D}}function _t(e,t){if(e){let n;if(e.title)n=e.title;else if(e.closestTitle)n=e.closestTitle;else if(t.closestTitle)n=t.closestTitle;else{const r=e.url??t.url;if(r){const i=Qn.parse(r);i.scheme==="file"&&(n=i.fsPath),n=i.toString()}}if(n)return`${Lv}${n}`}return el}function Et(e,t){const n=e.url??t.url;return n?[n]:[]}function nl(e,t){return ct(e,xA[e],t.join(" | "))}const YA=1e3;let wp=0;const _p=new Set;function Ko(e,t,n,r){if(e||(wp=0),!t)return null;if(Jt(t))return GA(t,e,n,r);if(wt(t))return JA(t,e,n,r);if(sn(t))return QA(t,e,n,r);if(Je(t))return XA(t,e);if(Jr(t)&&!_p.has(t)&&wp<YA){_p.add(t);const i=ZA(t,e,n,r);return _p.delete(t),i}else return}function GA(e,t,n,r){let i;e.flow&&!e.range?i=eC(e):i=e.range;const s=new KA(t,e,...Bv(i,r));for(const o of e.items)wt(o)&&s.properties.push(Ko(s,o,n,r));return s}function JA(e,t,n,r){const i=e.key,s=e.value,o=i.range[0];let u=i.range[1],c=i.range[2];s&&(u=s.range[1],c=s.range[2]);const f=new HA(t,e,...Bv([o,u,c],r));if(Jr(i)){const d=new tl(t,i,...ts(i.range));d.value=i.source,f.keyNode=d}else f.keyNode=Ko(f,i,n,r);return f.valueNode=Ko(f,s,n,r),f}function QA(e,t,n,r){const i=new UA(t,e,...ts(e.range));for(const s of e.items)if($t(s)){const o=Ko(i,s,n,r);o&&i.children.push(o)}return i}function XA(e,t){if(e.value===null)return new BA(t,e,...ts(e.range));switch(typeof e.value){case"string":{const n=new tl(t,e,...ts(e.range));return n.value=e.value,n}case"boolean":return new WA(t,e,e.value,e.source,...ts(e.range));case"number":{const n=new VA(t,e,...ts(e.range));return n.value=e.value,n.isInteger=Number.isInteger(n.value),n}default:{const n=new tl(t,e,...ts(e.range));return n.value=e.source,n}}}function ZA(e,t,n,r){wp++;const i=e.resolve(n);if(i)return Ko(t,i,n,r);{const s=new tl(t,e,...ts(e.range));return s.value=e.source,s}}function ts(e){return[e[0],e[1]-e[0]]}function Bv(e,t){const n=t.linePos(e[0]),r=t.linePos(e[1]),i=[e[0],e[1]-e[0]];return n.line!==r.line&&(t.lineStarts.length!==r.line||r.col===1)&&i[1]--,i}function eC(e){let t=Number.MAX_SAFE_INTEGER,n=0;for(const r of e.items)wt(r)&&($t(r.key)&&r.key.range&&r.key.range[0]<=t&&(t=r.key.range[0]),$t(r.value)&&r.value.range&&r.value.range[2]>=n&&(n=r.value.range[2]));return[t,n,n]}function tC(e,t){let n;if(jt(e,(r,i,s)=>{if(i===t)return n=s[s.length-1],jt.BREAK}),!Cc(n))return n}function nC(e){if(e.items.length>1)return!1;const t=e.items[0];return Je(t.key)&&Je(t.value)&&t.key.value===""&&!t.value.value}function rC(e,t){for(const[n,r]of e.items.entries())if(t===r)return n}function iC(e,t){let n=!1;for(const r of e){if(r.type==="document")Ep([],r,i=>{var s;if(Wv(i)&&((s=i.value)==null?void 0:s.type)==="comment"){if(r.offset<=t&&i.value.source.length+i.value.offset>=t)return n=!0,jt.BREAK}else if(i.type==="comment"&&i.offset<=t&&i.offset+i.source.length>=t)return n=!0,jt.BREAK});else if(r.type==="comment"&&r.offset<=t&&r.source.length+r.offset>=t)return!0;if(n)break}return n}function Wv(e){return e.start!==void 0}function Ep(e,t,n){let r=n(t,e);if(typeof r=="symbol")return r;for(const s of["key","value"]){const o=t[s];if(o&&"items"in o){for(let u=0;u<o.items.length;++u){const c=Ep(Object.freeze(e.concat([[s,u]])),o.items[u],n);if(typeof c=="number")u=c-1;else{if(c===jt.BREAK)return jt.BREAK;c===jt.REMOVE&&(o.items.splice(u,1),u-=1)}}typeof r=="function"&&s==="key"&&(r=r(t,e))}}const i=t.sep;if(i)for(let s=0;s<i.length;++s){const o=Ep(Object.freeze(e),i[s],n);if(typeof o=="number")s=o-1;else{if(o===jt.BREAK)return jt.BREAK;o===jt.REMOVE&&(i.items.splice(s,1),s-=1)}}return typeof r=="function"?r(t,e):r}class rl extends zA{constructor(t){super(null,[]),this.lineCounter=t}clone(){const t=new rl(this.lineCounter);return t.isKubernetes=this.isKubernetes,t.disableAdditionalProperties=this.disableAdditionalProperties,t.uri=this.uri,t.currentDocIndex=this.currentDocIndex,t._lineComments=this.lineComments.slice(),t.internalDocument=this._internalDocument.clone(),t}collectLineComments(){this._lineComments=[],this._internalDocument.commentBefore&&this._internalDocument.commentBefore.split(`
`).forEach(n=>this._lineComments.push(`#${n}`)),jt(this.internalDocument,(t,n)=>{n!=null&&n.commentBefore&&(n==null?void 0:n.commentBefore.split(`
`)).forEach(i=>this._lineComments.push(`#${i}`)),n!=null&&n.comment&&this._lineComments.push(`#${n.comment}`)}),this._internalDocument.comment&&this._lineComments.push(`#${this._internalDocument.comment}`)}updateFromInternalDocument(){this.root=Ko(null,this._internalDocument.contents,this._internalDocument,this.lineCounter)}set internalDocument(t){this._internalDocument=t,this.updateFromInternalDocument()}get internalDocument(){return this._internalDocument}get lineComments(){return this._lineComments||this.collectLineComments(),this._lineComments}set lineComments(t){this._lineComments=t}get errors(){return this.internalDocument.errors.map(Vv)}get warnings(){return this.internalDocument.warnings.map(Vv)}getNodeFromPosition(t,n,r){const i=n.getPosition(t),s=n.getLineContent(i.line);if(s.trim().length===0)return[this.findClosestNode(t,n,r),!0];const u=s.substring(i.character).match(/^([ ]+)\n?$/),c=!!u,f=u==null?void 0:u[1].length;let d;return jt(this.internalDocument,(h,y)=>{if(!y)return;const w=y.range;if(!w)return;const k=()=>c&&t+f===w[2]&&Je(y)&&y.value===null;if(w[0]<=t&&w[1]>=t||k())d=y;else return jt.SKIP}),[d,!1]}findClosestNode(t,n,r){let i=this.internalDocument.range[2],s=this.internalDocument.range[0],o;jt(this.internalDocument,(d,h)=>{if(!h)return;const y=h.range;if(!y)return;const w=y[1]-t;s<=y[0]&&w<=0&&Math.abs(w)<=i&&(i=Math.abs(w),s=y[0],o=h)});const u=n.getPosition(t),c=n.getLineContent(u.line),f=QT(c,u.character);return Je(o)&&o.value===null||f===u.character&&(o=this.getProperParentByIndentation(f,o,n,"",r)),o}getProperParentByIndentation(t,n,r,i,s,o){if(!n)return this.internalDocument.contents;if(s=s||2,$t(n)&&n.range){const u=r.getPosition(n.range[0]),c=r.getLineContent(u.line);if(i=i===""?c.trim():i,i.startsWith("-")&&t===s&&i===c.trim()&&(u.character+=t),u.character>t&&u.character>0){const f=this.getParent(n);if(f)return this.getProperParentByIndentation(t,f,r,i,s,o)}else if(u.character<t){const f=this.getParent(n);if(wt(f)&&$t(f.value))return f.value;if(wt(o)&&$t(o.value))return o.value}else return n}else if(wt(n)){o=n;const u=this.getParent(n);return this.getProperParentByIndentation(t,u,r,i,s,o)}return n}getParent(t){return tC(this.internalDocument,t)}}class Uv{constructor(t,n){this.documents=t,this.tokens=n,this.errors=[],this.warnings=[]}}class sC{constructor(){this.cache=new Map}getYamlDocument(t,n,r=!1){return this.ensureCache(t,n??il,r),this.cache.get(t.uri).document}clear(){this.cache.clear()}ensureCache(t,n,r){const i=t.uri;this.cache.has(i)||this.cache.set(i,{version:-1,document:new Uv([],[]),parserOptions:il});const s=this.cache.get(i);if(s.version!==t.version||n.customTags&&!Mv(s.parserOptions.customTags,n.customTags)){let o=t.getText();r&&!/\S/.test(o)&&(o=`{${o}}`);const u=cC(o,n,t);s.document=u,s.version=t.version,s.parserOptions=n}}}const gr=new sC;function Vv(e){return{message:e.message,location:{start:e.pos[0],end:e.pos[1],toLineEnd:!0},severity:1,code:Bn.Undefined}}class oC{constructor(t,n){this.tag=t,this.type=n}get collection(){if(this.type==="mapping")return"map";if(this.type==="sequence")return"seq"}resolve(t){if(Jt(t)&&this.type==="mapping"||sn(t)&&this.type==="sequence"||typeof t=="string"&&this.type==="scalar")return t}}class aC{constructor(){this.tag="!include",this.type="scalar"}resolve(t,n){if(t&&t.length>0&&t.trim())return t;n("!include without value")}}function uC(e){const t=[],n=Iv(e);for(const r of n){const i=r.split(" "),s=i[0],o=i[1]&&i[1].toLowerCase()||"scalar";t.push(new oC(s,o))}return t.push(new aC),t}class Us{constructor(t){this.doc=t}getLineCount(){return this.doc.lineCount}getLineLength(t){const n=this.doc.getLineOffsets();return t>=n.length?this.doc.getText().length:t<0?0:(t+1<n.length?n[t+1]:this.doc.getText().length)-n[t]}getLineContent(t){const n=this.doc.getLineOffsets();if(t>=n.length)return this.doc.getText();if(t<0)return"";const r=t+1<n.length?n[t+1]:this.doc.getText().length;return this.doc.getText().substring(n[t],r)}getLineCharCode(t,n){return this.doc.getText(Be.create(t-1,n,t-1,n+1)).charCodeAt(0)}getText(t){return this.doc.getText(t)}getPosition(t){return this.doc.positionAt(t)}}const il={customTags:[],yamlVersion:"1.2"};function cC(e,t=il,n){const r={strict:!1,customTags:uC(t.customTags),version:t.yamlVersion??il.yamlVersion,keepSourceTokens:!0},i=new mv(r),s=new Ev;let o=!1;if(n){const y=new Us(n),w=y.getPosition(e.length);o=y.getLineContent(w.line).trim().length===0}const c=(o?new dp:new dp(s.addNewLine)).parse(e),f=Array.from(c),d=i.compose(f,!0,e.length),h=Array.from(d,y=>lC(y,s));return new Uv(h,f)}function lC(e,t){const n=new rl(t);return n.internalDocument=e,n}function fC(e){if(e instanceof rl){const t=e.lineComments.find(n=>Sp(n));if(t!=null){const n=t.match(/\$schema=\S+/g);if(n!==null&&n.length>=1)return n.length>=2&&console.log("Several $schema attributes have been found on the yaml-language-server modeline. The first one will be picked."),n[0].substring(8)}}}function Sp(e){const t=e.match(/^#\s+yaml-language-server\s*:/g);return t!==null&&t.length===1}var sl={exports:{}},$p={},Ei={},Vs={},Tp={},kp={},Ap={},Hv;function ol(){return Hv||(Hv=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(D){if(super(),!e.IDENTIFIER.test(D))throw new Error("CodeGen: name must be a valid identifier");this.str=D}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(D){super(),this._items=typeof D=="string"?[D]:D}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const D=this._items[0];return D===""||D==='""'}get str(){var D;return(D=this._str)!==null&&D!==void 0?D:this._str=this._items.reduce((p,b)=>`${p}${b}`,"")}get names(){var D;return(D=this._names)!==null&&D!==void 0?D:this._names=this._items.reduce((p,b)=>(b instanceof n&&(p[b.str]=(p[b.str]||0)+1),p),{})}}e._Code=r,e.nil=new r("");function i(T,...D){const p=[T[0]];let b=0;for(;b<D.length;)u(p,D[b]),p.push(T[++b]);return new r(p)}e._=i;const s=new r("+");function o(T,...D){const p=[w(T[0])];let b=0;for(;b<D.length;)p.push(s),u(p,D[b]),p.push(s,w(T[++b]));return c(p),new r(p)}e.str=o;function u(T,D){D instanceof r?T.push(...D._items):D instanceof n?T.push(D):T.push(h(D))}e.addCodeArg=u;function c(T){let D=1;for(;D<T.length-1;){if(T[D]===s){const p=f(T[D-1],T[D+1]);if(p!==void 0){T.splice(D-1,3,p);continue}T[D++]="+"}D++}}function f(T,D){if(D==='""')return T;if(T==='""')return D;if(typeof T=="string")return D instanceof n||T[T.length-1]!=='"'?void 0:typeof D!="string"?`${T.slice(0,-1)}${D}"`:D[0]==='"'?T.slice(0,-1)+D.slice(1):void 0;if(typeof D=="string"&&D[0]==='"'&&!(T instanceof n))return`"${T}${D.slice(1)}`}function d(T,D){return D.emptyStr()?T:T.emptyStr()?D:o`${T}${D}`}e.strConcat=d;function h(T){return typeof T=="number"||typeof T=="boolean"||T===null?T:w(Array.isArray(T)?T.join(","):T)}function y(T){return new r(w(T))}e.stringify=y;function w(T){return JSON.stringify(T).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=w;function k(T){return typeof T=="string"&&e.IDENTIFIER.test(T)?new r(`.${T}`):i`[${T}]`}e.getProperty=k;function $(T){if(typeof T=="string"&&e.IDENTIFIER.test(T))return new r(`${T}`);throw new Error(`CodeGen: invalid export name: ${T}, use explicit $id name mapping`)}e.getEsmExportName=$;function E(T){return new r(T.toString())}e.regexpCode=E})(Ap)),Ap}var Cp={},Kv;function zv(){return Kv||(Kv=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=ol();class n extends Error{constructor(f){super(`CodeGen: "code" for ${f} not defined`),this.value=f.value}}var r;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:f,parent:d}={}){this._names={},this._prefixes=f,this._parent=d}toName(f){return f instanceof t.Name?f:this.name(f)}name(f){return new t.Name(this._newName(f))}_newName(f){const d=this._names[f]||this._nameGroup(f);return`${f}${d.index++}`}_nameGroup(f){var d,h;if(!((h=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||h===void 0)&&h.has(f)||this._prefixes&&!this._prefixes.has(f))throw new Error(`CodeGen: prefix "${f}" is not allowed in this scope`);return this._names[f]={prefix:f,index:0}}}e.Scope=i;class s extends t.Name{constructor(f,d){super(d),this.prefix=f}setValue(f,{property:d,itemIndex:h}){this.value=f,this.scopePath=(0,t._)`.${new t.Name(d)}[${h}]`}}e.ValueScopeName=s;const o=(0,t._)`\n`;class u extends i{constructor(f){super(f),this._values={},this._scope=f.scope,this.opts={...f,_n:f.lines?o:t.nil}}get(){return this._scope}name(f){return new s(f,this._newName(f))}value(f,d){var h;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const y=this.toName(f),{prefix:w}=y,k=(h=d.key)!==null&&h!==void 0?h:d.ref;let $=this._values[w];if($){const D=$.get(k);if(D)return D}else $=this._values[w]=new Map;$.set(k,y);const E=this._scope[w]||(this._scope[w]=[]),T=E.length;return E[T]=d.ref,y.setValue(d,{property:w,itemIndex:T}),y}getValue(f,d){const h=this._values[f];if(h)return h.get(d)}scopeRefs(f,d=this._values){return this._reduceValues(d,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,t._)`${f}${h.scopePath}`})}scopeCode(f=this._values,d,h){return this._reduceValues(f,y=>{if(y.value===void 0)throw new Error(`CodeGen: name "${y}" has no value`);return y.value.code},d,h)}_reduceValues(f,d,h={},y){let w=t.nil;for(const k in f){const $=f[k];if(!$)continue;const E=h[k]=h[k]||new Map;$.forEach(T=>{if(E.has(T))return;E.set(T,r.Started);let D=d(T);if(D){const p=this.opts.es5?e.varKinds.var:e.varKinds.const;w=(0,t._)`${w}${p} ${T} = ${D};${this.opts._n}`}else if(D=y==null?void 0:y(T))w=(0,t._)`${w}${D}${this.opts._n}`;else throw new n(T);E.set(T,r.Completed)})}return w}}e.ValueScope=u})(Cp)),Cp}var Yv;function Qe(){return Yv||(Yv=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=ol(),n=zv();var r=ol();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=zv();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(x,Q){return this}}class o extends s{constructor(x,Q,fe){super(),this.varKind=x,this.name=Q,this.rhs=fe}render({es5:x,_n:Q}){const fe=x?n.varKinds.var:this.varKind,Te=this.rhs===void 0?"":` = ${this.rhs}`;return`${fe} ${this.name}${Te};`+Q}optimizeNames(x,Q){if(x[this.name.str])return this.rhs&&(this.rhs=X(this.rhs,x,Q)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class u extends s{constructor(x,Q,fe){super(),this.lhs=x,this.rhs=Q,this.sideEffects=fe}render({_n:x}){return`${this.lhs} = ${this.rhs};`+x}optimizeNames(x,Q){if(!(this.lhs instanceof t.Name&&!x[this.lhs.str]&&!this.sideEffects))return this.rhs=X(this.rhs,x,Q),this}get names(){const x=this.lhs instanceof t.Name?{}:{...this.lhs.names};return I(x,this.rhs)}}class c extends u{constructor(x,Q,fe,Te){super(x,fe,Te),this.op=Q}render({_n:x}){return`${this.lhs} ${this.op}= ${this.rhs};`+x}}class f extends s{constructor(x){super(),this.label=x,this.names={}}render({_n:x}){return`${this.label}:`+x}}class d extends s{constructor(x){super(),this.label=x,this.names={}}render({_n:x}){return`break${this.label?` ${this.label}`:""};`+x}}class h extends s{constructor(x){super(),this.error=x}render({_n:x}){return`throw ${this.error};`+x}get names(){return this.error.names}}class y extends s{constructor(x){super(),this.code=x}render({_n:x}){return`${this.code};`+x}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(x,Q){return this.code=X(this.code,x,Q),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class w extends s{constructor(x=[]){super(),this.nodes=x}render(x){return this.nodes.reduce((Q,fe)=>Q+fe.render(x),"")}optimizeNodes(){const{nodes:x}=this;let Q=x.length;for(;Q--;){const fe=x[Q].optimizeNodes();Array.isArray(fe)?x.splice(Q,1,...fe):fe?x[Q]=fe:x.splice(Q,1)}return x.length>0?this:void 0}optimizeNames(x,Q){const{nodes:fe}=this;let Te=fe.length;for(;Te--;){const ke=fe[Te];ke.optimizeNames(x,Q)||(oe(x,ke.names),fe.splice(Te,1))}return fe.length>0?this:void 0}get names(){return this.nodes.reduce((x,Q)=>j(x,Q.names),{})}}class k extends w{render(x){return"{"+x._n+super.render(x)+"}"+x._n}}class $ extends w{}class E extends k{}E.kind="else";class T extends k{constructor(x,Q){super(Q),this.condition=x}render(x){let Q=`if(${this.condition})`+super.render(x);return this.else&&(Q+="else "+this.else.render(x)),Q}optimizeNodes(){super.optimizeNodes();const x=this.condition;if(x===!0)return this.nodes;let Q=this.else;if(Q){const fe=Q.optimizeNodes();Q=this.else=Array.isArray(fe)?new E(fe):fe}if(Q)return x===!1?Q instanceof T?Q:Q.nodes:this.nodes.length?this:new T(ue(x),Q instanceof T?[Q]:Q.nodes);if(!(x===!1||!this.nodes.length))return this}optimizeNames(x,Q){var fe;if(this.else=(fe=this.else)===null||fe===void 0?void 0:fe.optimizeNames(x,Q),!!(super.optimizeNames(x,Q)||this.else))return this.condition=X(this.condition,x,Q),this}get names(){const x=super.names;return I(x,this.condition),this.else&&j(x,this.else.names),x}}T.kind="if";class D extends k{}D.kind="for";class p extends D{constructor(x){super(),this.iteration=x}render(x){return`for(${this.iteration})`+super.render(x)}optimizeNames(x,Q){if(super.optimizeNames(x,Q))return this.iteration=X(this.iteration,x,Q),this}get names(){return j(super.names,this.iteration.names)}}class b extends D{constructor(x,Q,fe,Te){super(),this.varKind=x,this.name=Q,this.from=fe,this.to=Te}render(x){const Q=x.es5?n.varKinds.var:this.varKind,{name:fe,from:Te,to:ke}=this;return`for(${Q} ${fe}=${Te}; ${fe}<${ke}; ${fe}++)`+super.render(x)}get names(){const x=I(super.names,this.from);return I(x,this.to)}}class m extends D{constructor(x,Q,fe,Te){super(),this.loop=x,this.varKind=Q,this.name=fe,this.iterable=Te}render(x){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(x)}optimizeNames(x,Q){if(super.optimizeNames(x,Q))return this.iterable=X(this.iterable,x,Q),this}get names(){return j(super.names,this.iterable.names)}}class v extends k{constructor(x,Q,fe){super(),this.name=x,this.args=Q,this.async=fe}render(x){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(x)}}v.kind="func";class _ extends w{render(x){return"return "+super.render(x)}}_.kind="return";class P extends k{render(x){let Q="try"+super.render(x);return this.catch&&(Q+=this.catch.render(x)),this.finally&&(Q+=this.finally.render(x)),Q}optimizeNodes(){var x,Q;return super.optimizeNodes(),(x=this.catch)===null||x===void 0||x.optimizeNodes(),(Q=this.finally)===null||Q===void 0||Q.optimizeNodes(),this}optimizeNames(x,Q){var fe,Te;return super.optimizeNames(x,Q),(fe=this.catch)===null||fe===void 0||fe.optimizeNames(x,Q),(Te=this.finally)===null||Te===void 0||Te.optimizeNames(x,Q),this}get names(){const x=super.names;return this.catch&&j(x,this.catch.names),this.finally&&j(x,this.finally.names),x}}class R extends k{constructor(x){super(),this.error=x}render(x){return`catch(${this.error})`+super.render(x)}}R.kind="catch";class N extends k{render(x){return"finally"+super.render(x)}}N.kind="finally";class F{constructor(x,Q={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...Q,_n:Q.lines?`
`:""},this._extScope=x,this._scope=new n.Scope({parent:x}),this._nodes=[new $]}toString(){return this._root.render(this.opts)}name(x){return this._scope.name(x)}scopeName(x){return this._extScope.name(x)}scopeValue(x,Q){const fe=this._extScope.value(x,Q);return(this._values[fe.prefix]||(this._values[fe.prefix]=new Set)).add(fe),fe}getScopeValue(x,Q){return this._extScope.getValue(x,Q)}scopeRefs(x){return this._extScope.scopeRefs(x,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(x,Q,fe,Te){const ke=this._scope.toName(Q);return fe!==void 0&&Te&&(this._constants[ke.str]=fe),this._leafNode(new o(x,ke,fe)),ke}const(x,Q,fe){return this._def(n.varKinds.const,x,Q,fe)}let(x,Q,fe){return this._def(n.varKinds.let,x,Q,fe)}var(x,Q,fe){return this._def(n.varKinds.var,x,Q,fe)}assign(x,Q,fe){return this._leafNode(new u(x,Q,fe))}add(x,Q){return this._leafNode(new c(x,e.operators.ADD,Q))}code(x){return typeof x=="function"?x():x!==t.nil&&this._leafNode(new y(x)),this}object(...x){const Q=["{"];for(const[fe,Te]of x)Q.length>1&&Q.push(","),Q.push(fe),(fe!==Te||this.opts.es5)&&(Q.push(":"),(0,t.addCodeArg)(Q,Te));return Q.push("}"),new t._Code(Q)}if(x,Q,fe){if(this._blockNode(new T(x)),Q&&fe)this.code(Q).else().code(fe).endIf();else if(Q)this.code(Q).endIf();else if(fe)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(x){return this._elseNode(new T(x))}else(){return this._elseNode(new E)}endIf(){return this._endBlockNode(T,E)}_for(x,Q){return this._blockNode(x),Q&&this.code(Q).endFor(),this}for(x,Q){return this._for(new p(x),Q)}forRange(x,Q,fe,Te,ke=this.opts.es5?n.varKinds.var:n.varKinds.let){const Fe=this._scope.toName(x);return this._for(new b(ke,Fe,Q,fe),()=>Te(Fe))}forOf(x,Q,fe,Te=n.varKinds.const){const ke=this._scope.toName(x);if(this.opts.es5){const Fe=Q instanceof t.Name?Q:this.var("_arr",Q);return this.forRange("_i",0,(0,t._)`${Fe}.length`,we=>{this.var(ke,(0,t._)`${Fe}[${we}]`),fe(ke)})}return this._for(new m("of",Te,ke,Q),()=>fe(ke))}forIn(x,Q,fe,Te=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(x,(0,t._)`Object.keys(${Q})`,fe);const ke=this._scope.toName(x);return this._for(new m("in",Te,ke,Q),()=>fe(ke))}endFor(){return this._endBlockNode(D)}label(x){return this._leafNode(new f(x))}break(x){return this._leafNode(new d(x))}return(x){const Q=new _;if(this._blockNode(Q),this.code(x),Q.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(_)}try(x,Q,fe){if(!Q&&!fe)throw new Error('CodeGen: "try" without "catch" and "finally"');const Te=new P;if(this._blockNode(Te),this.code(x),Q){const ke=this.name("e");this._currNode=Te.catch=new R(ke),Q(ke)}return fe&&(this._currNode=Te.finally=new N,this.code(fe)),this._endBlockNode(R,N)}throw(x){return this._leafNode(new h(x))}block(x,Q){return this._blockStarts.push(this._nodes.length),x&&this.code(x).endBlock(Q),this}endBlock(x){const Q=this._blockStarts.pop();if(Q===void 0)throw new Error("CodeGen: not in self-balancing block");const fe=this._nodes.length-Q;if(fe<0||x!==void 0&&fe!==x)throw new Error(`CodeGen: wrong number of nodes: ${fe} vs ${x} expected`);return this._nodes.length=Q,this}func(x,Q=t.nil,fe,Te){return this._blockNode(new v(x,Q,fe)),Te&&this.code(Te).endFunc(),this}endFunc(){return this._endBlockNode(v)}optimize(x=1){for(;x-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(x){return this._currNode.nodes.push(x),this}_blockNode(x){this._currNode.nodes.push(x),this._nodes.push(x)}_endBlockNode(x,Q){const fe=this._currNode;if(fe instanceof x||Q&&fe instanceof Q)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${Q?`${x.kind}/${Q.kind}`:x.kind}"`)}_elseNode(x){const Q=this._currNode;if(!(Q instanceof T))throw new Error('CodeGen: "else" without "if"');return this._currNode=Q.else=x,this}get _root(){return this._nodes[0]}get _currNode(){const x=this._nodes;return x[x.length-1]}set _currNode(x){const Q=this._nodes;Q[Q.length-1]=x}}e.CodeGen=F;function j(re,x){for(const Q in x)re[Q]=(re[Q]||0)+(x[Q]||0);return re}function I(re,x){return x instanceof t._CodeOrName?j(re,x.names):re}function X(re,x,Q){if(re instanceof t.Name)return fe(re);if(!Te(re))return re;return new t._Code(re._items.reduce((ke,Fe)=>(Fe instanceof t.Name&&(Fe=fe(Fe)),Fe instanceof t._Code?ke.push(...Fe._items):ke.push(Fe),ke),[]));function fe(ke){const Fe=Q[ke.str];return Fe===void 0||x[ke.str]!==1?ke:(delete x[ke.str],Fe)}function Te(ke){return ke instanceof t._Code&&ke._items.some(Fe=>Fe instanceof t.Name&&x[Fe.str]===1&&Q[Fe.str]!==void 0)}}function oe(re,x){for(const Q in x)re[Q]=(re[Q]||0)-(x[Q]||0)}function ue(re){return typeof re=="boolean"||typeof re=="number"||re===null?!re:(0,t._)`!${ae(re)}`}e.not=ue;const he=U(e.operators.AND);function $e(...re){return re.reduce(he)}e.and=$e;const We=U(e.operators.OR);function ge(...re){return re.reduce(We)}e.or=ge;function U(re){return(x,Q)=>x===t.nil?Q:Q===t.nil?x:(0,t._)`${ae(x)} ${re} ${ae(Q)}`}function ae(re){return re instanceof t.Name?re:(0,t._)`(${re})`}})(kp)),kp}var st={},Gv;function lt(){if(Gv)return st;Gv=1,Object.defineProperty(st,"__esModule",{value:!0}),st.checkStrictMode=st.getErrorPath=st.Type=st.useFunc=st.setEvaluated=st.evaluatedPropsToName=st.mergeEvaluated=st.eachItem=st.unescapeJsonPointer=st.escapeJsonPointer=st.escapeFragment=st.unescapeFragment=st.schemaRefOrVal=st.schemaHasRulesButRef=st.schemaHasRules=st.checkUnknownRules=st.alwaysValidSchema=st.toHash=void 0;const e=Qe(),t=ol();function n(m){const v={};for(const _ of m)v[_]=!0;return v}st.toHash=n;function r(m,v){return typeof v=="boolean"?v:Object.keys(v).length===0?!0:(i(m,v),!s(v,m.self.RULES.all))}st.alwaysValidSchema=r;function i(m,v=m.schema){const{opts:_,self:P}=m;if(!_.strictSchema||typeof v=="boolean")return;const R=P.RULES.keywords;for(const N in v)R[N]||b(m,`unknown keyword: "${N}"`)}st.checkUnknownRules=i;function s(m,v){if(typeof m=="boolean")return!m;for(const _ in m)if(v[_])return!0;return!1}st.schemaHasRules=s;function o(m,v){if(typeof m=="boolean")return!m;for(const _ in m)if(_!=="$ref"&&v.all[_])return!0;return!1}st.schemaHasRulesButRef=o;function u({topSchemaRef:m,schemaPath:v},_,P,R){if(!R){if(typeof _=="number"||typeof _=="boolean")return _;if(typeof _=="string")return(0,e._)`${_}`}return(0,e._)`${m}${v}${(0,e.getProperty)(P)}`}st.schemaRefOrVal=u;function c(m){return h(decodeURIComponent(m))}st.unescapeFragment=c;function f(m){return encodeURIComponent(d(m))}st.escapeFragment=f;function d(m){return typeof m=="number"?`${m}`:m.replace(/~/g,"~0").replace(/\//g,"~1")}st.escapeJsonPointer=d;function h(m){return m.replace(/~1/g,"/").replace(/~0/g,"~")}st.unescapeJsonPointer=h;function y(m,v){if(Array.isArray(m))for(const _ of m)v(_);else v(m)}st.eachItem=y;function w({mergeNames:m,mergeToName:v,mergeValues:_,resultToName:P}){return(R,N,F,j)=>{const I=F===void 0?N:F instanceof e.Name?(N instanceof e.Name?m(R,N,F):v(R,N,F),F):N instanceof e.Name?(v(R,F,N),N):_(N,F);return j===e.Name&&!(I instanceof e.Name)?P(R,I):I}}st.mergeEvaluated={props:w({mergeNames:(m,v,_)=>m.if((0,e._)`${_} !== true && ${v} !== undefined`,()=>{m.if((0,e._)`${v} === true`,()=>m.assign(_,!0),()=>m.assign(_,(0,e._)`${_} || {}`).code((0,e._)`Object.assign(${_}, ${v})`))}),mergeToName:(m,v,_)=>m.if((0,e._)`${_} !== true`,()=>{v===!0?m.assign(_,!0):(m.assign(_,(0,e._)`${_} || {}`),$(m,_,v))}),mergeValues:(m,v)=>m===!0?!0:{...m,...v},resultToName:k}),items:w({mergeNames:(m,v,_)=>m.if((0,e._)`${_} !== true && ${v} !== undefined`,()=>m.assign(_,(0,e._)`${v} === true ? true : ${_} > ${v} ? ${_} : ${v}`)),mergeToName:(m,v,_)=>m.if((0,e._)`${_} !== true`,()=>m.assign(_,v===!0?!0:(0,e._)`${_} > ${v} ? ${_} : ${v}`)),mergeValues:(m,v)=>m===!0?!0:Math.max(m,v),resultToName:(m,v)=>m.var("items",v)})};function k(m,v){if(v===!0)return m.var("props",!0);const _=m.var("props",(0,e._)`{}`);return v!==void 0&&$(m,_,v),_}st.evaluatedPropsToName=k;function $(m,v,_){Object.keys(_).forEach(P=>m.assign((0,e._)`${v}${(0,e.getProperty)(P)}`,!0))}st.setEvaluated=$;const E={};function T(m,v){return m.scopeValue("func",{ref:v,code:E[v.code]||(E[v.code]=new t._Code(v.code))})}st.useFunc=T;var D;(function(m){m[m.Num=0]="Num",m[m.Str=1]="Str"})(D||(st.Type=D={}));function p(m,v,_){if(m instanceof e.Name){const P=v===D.Num;return _?P?(0,e._)`"[" + ${m} + "]"`:(0,e._)`"['" + ${m} + "']"`:P?(0,e._)`"/" + ${m}`:(0,e._)`"/" + ${m}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return _?(0,e.getProperty)(m).toString():"/"+d(m)}st.getErrorPath=p;function b(m,v,_=m.opts.strictSchema){if(_){if(v=`strict mode: ${v}`,_===!0)throw new Error(v);m.self.logger.warn(v)}}return st.checkStrictMode=b,st}var al={},Jv;function Mr(){if(Jv)return al;Jv=1,Object.defineProperty(al,"__esModule",{value:!0});const e=Qe(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return al.default=t,al}var Qv;function ul(){return Qv||(Qv=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Qe(),n=lt(),r=Mr();e.keywordError={message:({keyword:E})=>(0,t.str)`must pass "${E}" keyword validation`},e.keyword$DataError={message:({keyword:E,schemaType:T})=>T?(0,t.str)`"${E}" keyword must be ${T} ($data)`:(0,t.str)`"${E}" keyword is invalid ($data)`};function i(E,T=e.keywordError,D,p){const{it:b}=E,{gen:m,compositeRule:v,allErrors:_}=b,P=h(E,T,D);p??(v||_)?c(m,P):f(b,(0,t._)`[${P}]`)}e.reportError=i;function s(E,T=e.keywordError,D){const{it:p}=E,{gen:b,compositeRule:m,allErrors:v}=p,_=h(E,T,D);c(b,_),m||v||f(p,r.default.vErrors)}e.reportExtraError=s;function o(E,T){E.assign(r.default.errors,T),E.if((0,t._)`${r.default.vErrors} !== null`,()=>E.if(T,()=>E.assign((0,t._)`${r.default.vErrors}.length`,T),()=>E.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function u({gen:E,keyword:T,schemaValue:D,data:p,errsCount:b,it:m}){if(b===void 0)throw new Error("ajv implementation error");const v=E.name("err");E.forRange("i",b,r.default.errors,_=>{E.const(v,(0,t._)`${r.default.vErrors}[${_}]`),E.if((0,t._)`${v}.instancePath === undefined`,()=>E.assign((0,t._)`${v}.instancePath`,(0,t.strConcat)(r.default.instancePath,m.errorPath))),E.assign((0,t._)`${v}.schemaPath`,(0,t.str)`${m.errSchemaPath}/${T}`),m.opts.verbose&&(E.assign((0,t._)`${v}.schema`,D),E.assign((0,t._)`${v}.data`,p))})}e.extendErrors=u;function c(E,T){const D=E.const("err",T);E.if((0,t._)`${r.default.vErrors} === null`,()=>E.assign(r.default.vErrors,(0,t._)`[${D}]`),(0,t._)`${r.default.vErrors}.push(${D})`),E.code((0,t._)`${r.default.errors}++`)}function f(E,T){const{gen:D,validateName:p,schemaEnv:b}=E;b.$async?D.throw((0,t._)`new ${E.ValidationError}(${T})`):(D.assign((0,t._)`${p}.errors`,T),D.return(!1))}const d={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function h(E,T,D){const{createErrors:p}=E.it;return p===!1?(0,t._)`{}`:y(E,T,D)}function y(E,T,D={}){const{gen:p,it:b}=E,m=[w(b,D),k(E,D)];return $(E,T,m),p.object(...m)}function w({errorPath:E},{instancePath:T}){const D=T?(0,t.str)`${E}${(0,n.getErrorPath)(T,n.Type.Str)}`:E;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,D)]}function k({keyword:E,it:{errSchemaPath:T}},{schemaPath:D,parentSchema:p}){let b=p?T:(0,t.str)`${T}/${E}`;return D&&(b=(0,t.str)`${b}${(0,n.getErrorPath)(D,n.Type.Str)}`),[d.schemaPath,b]}function $(E,{params:T,message:D},p){const{keyword:b,data:m,schemaValue:v,it:_}=E,{opts:P,propertyName:R,topSchemaRef:N,schemaPath:F}=_;p.push([d.keyword,b],[d.params,typeof T=="function"?T(E):T||(0,t._)`{}`]),P.messages&&p.push([d.message,typeof D=="function"?D(E):D]),P.verbose&&p.push([d.schema,v],[d.parentSchema,(0,t._)`${N}${F}`],[r.default.data,m]),R&&p.push([d.propertyName,R])}})(Tp)),Tp}var Xv;function dC(){if(Xv)return Vs;Xv=1,Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.boolOrEmptySchema=Vs.topBoolOrEmptySchema=void 0;const e=ul(),t=Qe(),n=Mr(),r={message:"boolean schema is false"};function i(u){const{gen:c,schema:f,validateName:d}=u;f===!1?o(u,!1):typeof f=="object"&&f.$async===!0?c.return(n.default.data):(c.assign((0,t._)`${d}.errors`,null),c.return(!0))}Vs.topBoolOrEmptySchema=i;function s(u,c){const{gen:f,schema:d}=u;d===!1?(f.var(c,!1),o(u)):f.var(c,!0)}Vs.boolOrEmptySchema=s;function o(u,c){const{gen:f,data:d}=u,h={gen:f,keyword:"false schema",data:d,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:u};(0,e.reportError)(h,r,void 0,c)}return Vs}var wn={},Hs={},Zv;function eb(){if(Zv)return Hs;Zv=1,Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.getRules=Hs.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function n(i){return typeof i=="string"&&t.has(i)}Hs.isJSONType=n;function r(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return Hs.getRules=r,Hs}var Si={},tb;function nb(){if(tb)return Si;tb=1,Object.defineProperty(Si,"__esModule",{value:!0}),Si.shouldUseRule=Si.shouldUseGroup=Si.schemaHasRulesForType=void 0;function e({schema:r,self:i},s){const o=i.RULES.types[s];return o&&o!==!0&&t(r,o)}Si.schemaHasRulesForType=e;function t(r,i){return i.rules.some(s=>n(r,s))}Si.shouldUseGroup=t;function n(r,i){var s;return r[i.keyword]!==void 0||((s=i.definition.implements)===null||s===void 0?void 0:s.some(o=>r[o]!==void 0))}return Si.shouldUseRule=n,Si}var rb;function cl(){if(rb)return wn;rb=1,Object.defineProperty(wn,"__esModule",{value:!0}),wn.reportTypeError=wn.checkDataTypes=wn.checkDataType=wn.coerceAndCheckDataType=wn.getJSONTypes=wn.getSchemaTypes=wn.DataType=void 0;const e=eb(),t=nb(),n=ul(),r=Qe(),i=lt();var s;(function(D){D[D.Correct=0]="Correct",D[D.Wrong=1]="Wrong"})(s||(wn.DataType=s={}));function o(D){const p=u(D.type);if(p.includes("null")){if(D.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!p.length&&D.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');D.nullable===!0&&p.push("null")}return p}wn.getSchemaTypes=o;function u(D){const p=Array.isArray(D)?D:D?[D]:[];if(p.every(e.isJSONType))return p;throw new Error("type must be JSONType or JSONType[]: "+p.join(","))}wn.getJSONTypes=u;function c(D,p){const{gen:b,data:m,opts:v}=D,_=d(p,v.coerceTypes),P=p.length>0&&!(_.length===0&&p.length===1&&(0,t.schemaHasRulesForType)(D,p[0]));if(P){const R=k(p,m,v.strictNumbers,s.Wrong);b.if(R,()=>{_.length?h(D,p,_):E(D)})}return P}wn.coerceAndCheckDataType=c;const f=new Set(["string","number","integer","boolean","null"]);function d(D,p){return p?D.filter(b=>f.has(b)||p==="array"&&b==="array"):[]}function h(D,p,b){const{gen:m,data:v,opts:_}=D,P=m.let("dataType",(0,r._)`typeof ${v}`),R=m.let("coerced",(0,r._)`undefined`);_.coerceTypes==="array"&&m.if((0,r._)`${P} == 'object' && Array.isArray(${v}) && ${v}.length == 1`,()=>m.assign(v,(0,r._)`${v}[0]`).assign(P,(0,r._)`typeof ${v}`).if(k(p,v,_.strictNumbers),()=>m.assign(R,v))),m.if((0,r._)`${R} !== undefined`);for(const F of b)(f.has(F)||F==="array"&&_.coerceTypes==="array")&&N(F);m.else(),E(D),m.endIf(),m.if((0,r._)`${R} !== undefined`,()=>{m.assign(v,R),y(D,R)});function N(F){switch(F){case"string":m.elseIf((0,r._)`${P} == "number" || ${P} == "boolean"`).assign(R,(0,r._)`"" + ${v}`).elseIf((0,r._)`${v} === null`).assign(R,(0,r._)`""`);return;case"number":m.elseIf((0,r._)`${P} == "boolean" || ${v} === null
              || (${P} == "string" && ${v} && ${v} == +${v})`).assign(R,(0,r._)`+${v}`);return;case"integer":m.elseIf((0,r._)`${P} === "boolean" || ${v} === null
              || (${P} === "string" && ${v} && ${v} == +${v} && !(${v} % 1))`).assign(R,(0,r._)`+${v}`);return;case"boolean":m.elseIf((0,r._)`${v} === "false" || ${v} === 0 || ${v} === null`).assign(R,!1).elseIf((0,r._)`${v} === "true" || ${v} === 1`).assign(R,!0);return;case"null":m.elseIf((0,r._)`${v} === "" || ${v} === 0 || ${v} === false`),m.assign(R,null);return;case"array":m.elseIf((0,r._)`${P} === "string" || ${P} === "number"
              || ${P} === "boolean" || ${v} === null`).assign(R,(0,r._)`[${v}]`)}}}function y({gen:D,parentData:p,parentDataProperty:b},m){D.if((0,r._)`${p} !== undefined`,()=>D.assign((0,r._)`${p}[${b}]`,m))}function w(D,p,b,m=s.Correct){const v=m===s.Correct?r.operators.EQ:r.operators.NEQ;let _;switch(D){case"null":return(0,r._)`${p} ${v} null`;case"array":_=(0,r._)`Array.isArray(${p})`;break;case"object":_=(0,r._)`${p} && typeof ${p} == "object" && !Array.isArray(${p})`;break;case"integer":_=P((0,r._)`!(${p} % 1) && !isNaN(${p})`);break;case"number":_=P();break;default:return(0,r._)`typeof ${p} ${v} ${D}`}return m===s.Correct?_:(0,r.not)(_);function P(R=r.nil){return(0,r.and)((0,r._)`typeof ${p} == "number"`,R,b?(0,r._)`isFinite(${p})`:r.nil)}}wn.checkDataType=w;function k(D,p,b,m){if(D.length===1)return w(D[0],p,b,m);let v;const _=(0,i.toHash)(D);if(_.array&&_.object){const P=(0,r._)`typeof ${p} != "object"`;v=_.null?P:(0,r._)`!${p} || ${P}`,delete _.null,delete _.array,delete _.object}else v=r.nil;_.number&&delete _.integer;for(const P in _)v=(0,r.and)(v,w(P,p,b,m));return v}wn.checkDataTypes=k;const $={message:({schema:D})=>`must be ${D}`,params:({schema:D,schemaValue:p})=>typeof D=="string"?(0,r._)`{type: ${D}}`:(0,r._)`{type: ${p}}`};function E(D){const p=T(D);(0,n.reportError)(p,$)}wn.reportTypeError=E;function T(D){const{gen:p,data:b,schema:m}=D,v=(0,i.schemaRefOrVal)(D,m,"type");return{gen:p,keyword:"type",data:b,schema:m.type,schemaCode:v,schemaValue:v,parentSchema:m,params:{},it:D}}return wn}var fu={},ib;function hC(){if(ib)return fu;ib=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.assignDefaults=void 0;const e=Qe(),t=lt();function n(i,s){const{properties:o,items:u}=i.schema;if(s==="object"&&o)for(const c in o)r(i,c,o[c].default);else s==="array"&&Array.isArray(u)&&u.forEach((c,f)=>r(i,f,c.default))}fu.assignDefaults=n;function r(i,s,o){const{gen:u,compositeRule:c,data:f,opts:d}=i;if(o===void 0)return;const h=(0,e._)`${f}${(0,e.getProperty)(s)}`;if(c){(0,t.checkStrictMode)(i,`default is ignored for: ${h}`);return}let y=(0,e._)`${h} === undefined`;d.useDefaults==="empty"&&(y=(0,e._)`${y} || ${h} === null || ${h} === ""`),u.if(y,(0,e._)`${h} = ${(0,e.stringify)(o)}`)}return fu}var Lr={},Tt={},sb;function jr(){if(sb)return Tt;sb=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.validateUnion=Tt.validateArray=Tt.usePattern=Tt.callValidateCode=Tt.schemaProperties=Tt.allSchemaProperties=Tt.noPropertyInData=Tt.propertyInData=Tt.isOwnProperty=Tt.hasPropFunc=Tt.reportMissingProp=Tt.checkMissingProp=Tt.checkReportMissingProp=void 0;const e=Qe(),t=lt(),n=Mr(),r=lt();function i(D,p){const{gen:b,data:m,it:v}=D;b.if(d(b,m,p,v.opts.ownProperties),()=>{D.setParams({missingProperty:(0,e._)`${p}`},!0),D.error()})}Tt.checkReportMissingProp=i;function s({gen:D,data:p,it:{opts:b}},m,v){return(0,e.or)(...m.map(_=>(0,e.and)(d(D,p,_,b.ownProperties),(0,e._)`${v} = ${_}`)))}Tt.checkMissingProp=s;function o(D,p){D.setParams({missingProperty:p},!0),D.error()}Tt.reportMissingProp=o;function u(D){return D.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}Tt.hasPropFunc=u;function c(D,p,b){return(0,e._)`${u(D)}.call(${p}, ${b})`}Tt.isOwnProperty=c;function f(D,p,b,m){const v=(0,e._)`${p}${(0,e.getProperty)(b)} !== undefined`;return m?(0,e._)`${v} && ${c(D,p,b)}`:v}Tt.propertyInData=f;function d(D,p,b,m){const v=(0,e._)`${p}${(0,e.getProperty)(b)} === undefined`;return m?(0,e.or)(v,(0,e.not)(c(D,p,b))):v}Tt.noPropertyInData=d;function h(D){return D?Object.keys(D).filter(p=>p!=="__proto__"):[]}Tt.allSchemaProperties=h;function y(D,p){return h(p).filter(b=>!(0,t.alwaysValidSchema)(D,p[b]))}Tt.schemaProperties=y;function w({schemaCode:D,data:p,it:{gen:b,topSchemaRef:m,schemaPath:v,errorPath:_},it:P},R,N,F){const j=F?(0,e._)`${D}, ${p}, ${m}${v}`:p,I=[[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,_)],[n.default.parentData,P.parentData],[n.default.parentDataProperty,P.parentDataProperty],[n.default.rootData,n.default.rootData]];P.opts.dynamicRef&&I.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const X=(0,e._)`${j}, ${b.object(...I)}`;return N!==e.nil?(0,e._)`${R}.call(${N}, ${X})`:(0,e._)`${R}(${X})`}Tt.callValidateCode=w;const k=(0,e._)`new RegExp`;function $({gen:D,it:{opts:p}},b){const m=p.unicodeRegExp?"u":"",{regExp:v}=p.code,_=v(b,m);return D.scopeValue("pattern",{key:_.toString(),ref:_,code:(0,e._)`${v.code==="new RegExp"?k:(0,r.useFunc)(D,v)}(${b}, ${m})`})}Tt.usePattern=$;function E(D){const{gen:p,data:b,keyword:m,it:v}=D,_=p.name("valid");if(v.allErrors){const R=p.let("valid",!0);return P(()=>p.assign(R,!1)),R}return p.var(_,!0),P(()=>p.break()),_;function P(R){const N=p.const("len",(0,e._)`${b}.length`);p.forRange("i",0,N,F=>{D.subschema({keyword:m,dataProp:F,dataPropType:t.Type.Num},_),p.if((0,e.not)(_),R)})}}Tt.validateArray=E;function T(D){const{gen:p,schema:b,keyword:m,it:v}=D;if(!Array.isArray(b))throw new Error("ajv implementation error");if(b.some(N=>(0,t.alwaysValidSchema)(v,N))&&!v.opts.unevaluated)return;const P=p.let("valid",!1),R=p.name("_valid");p.block(()=>b.forEach((N,F)=>{const j=D.subschema({keyword:m,schemaProp:F,compositeRule:!0},R);p.assign(P,(0,e._)`${P} || ${R}`),D.mergeValidEvaluated(j,R)||p.if((0,e.not)(P))})),D.result(P,()=>D.reset(),()=>D.error(!0))}return Tt.validateUnion=T,Tt}var ob;function pC(){if(ob)return Lr;ob=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.validateKeywordUsage=Lr.validSchemaType=Lr.funcKeywordCode=Lr.macroKeywordCode=void 0;const e=Qe(),t=Mr(),n=jr(),r=ul();function i(y,w){const{gen:k,keyword:$,schema:E,parentSchema:T,it:D}=y,p=w.macro.call(D.self,E,T,D),b=f(k,$,p);D.opts.validateSchema!==!1&&D.self.validateSchema(p,!0);const m=k.name("valid");y.subschema({schema:p,schemaPath:e.nil,errSchemaPath:`${D.errSchemaPath}/${$}`,topSchemaRef:b,compositeRule:!0},m),y.pass(m,()=>y.error(!0))}Lr.macroKeywordCode=i;function s(y,w){var k;const{gen:$,keyword:E,schema:T,parentSchema:D,$data:p,it:b}=y;c(b,w);const m=!p&&w.compile?w.compile.call(b.self,T,D,b):w.validate,v=f($,E,m),_=$.let("valid");y.block$data(_,P),y.ok((k=w.valid)!==null&&k!==void 0?k:_);function P(){if(w.errors===!1)F(),w.modifying&&o(y),j(()=>y.error());else{const I=w.async?R():N();w.modifying&&o(y),j(()=>u(y,I))}}function R(){const I=$.let("ruleErrs",null);return $.try(()=>F((0,e._)`await `),X=>$.assign(_,!1).if((0,e._)`${X} instanceof ${b.ValidationError}`,()=>$.assign(I,(0,e._)`${X}.errors`),()=>$.throw(X))),I}function N(){const I=(0,e._)`${v}.errors`;return $.assign(I,null),F(e.nil),I}function F(I=w.async?(0,e._)`await `:e.nil){const X=b.opts.passContext?t.default.this:t.default.self,oe=!("compile"in w&&!p||w.schema===!1);$.assign(_,(0,e._)`${I}${(0,n.callValidateCode)(y,v,X,oe)}`,w.modifying)}function j(I){var X;$.if((0,e.not)((X=w.valid)!==null&&X!==void 0?X:_),I)}}Lr.funcKeywordCode=s;function o(y){const{gen:w,data:k,it:$}=y;w.if($.parentData,()=>w.assign(k,(0,e._)`${$.parentData}[${$.parentDataProperty}]`))}function u(y,w){const{gen:k}=y;k.if((0,e._)`Array.isArray(${w})`,()=>{k.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${w} : ${t.default.vErrors}.concat(${w})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,r.extendErrors)(y)},()=>y.error())}function c({schemaEnv:y},w){if(w.async&&!y.$async)throw new Error("async keyword in sync schema")}function f(y,w,k){if(k===void 0)throw new Error(`keyword "${w}" failed to compile`);return y.scopeValue("keyword",typeof k=="function"?{ref:k}:{ref:k,code:(0,e.stringify)(k)})}function d(y,w,k=!1){return!w.length||w.some($=>$==="array"?Array.isArray(y):$==="object"?y&&typeof y=="object"&&!Array.isArray(y):typeof y==$||k&&typeof y>"u")}Lr.validSchemaType=d;function h({schema:y,opts:w,self:k,errSchemaPath:$},E,T){if(Array.isArray(E.keyword)?!E.keyword.includes(T):E.keyword!==T)throw new Error("ajv implementation error");const D=E.dependencies;if(D!=null&&D.some(p=>!Object.prototype.hasOwnProperty.call(y,p)))throw new Error(`parent schema must have dependencies of ${T}: ${D.join(",")}`);if(E.validateSchema&&!E.validateSchema(y[T])){const b=`keyword "${T}" value is invalid at path "${$}": `+k.errorsText(E.validateSchema.errors);if(w.validateSchema==="log")k.logger.error(b);else throw new Error(b)}}return Lr.validateKeywordUsage=h,Lr}var $i={},ab;function mC(){if(ab)return $i;ab=1,Object.defineProperty($i,"__esModule",{value:!0}),$i.extendSubschemaMode=$i.extendSubschemaData=$i.getSubschema=void 0;const e=Qe(),t=lt();function n(s,{keyword:o,schemaProp:u,schema:c,schemaPath:f,errSchemaPath:d,topSchemaRef:h}){if(o!==void 0&&c!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const y=s.schema[o];return u===void 0?{schema:y,schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(o)}`,errSchemaPath:`${s.errSchemaPath}/${o}`}:{schema:y[u],schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(o)}${(0,e.getProperty)(u)}`,errSchemaPath:`${s.errSchemaPath}/${o}/${(0,t.escapeFragment)(u)}`}}if(c!==void 0){if(f===void 0||d===void 0||h===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:c,schemaPath:f,topSchemaRef:h,errSchemaPath:d}}throw new Error('either "keyword" or "schema" must be passed')}$i.getSubschema=n;function r(s,o,{dataProp:u,dataPropType:c,data:f,dataTypes:d,propertyName:h}){if(f!==void 0&&u!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:y}=o;if(u!==void 0){const{errorPath:k,dataPathArr:$,opts:E}=o,T=y.let("data",(0,e._)`${o.data}${(0,e.getProperty)(u)}`,!0);w(T),s.errorPath=(0,e.str)`${k}${(0,t.getErrorPath)(u,c,E.jsPropertySyntax)}`,s.parentDataProperty=(0,e._)`${u}`,s.dataPathArr=[...$,s.parentDataProperty]}if(f!==void 0){const k=f instanceof e.Name?f:y.let("data",f,!0);w(k),h!==void 0&&(s.propertyName=h)}d&&(s.dataTypes=d);function w(k){s.data=k,s.dataLevel=o.dataLevel+1,s.dataTypes=[],o.definedProperties=new Set,s.parentData=o.data,s.dataNames=[...o.dataNames,k]}}$i.extendSubschemaData=r;function i(s,{jtdDiscriminator:o,jtdMetadata:u,compositeRule:c,createErrors:f,allErrors:d}){c!==void 0&&(s.compositeRule=c),f!==void 0&&(s.createErrors=f),d!==void 0&&(s.allErrors=d),s.jtdDiscriminator=o,s.jtdMetadata=u}return $i.extendSubschemaMode=i,$i}var In={},Op,ub;function cb(){return ub||(ub=1,Op=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(s=Object.keys(t),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),Op}var Pp={exports:{}},lb;function gC(){if(lb)return Pp.exports;lb=1;var e=Pp.exports=function(r,i,s){typeof i=="function"&&(s=i,i={}),s=i.cb||s;var o=typeof s=="function"?s:s.pre||function(){},u=s.post||function(){};t(i,o,u,r,"",r)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(r,i,s,o,u,c,f,d,h,y){if(o&&typeof o=="object"&&!Array.isArray(o)){i(o,u,c,f,d,h,y);for(var w in o){var k=o[w];if(Array.isArray(k)){if(w in e.arrayKeywords)for(var $=0;$<k.length;$++)t(r,i,s,k[$],u+"/"+w+"/"+$,c,u,w,o,$)}else if(w in e.propsKeywords){if(k&&typeof k=="object")for(var E in k)t(r,i,s,k[E],u+"/"+w+"/"+n(E),c,u,w,o,E)}else(w in e.keywords||r.allKeys&&!(w in e.skipKeywords))&&t(r,i,s,k,u+"/"+w,c,u,w,o)}s(o,u,c,f,d,h,y)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return Pp.exports}var fb;function ll(){if(fb)return In;fb=1,Object.defineProperty(In,"__esModule",{value:!0}),In.getSchemaRefs=In.resolveUrl=In.normalizeId=In._getFullPath=In.getFullPath=In.inlineRef=void 0;const e=lt(),t=cb(),n=gC(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i($,E=!0){return typeof $=="boolean"?!0:E===!0?!o($):E?u($)<=E:!1}In.inlineRef=i;const s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function o($){for(const E in $){if(s.has(E))return!0;const T=$[E];if(Array.isArray(T)&&T.some(o)||typeof T=="object"&&o(T))return!0}return!1}function u($){let E=0;for(const T in $){if(T==="$ref")return 1/0;if(E++,!r.has(T)&&(typeof $[T]=="object"&&(0,e.eachItem)($[T],D=>E+=u(D)),E===1/0))return 1/0}return E}function c($,E="",T){T!==!1&&(E=h(E));const D=$.parse(E);return f($,D)}In.getFullPath=c;function f($,E){return $.serialize(E).split("#")[0]+"#"}In._getFullPath=f;const d=/#\/?$/;function h($){return $?$.replace(d,""):""}In.normalizeId=h;function y($,E,T){return T=h(T),$.resolve(E,T)}In.resolveUrl=y;const w=/^[a-z_][-a-z0-9._]*$/i;function k($,E){if(typeof $=="boolean")return{};const{schemaId:T,uriResolver:D}=this.opts,p=h($[T]||E),b={"":p},m=c(D,p,!1),v={},_=new Set;return n($,{allKeys:!0},(N,F,j,I)=>{if(I===void 0)return;const X=m+F;let oe=b[I];typeof N[T]=="string"&&(oe=ue.call(this,N[T])),he.call(this,N.$anchor),he.call(this,N.$dynamicAnchor),b[F]=oe;function ue($e){const We=this.opts.uriResolver.resolve;if($e=h(oe?We(oe,$e):$e),_.has($e))throw R($e);_.add($e);let ge=this.refs[$e];return typeof ge=="string"&&(ge=this.refs[ge]),typeof ge=="object"?P(N,ge.schema,$e):$e!==h(X)&&($e[0]==="#"?(P(N,v[$e],$e),v[$e]=N):this.refs[$e]=X),$e}function he($e){if(typeof $e=="string"){if(!w.test($e))throw new Error(`invalid anchor "${$e}"`);ue.call(this,`#${$e}`)}}}),v;function P(N,F,j){if(F!==void 0&&!t(N,F))throw R(j)}function R(N){return new Error(`reference "${N}" resolves to more than one schema`)}}return In.getSchemaRefs=k,In}var db;function zo(){if(db)return Ei;db=1,Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.getData=Ei.KeywordCxt=Ei.validateFunctionCode=void 0;const e=dC(),t=cl(),n=nb(),r=cl(),i=hC(),s=pC(),o=mC(),u=Qe(),c=Mr(),f=ll(),d=lt(),h=ul();function y(V){if(m(V)&&(_(V),b(V))){E(V);return}w(V,()=>(0,e.topBoolOrEmptySchema)(V))}Ei.validateFunctionCode=y;function w({gen:V,validateName:J,schema:de,schemaEnv:ne,opts:Se},Ne){Se.code.es5?V.func(J,(0,u._)`${c.default.data}, ${c.default.valCxt}`,ne.$async,()=>{V.code((0,u._)`"use strict"; ${D(de,Se)}`),$(V,Se),V.code(Ne)}):V.func(J,(0,u._)`${c.default.data}, ${k(Se)}`,ne.$async,()=>V.code(D(de,Se)).code(Ne))}function k(V){return(0,u._)`{${c.default.instancePath}="", ${c.default.parentData}, ${c.default.parentDataProperty}, ${c.default.rootData}=${c.default.data}${V.dynamicRef?(0,u._)`, ${c.default.dynamicAnchors}={}`:u.nil}}={}`}function $(V,J){V.if(c.default.valCxt,()=>{V.var(c.default.instancePath,(0,u._)`${c.default.valCxt}.${c.default.instancePath}`),V.var(c.default.parentData,(0,u._)`${c.default.valCxt}.${c.default.parentData}`),V.var(c.default.parentDataProperty,(0,u._)`${c.default.valCxt}.${c.default.parentDataProperty}`),V.var(c.default.rootData,(0,u._)`${c.default.valCxt}.${c.default.rootData}`),J.dynamicRef&&V.var(c.default.dynamicAnchors,(0,u._)`${c.default.valCxt}.${c.default.dynamicAnchors}`)},()=>{V.var(c.default.instancePath,(0,u._)`""`),V.var(c.default.parentData,(0,u._)`undefined`),V.var(c.default.parentDataProperty,(0,u._)`undefined`),V.var(c.default.rootData,c.default.data),J.dynamicRef&&V.var(c.default.dynamicAnchors,(0,u._)`{}`)})}function E(V){const{schema:J,opts:de,gen:ne}=V;w(V,()=>{de.$comment&&J.$comment&&I(V),N(V),ne.let(c.default.vErrors,null),ne.let(c.default.errors,0),de.unevaluated&&T(V),P(V),X(V)})}function T(V){const{gen:J,validateName:de}=V;V.evaluated=J.const("evaluated",(0,u._)`${de}.evaluated`),J.if((0,u._)`${V.evaluated}.dynamicProps`,()=>J.assign((0,u._)`${V.evaluated}.props`,(0,u._)`undefined`)),J.if((0,u._)`${V.evaluated}.dynamicItems`,()=>J.assign((0,u._)`${V.evaluated}.items`,(0,u._)`undefined`))}function D(V,J){const de=typeof V=="object"&&V[J.schemaId];return de&&(J.code.source||J.code.process)?(0,u._)`/*# sourceURL=${de} */`:u.nil}function p(V,J){if(m(V)&&(_(V),b(V))){v(V,J);return}(0,e.boolOrEmptySchema)(V,J)}function b({schema:V,self:J}){if(typeof V=="boolean")return!V;for(const de in V)if(J.RULES.all[de])return!0;return!1}function m(V){return typeof V.schema!="boolean"}function v(V,J){const{schema:de,gen:ne,opts:Se}=V;Se.$comment&&de.$comment&&I(V),F(V),j(V);const Ne=ne.const("_errs",c.default.errors);P(V,Ne),ne.var(J,(0,u._)`${Ne} === ${c.default.errors}`)}function _(V){(0,d.checkUnknownRules)(V),R(V)}function P(V,J){if(V.opts.jtd)return ue(V,[],!1,J);const de=(0,t.getSchemaTypes)(V.schema),ne=(0,t.coerceAndCheckDataType)(V,de);ue(V,de,!ne,J)}function R(V){const{schema:J,errSchemaPath:de,opts:ne,self:Se}=V;J.$ref&&ne.ignoreKeywordsWithRef&&(0,d.schemaHasRulesButRef)(J,Se.RULES)&&Se.logger.warn(`$ref: keywords ignored in schema at path "${de}"`)}function N(V){const{schema:J,opts:de}=V;J.default!==void 0&&de.useDefaults&&de.strictSchema&&(0,d.checkStrictMode)(V,"default is ignored in the schema root")}function F(V){const J=V.schema[V.opts.schemaId];J&&(V.baseId=(0,f.resolveUrl)(V.opts.uriResolver,V.baseId,J))}function j(V){if(V.schema.$async&&!V.schemaEnv.$async)throw new Error("async schema in sync schema")}function I({gen:V,schemaEnv:J,schema:de,errSchemaPath:ne,opts:Se}){const Ne=de.$comment;if(Se.$comment===!0)V.code((0,u._)`${c.default.self}.logger.log(${Ne})`);else if(typeof Se.$comment=="function"){const xe=(0,u.str)`${ne}/$comment`,Ft=V.scopeValue("root",{ref:J.root});V.code((0,u._)`${c.default.self}.opts.$comment(${Ne}, ${xe}, ${Ft}.schema)`)}}function X(V){const{gen:J,schemaEnv:de,validateName:ne,ValidationError:Se,opts:Ne}=V;de.$async?J.if((0,u._)`${c.default.errors} === 0`,()=>J.return(c.default.data),()=>J.throw((0,u._)`new ${Se}(${c.default.vErrors})`)):(J.assign((0,u._)`${ne}.errors`,c.default.vErrors),Ne.unevaluated&&oe(V),J.return((0,u._)`${c.default.errors} === 0`))}function oe({gen:V,evaluated:J,props:de,items:ne}){de instanceof u.Name&&V.assign((0,u._)`${J}.props`,de),ne instanceof u.Name&&V.assign((0,u._)`${J}.items`,ne)}function ue(V,J,de,ne){const{gen:Se,schema:Ne,data:xe,allErrors:Ft,opts:kt,self:dt}=V,{RULES:ze}=dt;if(Ne.$ref&&(kt.ignoreKeywordsWithRef||!(0,d.schemaHasRulesButRef)(Ne,ze))){Se.block(()=>Te(V,"$ref",ze.all.$ref.definition));return}kt.jtd||$e(V,J),Se.block(()=>{for(const At of ze.rules)It(At);It(ze.post)});function It(At){(0,n.shouldUseGroup)(Ne,At)&&(At.type?(Se.if((0,r.checkDataType)(At.type,xe,kt.strictNumbers)),he(V,At),J.length===1&&J[0]===At.type&&de&&(Se.else(),(0,r.reportTypeError)(V)),Se.endIf()):he(V,At),Ft||Se.if((0,u._)`${c.default.errors} === ${ne||0}`))}}function he(V,J){const{gen:de,schema:ne,opts:{useDefaults:Se}}=V;Se&&(0,i.assignDefaults)(V,J.type),de.block(()=>{for(const Ne of J.rules)(0,n.shouldUseRule)(ne,Ne)&&Te(V,Ne.keyword,Ne.definition,J.type)})}function $e(V,J){V.schemaEnv.meta||!V.opts.strictTypes||(We(V,J),V.opts.allowUnionTypes||ge(V,J),U(V,V.dataTypes))}function We(V,J){if(J.length){if(!V.dataTypes.length){V.dataTypes=J;return}J.forEach(de=>{re(V.dataTypes,de)||Q(V,`type "${de}" not allowed by context "${V.dataTypes.join(",")}"`)}),x(V,J)}}function ge(V,J){J.length>1&&!(J.length===2&&J.includes("null"))&&Q(V,"use allowUnionTypes to allow union type keyword")}function U(V,J){const de=V.self.RULES.all;for(const ne in de){const Se=de[ne];if(typeof Se=="object"&&(0,n.shouldUseRule)(V.schema,Se)){const{type:Ne}=Se.definition;Ne.length&&!Ne.some(xe=>ae(J,xe))&&Q(V,`missing type "${Ne.join(",")}" for keyword "${ne}"`)}}}function ae(V,J){return V.includes(J)||J==="number"&&V.includes("integer")}function re(V,J){return V.includes(J)||J==="integer"&&V.includes("number")}function x(V,J){const de=[];for(const ne of V.dataTypes)re(J,ne)?de.push(ne):J.includes("integer")&&ne==="number"&&de.push("integer");V.dataTypes=de}function Q(V,J){const de=V.schemaEnv.baseId+V.errSchemaPath;J+=` at "${de}" (strictTypes)`,(0,d.checkStrictMode)(V,J,V.opts.strictTypes)}class fe{constructor(J,de,ne){if((0,s.validateKeywordUsage)(J,de,ne),this.gen=J.gen,this.allErrors=J.allErrors,this.keyword=ne,this.data=J.data,this.schema=J.schema[ne],this.$data=de.$data&&J.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,d.schemaRefOrVal)(J,this.schema,ne,this.$data),this.schemaType=de.schemaType,this.parentSchema=J.schema,this.params={},this.it=J,this.def=de,this.$data)this.schemaCode=J.gen.const("vSchema",we(this.$data,J));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,de.schemaType,de.allowUndefined))throw new Error(`${ne} value must be ${JSON.stringify(de.schemaType)}`);("code"in de?de.trackErrors:de.errors!==!1)&&(this.errsCount=J.gen.const("_errs",c.default.errors))}result(J,de,ne){this.failResult((0,u.not)(J),de,ne)}failResult(J,de,ne){this.gen.if(J),ne?ne():this.error(),de?(this.gen.else(),de(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(J,de){this.failResult((0,u.not)(J),void 0,de)}fail(J){if(J===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(J),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(J){if(!this.$data)return this.fail(J);const{schemaCode:de}=this;this.fail((0,u._)`${de} !== undefined && (${(0,u.or)(this.invalid$data(),J)})`)}error(J,de,ne){if(de){this.setParams(de),this._error(J,ne),this.setParams({});return}this._error(J,ne)}_error(J,de){(J?h.reportExtraError:h.reportError)(this,this.def.error,de)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(J){this.allErrors||this.gen.if(J)}setParams(J,de){de?Object.assign(this.params,J):this.params=J}block$data(J,de,ne=u.nil){this.gen.block(()=>{this.check$data(J,ne),de()})}check$data(J=u.nil,de=u.nil){if(!this.$data)return;const{gen:ne,schemaCode:Se,schemaType:Ne,def:xe}=this;ne.if((0,u.or)((0,u._)`${Se} === undefined`,de)),J!==u.nil&&ne.assign(J,!0),(Ne.length||xe.validateSchema)&&(ne.elseIf(this.invalid$data()),this.$dataError(),J!==u.nil&&ne.assign(J,!1)),ne.else()}invalid$data(){const{gen:J,schemaCode:de,schemaType:ne,def:Se,it:Ne}=this;return(0,u.or)(xe(),Ft());function xe(){if(ne.length){if(!(de instanceof u.Name))throw new Error("ajv implementation error");const kt=Array.isArray(ne)?ne:[ne];return(0,u._)`${(0,r.checkDataTypes)(kt,de,Ne.opts.strictNumbers,r.DataType.Wrong)}`}return u.nil}function Ft(){if(Se.validateSchema){const kt=J.scopeValue("validate$data",{ref:Se.validateSchema});return(0,u._)`!${kt}(${de})`}return u.nil}}subschema(J,de){const ne=(0,o.getSubschema)(this.it,J);(0,o.extendSubschemaData)(ne,this.it,J),(0,o.extendSubschemaMode)(ne,J);const Se={...this.it,...ne,items:void 0,props:void 0};return p(Se,de),Se}mergeEvaluated(J,de){const{it:ne,gen:Se}=this;ne.opts.unevaluated&&(ne.props!==!0&&J.props!==void 0&&(ne.props=d.mergeEvaluated.props(Se,J.props,ne.props,de)),ne.items!==!0&&J.items!==void 0&&(ne.items=d.mergeEvaluated.items(Se,J.items,ne.items,de)))}mergeValidEvaluated(J,de){const{it:ne,gen:Se}=this;if(ne.opts.unevaluated&&(ne.props!==!0||ne.items!==!0))return Se.if(de,()=>this.mergeEvaluated(J,u.Name)),!0}}Ei.KeywordCxt=fe;function Te(V,J,de,ne){const Se=new fe(V,de,J);"code"in de?de.code(Se,ne):Se.$data&&de.validate?(0,s.funcKeywordCode)(Se,de):"macro"in de?(0,s.macroKeywordCode)(Se,de):(de.compile||de.validate)&&(0,s.funcKeywordCode)(Se,de)}const ke=/^\/(?:[^~]|~0|~1)*$/,Fe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function we(V,{dataLevel:J,dataNames:de,dataPathArr:ne}){let Se,Ne;if(V==="")return c.default.rootData;if(V[0]==="/"){if(!ke.test(V))throw new Error(`Invalid JSON-pointer: ${V}`);Se=V,Ne=c.default.rootData}else{const dt=Fe.exec(V);if(!dt)throw new Error(`Invalid JSON-pointer: ${V}`);const ze=+dt[1];if(Se=dt[2],Se==="#"){if(ze>=J)throw new Error(kt("property/index",ze));return ne[J-ze]}if(ze>J)throw new Error(kt("data",ze));if(Ne=de[J-ze],!Se)return Ne}let xe=Ne;const Ft=Se.split("/");for(const dt of Ft)dt&&(Ne=(0,u._)`${Ne}${(0,u.getProperty)((0,d.unescapeJsonPointer)(dt))}`,xe=(0,u._)`${xe} && ${Ne}`);return xe;function kt(dt,ze){return`Cannot access ${dt} ${ze} levels up, current level is ${J}`}}return Ei.getData=we,Ei}var fl={},hb;function du(){if(hb)return fl;hb=1,Object.defineProperty(fl,"__esModule",{value:!0});class e extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return fl.default=e,fl}var dl={},pb;function Yo(){if(pb)return dl;pb=1,Object.defineProperty(dl,"__esModule",{value:!0});const e=ll();class t extends Error{constructor(r,i,s,o){super(o||`can't resolve reference ${s} from id ${i}`),this.missingRef=(0,e.resolveUrl)(r,i,s),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(r,this.missingRef))}}return dl.default=t,dl}var Xn={},mb;function hl(){if(mb)return Xn;mb=1,Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.resolveSchema=Xn.getCompilingSchema=Xn.resolveRef=Xn.compileSchema=Xn.SchemaEnv=void 0;const e=Qe(),t=du(),n=Mr(),r=ll(),i=lt(),s=zo();class o{constructor(T){var D;this.refs={},this.dynamicAnchors={};let p;typeof T.schema=="object"&&(p=T.schema),this.schema=T.schema,this.schemaId=T.schemaId,this.root=T.root||this,this.baseId=(D=T.baseId)!==null&&D!==void 0?D:(0,r.normalizeId)(p==null?void 0:p[T.schemaId||"$id"]),this.schemaPath=T.schemaPath,this.localRefs=T.localRefs,this.meta=T.meta,this.$async=p==null?void 0:p.$async,this.refs={}}}Xn.SchemaEnv=o;function u(E){const T=d.call(this,E);if(T)return T;const D=(0,r.getFullPath)(this.opts.uriResolver,E.root.baseId),{es5:p,lines:b}=this.opts.code,{ownProperties:m}=this.opts,v=new e.CodeGen(this.scope,{es5:p,lines:b,ownProperties:m});let _;E.$async&&(_=v.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const P=v.scopeName("validate");E.validateName=P;const R={gen:v,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:v.scopeValue("schema",this.opts.code.source===!0?{ref:E.schema,code:(0,e.stringify)(E.schema)}:{ref:E.schema}),validateName:P,ValidationError:_,schema:E.schema,schemaEnv:E,rootId:D,baseId:E.baseId||D,schemaPath:e.nil,errSchemaPath:E.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let N;try{this._compilations.add(E),(0,s.validateFunctionCode)(R),v.optimize(this.opts.code.optimize);const F=v.toString();N=`${v.scopeRefs(n.default.scope)}return ${F}`,this.opts.code.process&&(N=this.opts.code.process(N,E));const I=new Function(`${n.default.self}`,`${n.default.scope}`,N)(this,this.scope.get());if(this.scope.value(P,{ref:I}),I.errors=null,I.schema=E.schema,I.schemaEnv=E,E.$async&&(I.$async=!0),this.opts.code.source===!0&&(I.source={validateName:P,validateCode:F,scopeValues:v._values}),this.opts.unevaluated){const{props:X,items:oe}=R;I.evaluated={props:X instanceof e.Name?void 0:X,items:oe instanceof e.Name?void 0:oe,dynamicProps:X instanceof e.Name,dynamicItems:oe instanceof e.Name},I.source&&(I.source.evaluated=(0,e.stringify)(I.evaluated))}return E.validate=I,E}catch(F){throw delete E.validate,delete E.validateName,N&&this.logger.error("Error compiling schema, function code:",N),F}finally{this._compilations.delete(E)}}Xn.compileSchema=u;function c(E,T,D){var p;D=(0,r.resolveUrl)(this.opts.uriResolver,T,D);const b=E.refs[D];if(b)return b;let m=y.call(this,E,D);if(m===void 0){const v=(p=E.localRefs)===null||p===void 0?void 0:p[D],{schemaId:_}=this.opts;v&&(m=new o({schema:v,schemaId:_,root:E,baseId:T}))}if(m!==void 0)return E.refs[D]=f.call(this,m)}Xn.resolveRef=c;function f(E){return(0,r.inlineRef)(E.schema,this.opts.inlineRefs)?E.schema:E.validate?E:u.call(this,E)}function d(E){for(const T of this._compilations)if(h(T,E))return T}Xn.getCompilingSchema=d;function h(E,T){return E.schema===T.schema&&E.root===T.root&&E.baseId===T.baseId}function y(E,T){let D;for(;typeof(D=this.refs[T])=="string";)T=D;return D||this.schemas[T]||w.call(this,E,T)}function w(E,T){const D=this.opts.uriResolver.parse(T),p=(0,r._getFullPath)(this.opts.uriResolver,D);let b=(0,r.getFullPath)(this.opts.uriResolver,E.baseId,void 0);if(Object.keys(E.schema).length>0&&p===b)return $.call(this,D,E);const m=(0,r.normalizeId)(p),v=this.refs[m]||this.schemas[m];if(typeof v=="string"){const _=w.call(this,E,v);return typeof(_==null?void 0:_.schema)!="object"?void 0:$.call(this,D,_)}if(typeof(v==null?void 0:v.schema)=="object"){if(v.validate||u.call(this,v),m===(0,r.normalizeId)(T)){const{schema:_}=v,{schemaId:P}=this.opts,R=_[P];return R&&(b=(0,r.resolveUrl)(this.opts.uriResolver,b,R)),new o({schema:_,schemaId:P,root:E,baseId:b})}return $.call(this,D,v)}}Xn.resolveSchema=w;const k=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function $(E,{baseId:T,schema:D,root:p}){var b;if(((b=E.fragment)===null||b===void 0?void 0:b[0])!=="/")return;for(const _ of E.fragment.slice(1).split("/")){if(typeof D=="boolean")return;const P=D[(0,i.unescapeFragment)(_)];if(P===void 0)return;D=P;const R=typeof D=="object"&&D[this.opts.schemaId];!k.has(_)&&R&&(T=(0,r.resolveUrl)(this.opts.uriResolver,T,R))}let m;if(typeof D!="boolean"&&D.$ref&&!(0,i.schemaHasRulesButRef)(D,this.RULES)){const _=(0,r.resolveUrl)(this.opts.uriResolver,T,D.$ref);m=w.call(this,p,_)}const{schemaId:v}=this.opts;if(m=m||new o({schema:D,schemaId:v,root:p,baseId:T}),m.schema!==m.root.schema)return m}return Xn}var yC={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},pl={},hu={exports:{}},Rp,gb;function vC(){return gb||(gb=1,Rp={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),Rp}var Np,yb;function bC(){if(yb)return Np;yb=1;const{HEX:e}=vC(),t=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function n($){if(u($,".")<3)return{host:$,isIPV4:!1};const E=$.match(t)||[],[T]=E;return T?{host:o(T,"."),isIPV4:!0}:{host:$,isIPV4:!1}}function r($,E=!1){let T="",D=!0;for(const p of $){if(e[p]===void 0)return;p!=="0"&&D===!0&&(D=!1),D||(T+=p)}return E&&T.length===0&&(T="0"),T}function i($){let E=0;const T={error:!1,address:"",zone:""},D=[],p=[];let b=!1,m=!1,v=!1;function _(){if(p.length){if(b===!1){const P=r(p);if(P!==void 0)D.push(P);else return T.error=!0,!1}p.length=0}return!0}for(let P=0;P<$.length;P++){const R=$[P];if(!(R==="["||R==="]"))if(R===":"){if(m===!0&&(v=!0),!_())break;if(E++,D.push(":"),E>7){T.error=!0;break}P-1>=0&&$[P-1]===":"&&(m=!0);continue}else if(R==="%"){if(!_())break;b=!0}else{p.push(R);continue}}return p.length&&(b?T.zone=p.join(""):v?D.push(p.join("")):D.push(r(p))),T.address=D.join(""),T}function s($){if(u($,":")<2)return{host:$,isIPV6:!1};const E=i($);if(E.error)return{host:$,isIPV6:!1};{let T=E.address,D=E.address;return E.zone&&(T+="%"+E.zone,D+="%25"+E.zone),{host:T,escapedHost:D,isIPV6:!0}}}function o($,E){let T="",D=!0;const p=$.length;for(let b=0;b<p;b++){const m=$[b];m==="0"&&D?(b+1<=p&&$[b+1]===E||b+1===p)&&(T+=m,D=!1):(m===E?D=!0:D=!1,T+=m)}return T}function u($,E){let T=0;for(let D=0;D<$.length;D++)$[D]===E&&T++;return T}const c=/^\.\.?\//u,f=/^\/\.(?:\/|$)/u,d=/^\/\.\.(?:\/|$)/u,h=/^\/?(?:.|\n)*?(?=\/|$)/u;function y($){const E=[];for(;$.length;)if($.match(c))$=$.replace(c,"");else if($.match(f))$=$.replace(f,"/");else if($.match(d))$=$.replace(d,"/"),E.pop();else if($==="."||$==="..")$="";else{const T=$.match(h);if(T){const D=T[0];$=$.slice(D.length),E.push(D)}else throw new Error("Unexpected dot segment condition")}return E.join("")}function w($,E){const T=E!==!0?escape:unescape;return $.scheme!==void 0&&($.scheme=T($.scheme)),$.userinfo!==void 0&&($.userinfo=T($.userinfo)),$.host!==void 0&&($.host=T($.host)),$.path!==void 0&&($.path=T($.path)),$.query!==void 0&&($.query=T($.query)),$.fragment!==void 0&&($.fragment=T($.fragment)),$}function k($){const E=[];if($.userinfo!==void 0&&(E.push($.userinfo),E.push("@")),$.host!==void 0){let T=unescape($.host);const D=n(T);if(D.isIPV4)T=D.host;else{const p=s(D.host);p.isIPV6===!0?T=`[${p.escapedHost}]`:T=$.host}E.push(T)}return(typeof $.port=="number"||typeof $.port=="string")&&(E.push(":"),E.push(String($.port))),E.length?E.join(""):void 0}return Np={recomposeAuthority:k,normalizeComponentEncoding:w,removeDotSegments:y,normalizeIPv4:n,normalizeIPv6:s,stringArrayToHexStripped:r},Np}var Fp,vb;function DC(){if(vb)return Fp;vb=1;const e=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function n(D){return typeof D.secure=="boolean"?D.secure:String(D.scheme).toLowerCase()==="wss"}function r(D){return D.host||(D.error=D.error||"HTTP URIs must have a host."),D}function i(D){const p=String(D.scheme).toLowerCase()==="https";return(D.port===(p?443:80)||D.port==="")&&(D.port=void 0),D.path||(D.path="/"),D}function s(D){return D.secure=n(D),D.resourceName=(D.path||"/")+(D.query?"?"+D.query:""),D.path=void 0,D.query=void 0,D}function o(D){if((D.port===(n(D)?443:80)||D.port==="")&&(D.port=void 0),typeof D.secure=="boolean"&&(D.scheme=D.secure?"wss":"ws",D.secure=void 0),D.resourceName){const[p,b]=D.resourceName.split("?");D.path=p&&p!=="/"?p:void 0,D.query=b,D.resourceName=void 0}return D.fragment=void 0,D}function u(D,p){if(!D.path)return D.error="URN can not be parsed",D;const b=D.path.match(t);if(b){const m=p.scheme||D.scheme||"urn";D.nid=b[1].toLowerCase(),D.nss=b[2];const v=`${m}:${p.nid||D.nid}`,_=T[v];D.path=void 0,_&&(D=_.parse(D,p))}else D.error=D.error||"URN can not be parsed.";return D}function c(D,p){const b=p.scheme||D.scheme||"urn",m=D.nid.toLowerCase(),v=`${b}:${p.nid||m}`,_=T[v];_&&(D=_.serialize(D,p));const P=D,R=D.nss;return P.path=`${m||p.nid}:${R}`,p.skipEscape=!0,P}function f(D,p){const b=D;return b.uuid=b.nss,b.nss=void 0,!p.tolerant&&(!b.uuid||!e.test(b.uuid))&&(b.error=b.error||"UUID is not valid."),b}function d(D){const p=D;return p.nss=(D.uuid||"").toLowerCase(),p}const h={scheme:"http",domainHost:!0,parse:r,serialize:i},y={scheme:"https",domainHost:h.domainHost,parse:r,serialize:i},w={scheme:"ws",domainHost:!0,parse:s,serialize:o},k={scheme:"wss",domainHost:w.domainHost,parse:w.parse,serialize:w.serialize},T={http:h,https:y,ws:w,wss:k,urn:{scheme:"urn",parse:u,serialize:c,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:f,serialize:d,skipNormalize:!0}};return Fp=T,Fp}var bb;function wC(){if(bb)return hu.exports;bb=1;const{normalizeIPv6:e,normalizeIPv4:t,removeDotSegments:n,recomposeAuthority:r,normalizeComponentEncoding:i}=bC(),s=DC();function o(E,T){return typeof E=="string"?E=d(k(E,T),T):typeof E=="object"&&(E=k(d(E,T),T)),E}function u(E,T,D){const p=Object.assign({scheme:"null"},D),b=c(k(E,p),k(T,p),p,!0);return d(b,{...p,skipEscape:!0})}function c(E,T,D,p){const b={};return p||(E=k(d(E,D),D),T=k(d(T,D),D)),D=D||{},!D.tolerant&&T.scheme?(b.scheme=T.scheme,b.userinfo=T.userinfo,b.host=T.host,b.port=T.port,b.path=n(T.path||""),b.query=T.query):(T.userinfo!==void 0||T.host!==void 0||T.port!==void 0?(b.userinfo=T.userinfo,b.host=T.host,b.port=T.port,b.path=n(T.path||""),b.query=T.query):(T.path?(T.path.charAt(0)==="/"?b.path=n(T.path):((E.userinfo!==void 0||E.host!==void 0||E.port!==void 0)&&!E.path?b.path="/"+T.path:E.path?b.path=E.path.slice(0,E.path.lastIndexOf("/")+1)+T.path:b.path=T.path,b.path=n(b.path)),b.query=T.query):(b.path=E.path,T.query!==void 0?b.query=T.query:b.query=E.query),b.userinfo=E.userinfo,b.host=E.host,b.port=E.port),b.scheme=E.scheme),b.fragment=T.fragment,b}function f(E,T,D){return typeof E=="string"?(E=unescape(E),E=d(i(k(E,D),!0),{...D,skipEscape:!0})):typeof E=="object"&&(E=d(i(E,!0),{...D,skipEscape:!0})),typeof T=="string"?(T=unescape(T),T=d(i(k(T,D),!0),{...D,skipEscape:!0})):typeof T=="object"&&(T=d(i(T,!0),{...D,skipEscape:!0})),E.toLowerCase()===T.toLowerCase()}function d(E,T){const D={host:E.host,scheme:E.scheme,userinfo:E.userinfo,port:E.port,path:E.path,query:E.query,nid:E.nid,nss:E.nss,uuid:E.uuid,fragment:E.fragment,reference:E.reference,resourceName:E.resourceName,secure:E.secure,error:""},p=Object.assign({},T),b=[],m=s[(p.scheme||D.scheme||"").toLowerCase()];m&&m.serialize&&m.serialize(D,p),D.path!==void 0&&(p.skipEscape?D.path=unescape(D.path):(D.path=escape(D.path),D.scheme!==void 0&&(D.path=D.path.split("%3A").join(":")))),p.reference!=="suffix"&&D.scheme&&b.push(D.scheme,":");const v=r(D);if(v!==void 0&&(p.reference!=="suffix"&&b.push("//"),b.push(v),D.path&&D.path.charAt(0)!=="/"&&b.push("/")),D.path!==void 0){let _=D.path;!p.absolutePath&&(!m||!m.absolutePath)&&(_=n(_)),v===void 0&&(_=_.replace(/^\/\//u,"/%2F")),b.push(_)}return D.query!==void 0&&b.push("?",D.query),D.fragment!==void 0&&b.push("#",D.fragment),b.join("")}const h=Array.from({length:127},(E,T)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(T)));function y(E){let T=0;for(let D=0,p=E.length;D<p;++D)if(T=E.charCodeAt(D),T>126||h[T])return!0;return!1}const w=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function k(E,T){const D=Object.assign({},T),p={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},b=E.indexOf("%")!==-1;let m=!1;D.reference==="suffix"&&(E=(D.scheme?D.scheme+":":"")+"//"+E);const v=E.match(w);if(v){if(p.scheme=v[1],p.userinfo=v[3],p.host=v[4],p.port=parseInt(v[5],10),p.path=v[6]||"",p.query=v[7],p.fragment=v[8],isNaN(p.port)&&(p.port=v[5]),p.host){const P=t(p.host);if(P.isIPV4===!1){const R=e(P.host);p.host=R.host.toLowerCase(),m=R.isIPV6}else p.host=P.host,m=!0}p.scheme===void 0&&p.userinfo===void 0&&p.host===void 0&&p.port===void 0&&p.query===void 0&&!p.path?p.reference="same-document":p.scheme===void 0?p.reference="relative":p.fragment===void 0?p.reference="absolute":p.reference="uri",D.reference&&D.reference!=="suffix"&&D.reference!==p.reference&&(p.error=p.error||"URI is not a "+D.reference+" reference.");const _=s[(D.scheme||p.scheme||"").toLowerCase()];if(!D.unicodeSupport&&(!_||!_.unicodeSupport)&&p.host&&(D.domainHost||_&&_.domainHost)&&m===!1&&y(p.host))try{p.host=URL.domainToASCII(p.host.toLowerCase())}catch(P){p.error=p.error||"Host's domain name can not be converted to ASCII: "+P}(!_||_&&!_.skipNormalize)&&(b&&p.scheme!==void 0&&(p.scheme=unescape(p.scheme)),b&&p.host!==void 0&&(p.host=unescape(p.host)),p.path&&(p.path=escape(unescape(p.path))),p.fragment&&(p.fragment=encodeURI(decodeURIComponent(p.fragment)))),_&&_.parse&&_.parse(p,D)}else p.error=p.error||"URI can not be parsed.";return p}const $={SCHEMES:s,normalize:o,resolve:u,resolveComponents:c,equal:f,serialize:d,parse:k};return hu.exports=$,hu.exports.default=$,hu.exports.fastUri=$,hu.exports}var Db;function _C(){if(Db)return pl;Db=1,Object.defineProperty(pl,"__esModule",{value:!0});const e=wC();return e.code='require("ajv/dist/runtime/uri").default',pl.default=e,pl}var wb;function Ks(){return wb||(wb=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=zo();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Qe();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=du(),i=Yo(),s=eb(),o=hl(),u=Qe(),c=ll(),f=cl(),d=lt(),h=yC,y=_C(),w=(ge,U)=>new RegExp(ge,U);w.code="new RegExp";const k=["removeAdditional","useDefaults","coerceTypes"],$=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),E={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},T={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},D=200;function p(ge){var U,ae,re,x,Q,fe,Te,ke,Fe,we,V,J,de,ne,Se,Ne,xe,Ft,kt,dt,ze,It,At,Xt,yt;const Y=ge.strict,B=(U=ge.code)===null||U===void 0?void 0:U.optimize,q=B===!0||B===void 0?1:B||0,W=(re=(ae=ge.code)===null||ae===void 0?void 0:ae.regExp)!==null&&re!==void 0?re:w,C=(x=ge.uriResolver)!==null&&x!==void 0?x:y.default;return{strictSchema:(fe=(Q=ge.strictSchema)!==null&&Q!==void 0?Q:Y)!==null&&fe!==void 0?fe:!0,strictNumbers:(ke=(Te=ge.strictNumbers)!==null&&Te!==void 0?Te:Y)!==null&&ke!==void 0?ke:!0,strictTypes:(we=(Fe=ge.strictTypes)!==null&&Fe!==void 0?Fe:Y)!==null&&we!==void 0?we:"log",strictTuples:(J=(V=ge.strictTuples)!==null&&V!==void 0?V:Y)!==null&&J!==void 0?J:"log",strictRequired:(ne=(de=ge.strictRequired)!==null&&de!==void 0?de:Y)!==null&&ne!==void 0?ne:!1,code:ge.code?{...ge.code,optimize:q,regExp:W}:{optimize:q,regExp:W},loopRequired:(Se=ge.loopRequired)!==null&&Se!==void 0?Se:D,loopEnum:(Ne=ge.loopEnum)!==null&&Ne!==void 0?Ne:D,meta:(xe=ge.meta)!==null&&xe!==void 0?xe:!0,messages:(Ft=ge.messages)!==null&&Ft!==void 0?Ft:!0,inlineRefs:(kt=ge.inlineRefs)!==null&&kt!==void 0?kt:!0,schemaId:(dt=ge.schemaId)!==null&&dt!==void 0?dt:"$id",addUsedSchema:(ze=ge.addUsedSchema)!==null&&ze!==void 0?ze:!0,validateSchema:(It=ge.validateSchema)!==null&&It!==void 0?It:!0,validateFormats:(At=ge.validateFormats)!==null&&At!==void 0?At:!0,unicodeRegExp:(Xt=ge.unicodeRegExp)!==null&&Xt!==void 0?Xt:!0,int32range:(yt=ge.int32range)!==null&&yt!==void 0?yt:!0,uriResolver:C}}class b{constructor(U={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,U=this.opts={...U,...p(U)};const{es5:ae,lines:re}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:$,es5:ae,lines:re}),this.logger=j(U.logger);const x=U.validateFormats;U.validateFormats=!1,this.RULES=(0,s.getRules)(),m.call(this,E,U,"NOT SUPPORTED"),m.call(this,T,U,"DEPRECATED","warn"),this._metaOpts=N.call(this),U.formats&&P.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),U.keywords&&R.call(this,U.keywords),typeof U.meta=="object"&&this.addMetaSchema(U.meta),_.call(this),U.validateFormats=x}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:U,meta:ae,schemaId:re}=this.opts;let x=h;re==="id"&&(x={...h},x.id=x.$id,delete x.$id),ae&&U&&this.addMetaSchema(x,x[re],!1)}defaultMeta(){const{meta:U,schemaId:ae}=this.opts;return this.opts.defaultMeta=typeof U=="object"?U[ae]||U:void 0}validate(U,ae){let re;if(typeof U=="string"){if(re=this.getSchema(U),!re)throw new Error(`no schema with key or ref "${U}"`)}else re=this.compile(U);const x=re(ae);return"$async"in re||(this.errors=re.errors),x}compile(U,ae){const re=this._addSchema(U,ae);return re.validate||this._compileSchemaEnv(re)}compileAsync(U,ae){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:re}=this.opts;return x.call(this,U,ae);async function x(we,V){await Q.call(this,we.$schema);const J=this._addSchema(we,V);return J.validate||fe.call(this,J)}async function Q(we){we&&!this.getSchema(we)&&await x.call(this,{$ref:we},!0)}async function fe(we){try{return this._compileSchemaEnv(we)}catch(V){if(!(V instanceof i.default))throw V;return Te.call(this,V),await ke.call(this,V.missingSchema),fe.call(this,we)}}function Te({missingSchema:we,missingRef:V}){if(this.refs[we])throw new Error(`AnySchema ${we} is loaded but ${V} cannot be resolved`)}async function ke(we){const V=await Fe.call(this,we);this.refs[we]||await Q.call(this,V.$schema),this.refs[we]||this.addSchema(V,we,ae)}async function Fe(we){const V=this._loading[we];if(V)return V;try{return await(this._loading[we]=re(we))}finally{delete this._loading[we]}}}addSchema(U,ae,re,x=this.opts.validateSchema){if(Array.isArray(U)){for(const fe of U)this.addSchema(fe,void 0,re,x);return this}let Q;if(typeof U=="object"){const{schemaId:fe}=this.opts;if(Q=U[fe],Q!==void 0&&typeof Q!="string")throw new Error(`schema ${fe} must be string`)}return ae=(0,c.normalizeId)(ae||Q),this._checkUnique(ae),this.schemas[ae]=this._addSchema(U,re,ae,x,!0),this}addMetaSchema(U,ae,re=this.opts.validateSchema){return this.addSchema(U,ae,!0,re),this}validateSchema(U,ae){if(typeof U=="boolean")return!0;let re;if(re=U.$schema,re!==void 0&&typeof re!="string")throw new Error("$schema must be a string");if(re=re||this.opts.defaultMeta||this.defaultMeta(),!re)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const x=this.validate(re,U);if(!x&&ae){const Q="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(Q);else throw new Error(Q)}return x}getSchema(U){let ae;for(;typeof(ae=v.call(this,U))=="string";)U=ae;if(ae===void 0){const{schemaId:re}=this.opts,x=new o.SchemaEnv({schema:{},schemaId:re});if(ae=o.resolveSchema.call(this,x,U),!ae)return;this.refs[U]=ae}return ae.validate||this._compileSchemaEnv(ae)}removeSchema(U){if(U instanceof RegExp)return this._removeAllSchemas(this.schemas,U),this._removeAllSchemas(this.refs,U),this;switch(typeof U){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const ae=v.call(this,U);return typeof ae=="object"&&this._cache.delete(ae.schema),delete this.schemas[U],delete this.refs[U],this}case"object":{const ae=U;this._cache.delete(ae);let re=U[this.opts.schemaId];return re&&(re=(0,c.normalizeId)(re),delete this.schemas[re],delete this.refs[re]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(U){for(const ae of U)this.addKeyword(ae);return this}addKeyword(U,ae){let re;if(typeof U=="string")re=U,typeof ae=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),ae.keyword=re);else if(typeof U=="object"&&ae===void 0){if(ae=U,re=ae.keyword,Array.isArray(re)&&!re.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(X.call(this,re,ae),!ae)return(0,d.eachItem)(re,Q=>oe.call(this,Q)),this;he.call(this,ae);const x={...ae,type:(0,f.getJSONTypes)(ae.type),schemaType:(0,f.getJSONTypes)(ae.schemaType)};return(0,d.eachItem)(re,x.type.length===0?Q=>oe.call(this,Q,x):Q=>x.type.forEach(fe=>oe.call(this,Q,x,fe))),this}getKeyword(U){const ae=this.RULES.all[U];return typeof ae=="object"?ae.definition:!!ae}removeKeyword(U){const{RULES:ae}=this;delete ae.keywords[U],delete ae.all[U];for(const re of ae.rules){const x=re.rules.findIndex(Q=>Q.keyword===U);x>=0&&re.rules.splice(x,1)}return this}addFormat(U,ae){return typeof ae=="string"&&(ae=new RegExp(ae)),this.formats[U]=ae,this}errorsText(U=this.errors,{separator:ae=", ",dataVar:re="data"}={}){return!U||U.length===0?"No errors":U.map(x=>`${re}${x.instancePath} ${x.message}`).reduce((x,Q)=>x+ae+Q)}$dataMetaSchema(U,ae){const re=this.RULES.all;U=JSON.parse(JSON.stringify(U));for(const x of ae){const Q=x.split("/").slice(1);let fe=U;for(const Te of Q)fe=fe[Te];for(const Te in re){const ke=re[Te];if(typeof ke!="object")continue;const{$data:Fe}=ke.definition,we=fe[Te];Fe&&we&&(fe[Te]=We(we))}}return U}_removeAllSchemas(U,ae){for(const re in U){const x=U[re];(!ae||ae.test(re))&&(typeof x=="string"?delete U[re]:x&&!x.meta&&(this._cache.delete(x.schema),delete U[re]))}}_addSchema(U,ae,re,x=this.opts.validateSchema,Q=this.opts.addUsedSchema){let fe;const{schemaId:Te}=this.opts;if(typeof U=="object")fe=U[Te];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof U!="boolean")throw new Error("schema must be object or boolean")}let ke=this._cache.get(U);if(ke!==void 0)return ke;re=(0,c.normalizeId)(fe||re);const Fe=c.getSchemaRefs.call(this,U,re);return ke=new o.SchemaEnv({schema:U,schemaId:Te,meta:ae,baseId:re,localRefs:Fe}),this._cache.set(ke.schema,ke),Q&&!re.startsWith("#")&&(re&&this._checkUnique(re),this.refs[re]=ke),x&&this.validateSchema(U,!0),ke}_checkUnique(U){if(this.schemas[U]||this.refs[U])throw new Error(`schema with key or id "${U}" already exists`)}_compileSchemaEnv(U){if(U.meta?this._compileMetaSchema(U):o.compileSchema.call(this,U),!U.validate)throw new Error("ajv implementation error");return U.validate}_compileMetaSchema(U){const ae=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,U)}finally{this.opts=ae}}}b.ValidationError=r.default,b.MissingRefError=i.default,e.default=b;function m(ge,U,ae,re="error"){for(const x in ge){const Q=x;Q in U&&this.logger[re](`${ae}: option ${x}. ${ge[Q]}`)}}function v(ge){return ge=(0,c.normalizeId)(ge),this.schemas[ge]||this.refs[ge]}function _(){const ge=this.opts.schemas;if(ge)if(Array.isArray(ge))this.addSchema(ge);else for(const U in ge)this.addSchema(ge[U],U)}function P(){for(const ge in this.opts.formats){const U=this.opts.formats[ge];U&&this.addFormat(ge,U)}}function R(ge){if(Array.isArray(ge)){this.addVocabulary(ge);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const U in ge){const ae=ge[U];ae.keyword||(ae.keyword=U),this.addKeyword(ae)}}function N(){const ge={...this.opts};for(const U of k)delete ge[U];return ge}const F={log(){},warn(){},error(){}};function j(ge){if(ge===!1)return F;if(ge===void 0)return console;if(ge.log&&ge.warn&&ge.error)return ge;throw new Error("logger must implement log, warn and error methods")}const I=/^[a-z_$][a-z0-9_$:-]*$/i;function X(ge,U){const{RULES:ae}=this;if((0,d.eachItem)(ge,re=>{if(ae.keywords[re])throw new Error(`Keyword ${re} is already defined`);if(!I.test(re))throw new Error(`Keyword ${re} has invalid name`)}),!!U&&U.$data&&!("code"in U||"validate"in U))throw new Error('$data keyword must have "code" or "validate" function')}function oe(ge,U,ae){var re;const x=U==null?void 0:U.post;if(ae&&x)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:Q}=this;let fe=x?Q.post:Q.rules.find(({type:ke})=>ke===ae);if(fe||(fe={type:ae,rules:[]},Q.rules.push(fe)),Q.keywords[ge]=!0,!U)return;const Te={keyword:ge,definition:{...U,type:(0,f.getJSONTypes)(U.type),schemaType:(0,f.getJSONTypes)(U.schemaType)}};U.before?ue.call(this,fe,Te,U.before):fe.rules.push(Te),Q.all[ge]=Te,(re=U.implements)===null||re===void 0||re.forEach(ke=>this.addKeyword(ke))}function ue(ge,U,ae){const re=ge.rules.findIndex(x=>x.keyword===ae);re>=0?ge.rules.splice(re,0,U):(ge.rules.push(U),this.logger.warn(`rule ${ae} is not defined`))}function he(ge){let{metaSchema:U}=ge;U!==void 0&&(ge.$data&&this.opts.$data&&(U=We(U)),ge.validateSchema=this.compile(U,!0))}const $e={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function We(ge){return{anyOf:[ge,$e]}}})($p)),$p}var ml={},gl={},yl={},_b;function EC(){if(_b)return yl;_b=1,Object.defineProperty(yl,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return yl.default=e,yl}var ns={},Eb;function vl(){if(Eb)return ns;Eb=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.callRef=ns.getValidate=void 0;const e=Yo(),t=jr(),n=Qe(),r=Mr(),i=hl(),s=lt(),o={keyword:"$ref",schemaType:"string",code(f){const{gen:d,schema:h,it:y}=f,{baseId:w,schemaEnv:k,validateName:$,opts:E,self:T}=y,{root:D}=k;if((h==="#"||h==="#/")&&w===D.baseId)return b();const p=i.resolveRef.call(T,D,w,h);if(p===void 0)throw new e.default(y.opts.uriResolver,w,h);if(p instanceof i.SchemaEnv)return m(p);return v(p);function b(){if(k===D)return c(f,$,k,k.$async);const _=d.scopeValue("root",{ref:D});return c(f,(0,n._)`${_}.validate`,D,D.$async)}function m(_){const P=u(f,_);c(f,P,_,_.$async)}function v(_){const P=d.scopeValue("schema",E.code.source===!0?{ref:_,code:(0,n.stringify)(_)}:{ref:_}),R=d.name("valid"),N=f.subschema({schema:_,dataTypes:[],schemaPath:n.nil,topSchemaRef:P,errSchemaPath:h},R);f.mergeEvaluated(N),f.ok(R)}}};function u(f,d){const{gen:h}=f;return d.validate?h.scopeValue("validate",{ref:d.validate}):(0,n._)`${h.scopeValue("wrapper",{ref:d})}.validate`}ns.getValidate=u;function c(f,d,h,y){const{gen:w,it:k}=f,{allErrors:$,schemaEnv:E,opts:T}=k,D=T.passContext?r.default.this:n.nil;y?p():b();function p(){if(!E.$async)throw new Error("async schema referenced by sync schema");const _=w.let("valid");w.try(()=>{w.code((0,n._)`await ${(0,t.callValidateCode)(f,d,D)}`),v(d),$||w.assign(_,!0)},P=>{w.if((0,n._)`!(${P} instanceof ${k.ValidationError})`,()=>w.throw(P)),m(P),$||w.assign(_,!1)}),f.ok(_)}function b(){f.result((0,t.callValidateCode)(f,d,D),()=>v(d),()=>m(d))}function m(_){const P=(0,n._)`${_}.errors`;w.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${P} : ${r.default.vErrors}.concat(${P})`),w.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function v(_){var P;if(!k.opts.unevaluated)return;const R=(P=h==null?void 0:h.validate)===null||P===void 0?void 0:P.evaluated;if(k.props!==!0)if(R&&!R.dynamicProps)R.props!==void 0&&(k.props=s.mergeEvaluated.props(w,R.props,k.props));else{const N=w.var("props",(0,n._)`${_}.evaluated.props`);k.props=s.mergeEvaluated.props(w,N,k.props,n.Name)}if(k.items!==!0)if(R&&!R.dynamicItems)R.items!==void 0&&(k.items=s.mergeEvaluated.items(w,R.items,k.items));else{const N=w.var("items",(0,n._)`${_}.evaluated.items`);k.items=s.mergeEvaluated.items(w,N,k.items,n.Name)}}}return ns.callRef=c,ns.default=o,ns}var Sb;function $b(){if(Sb)return gl;Sb=1,Object.defineProperty(gl,"__esModule",{value:!0});const e=EC(),t=vl(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return gl.default=n,gl}var bl={},Dl={},Tb;function SC(){if(Tb)return Dl;Tb=1,Object.defineProperty(Dl,"__esModule",{value:!0});const e=Qe(),t=e.operators,n={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},r={message:({keyword:s,schemaCode:o})=>(0,e.str)`must be ${n[s].okStr} ${o}`,params:({keyword:s,schemaCode:o})=>(0,e._)`{comparison: ${n[s].okStr}, limit: ${o}}`},i={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(s){const{keyword:o,data:u,schemaCode:c}=s;s.fail$data((0,e._)`${u} ${n[o].fail} ${c} || isNaN(${u})`)}};return Dl.default=i,Dl}var wl={},kb;function Ab(){if(kb)return wl;kb=1,Object.defineProperty(wl,"__esModule",{value:!0});const e=Qe(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,e._)`{multipleOf: ${r}}`},code(r){const{gen:i,data:s,schemaCode:o,it:u}=r,c=u.opts.multipleOfPrecision,f=i.let("res"),d=c?(0,e._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${c}`:(0,e._)`${f} !== parseInt(${f})`;r.fail$data((0,e._)`(${o} === 0 || (${f} = ${s}/${o}, ${d}))`)}};return wl.default=n,wl}var _l={},El={},Cb;function $C(){if(Cb)return El;Cb=1,Object.defineProperty(El,"__esModule",{value:!0});function e(t){const n=t.length;let r=0,i=0,s;for(;i<n;)r++,s=t.charCodeAt(i++),s>=55296&&s<=56319&&i<n&&(s=t.charCodeAt(i),(s&64512)===56320&&i++);return r}return El.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',El}var Ob;function Pb(){if(Ob)return _l;Ob=1,Object.defineProperty(_l,"__esModule",{value:!0});const e=Qe(),t=lt(),n=$C(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:s,schemaCode:o}){const u=s==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${u} than ${o} characters`},params:({schemaCode:s})=>(0,e._)`{limit: ${s}}`},code(s){const{keyword:o,data:u,schemaCode:c,it:f}=s,d=o==="maxLength"?e.operators.GT:e.operators.LT,h=f.opts.unicode===!1?(0,e._)`${u}.length`:(0,e._)`${(0,t.useFunc)(s.gen,n.default)}(${u})`;s.fail$data((0,e._)`${h} ${d} ${c}`)}};return _l.default=i,_l}var Sl={},Rb;function Nb(){if(Rb)return Sl;Rb=1,Object.defineProperty(Sl,"__esModule",{value:!0});const e=jr(),t=Qe(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,t.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,t._)`{pattern: ${i}}`},code(i){const{data:s,$data:o,schema:u,schemaCode:c,it:f}=i,d=f.opts.unicodeRegExp?"u":"",h=o?(0,t._)`(new RegExp(${c}, ${d}))`:(0,e.usePattern)(i,u);i.fail$data((0,t._)`!${h}.test(${s})`)}};return Sl.default=r,Sl}var $l={},Fb;function Ib(){if(Fb)return $l;Fb=1,Object.defineProperty($l,"__esModule",{value:!0});const e=Qe(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const s=r==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${i} properties`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:s,schemaCode:o}=r,u=i==="maxProperties"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`Object.keys(${s}).length ${u} ${o}`)}};return $l.default=n,$l}var Tl={},Mb;function Lb(){if(Mb)return Tl;Mb=1,Object.defineProperty(Tl,"__esModule",{value:!0});const e=jr(),t=Qe(),n=lt(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:s}})=>(0,t.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,t._)`{missingProperty: ${s}}`},code(s){const{gen:o,schema:u,schemaCode:c,data:f,$data:d,it:h}=s,{opts:y}=h;if(!d&&u.length===0)return;const w=u.length>=y.loopRequired;if(h.allErrors?k():$(),y.strictRequired){const D=s.parentSchema.properties,{definedProperties:p}=s.it;for(const b of u)if((D==null?void 0:D[b])===void 0&&!p.has(b)){const m=h.schemaEnv.baseId+h.errSchemaPath,v=`required property "${b}" is not defined at "${m}" (strictRequired)`;(0,n.checkStrictMode)(h,v,h.opts.strictRequired)}}function k(){if(w||d)s.block$data(t.nil,E);else for(const D of u)(0,e.checkReportMissingProp)(s,D)}function $(){const D=o.let("missing");if(w||d){const p=o.let("valid",!0);s.block$data(p,()=>T(D,p)),s.ok(p)}else o.if((0,e.checkMissingProp)(s,u,D)),(0,e.reportMissingProp)(s,D),o.else()}function E(){o.forOf("prop",c,D=>{s.setParams({missingProperty:D}),o.if((0,e.noPropertyInData)(o,f,D,y.ownProperties),()=>s.error())})}function T(D,p){s.setParams({missingProperty:D}),o.forOf(D,c,()=>{o.assign(p,(0,e.propertyInData)(o,f,D,y.ownProperties)),o.if((0,t.not)(p),()=>{s.error(),o.break()})},t.nil)}}};return Tl.default=i,Tl}var kl={},jb;function qb(){if(jb)return kl;jb=1,Object.defineProperty(kl,"__esModule",{value:!0});const e=Qe(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const s=r==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${i} items`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:s,schemaCode:o}=r,u=i==="maxItems"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`${s}.length ${u} ${o}`)}};return kl.default=n,kl}var Al={},Cl={},xb;function Ip(){if(xb)return Cl;xb=1,Object.defineProperty(Cl,"__esModule",{value:!0});const e=cb();return e.code='require("ajv/dist/runtime/equal").default',Cl.default=e,Cl}var Bb;function Wb(){if(Bb)return Al;Bb=1,Object.defineProperty(Al,"__esModule",{value:!0});const e=cl(),t=Qe(),n=lt(),r=Ip(),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:o,j:u}})=>(0,t.str)`must NOT have duplicate items (items ## ${u} and ${o} are identical)`,params:({params:{i:o,j:u}})=>(0,t._)`{i: ${o}, j: ${u}}`},code(o){const{gen:u,data:c,$data:f,schema:d,parentSchema:h,schemaCode:y,it:w}=o;if(!f&&!d)return;const k=u.let("valid"),$=h.items?(0,e.getSchemaTypes)(h.items):[];o.block$data(k,E,(0,t._)`${y} === false`),o.ok(k);function E(){const b=u.let("i",(0,t._)`${c}.length`),m=u.let("j");o.setParams({i:b,j:m}),u.assign(k,!0),u.if((0,t._)`${b} > 1`,()=>(T()?D:p)(b,m))}function T(){return $.length>0&&!$.some(b=>b==="object"||b==="array")}function D(b,m){const v=u.name("item"),_=(0,e.checkDataTypes)($,v,w.opts.strictNumbers,e.DataType.Wrong),P=u.const("indices",(0,t._)`{}`);u.for((0,t._)`;${b}--;`,()=>{u.let(v,(0,t._)`${c}[${b}]`),u.if(_,(0,t._)`continue`),$.length>1&&u.if((0,t._)`typeof ${v} == "string"`,(0,t._)`${v} += "_"`),u.if((0,t._)`typeof ${P}[${v}] == "number"`,()=>{u.assign(m,(0,t._)`${P}[${v}]`),o.error(),u.assign(k,!1).break()}).code((0,t._)`${P}[${v}] = ${b}`)})}function p(b,m){const v=(0,n.useFunc)(u,r.default),_=u.name("outer");u.label(_).for((0,t._)`;${b}--;`,()=>u.for((0,t._)`${m} = ${b}; ${m}--;`,()=>u.if((0,t._)`${v}(${c}[${b}], ${c}[${m}])`,()=>{o.error(),u.assign(k,!1).break(_)})))}}};return Al.default=s,Al}var Ol={},Ub;function Vb(){if(Ub)return Ol;Ub=1,Object.defineProperty(Ol,"__esModule",{value:!0});const e=Qe(),t=lt(),n=Ip(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:s})=>(0,e._)`{allowedValue: ${s}}`},code(s){const{gen:o,data:u,$data:c,schemaCode:f,schema:d}=s;c||d&&typeof d=="object"?s.fail$data((0,e._)`!${(0,t.useFunc)(o,n.default)}(${u}, ${f})`):s.fail((0,e._)`${d} !== ${u}`)}};return Ol.default=i,Ol}var Pl={},Hb;function Kb(){if(Hb)return Pl;Hb=1,Object.defineProperty(Pl,"__esModule",{value:!0});const e=Qe(),t=lt(),n=Ip(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,e._)`{allowedValues: ${s}}`},code(s){const{gen:o,data:u,$data:c,schema:f,schemaCode:d,it:h}=s;if(!c&&f.length===0)throw new Error("enum must have non-empty array");const y=f.length>=h.opts.loopEnum;let w;const k=()=>w??(w=(0,t.useFunc)(o,n.default));let $;if(y||c)$=o.let("valid"),s.block$data($,E);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const D=o.const("vSchema",d);$=(0,e.or)(...f.map((p,b)=>T(D,b)))}s.pass($);function E(){o.assign($,!1),o.forOf("v",d,D=>o.if((0,e._)`${k()}(${u}, ${D})`,()=>o.assign($,!0).break()))}function T(D,p){const b=f[p];return typeof b=="object"&&b!==null?(0,e._)`${k()}(${u}, ${D}[${p}])`:(0,e._)`${u} === ${b}`}}};return Pl.default=i,Pl}var zb;function Yb(){if(zb)return bl;zb=1,Object.defineProperty(bl,"__esModule",{value:!0});const e=SC(),t=Ab(),n=Pb(),r=Nb(),i=Ib(),s=Lb(),o=qb(),u=Wb(),c=Vb(),f=Kb(),d=[e.default,t.default,n.default,r.default,i.default,s.default,o.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},c.default,f.default];return bl.default=d,bl}var Rl={},Go={},Gb;function Jb(){if(Gb)return Go;Gb=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.validateAdditionalItems=void 0;const e=Qe(),t=lt(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,e.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,e._)`{limit: ${s}}`},code(s){const{parentSchema:o,it:u}=s,{items:c}=o;if(!Array.isArray(c)){(0,t.checkStrictMode)(u,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(s,c)}};function i(s,o){const{gen:u,schema:c,data:f,keyword:d,it:h}=s;h.items=!0;const y=u.const("len",(0,e._)`${f}.length`);if(c===!1)s.setParams({len:o.length}),s.pass((0,e._)`${y} <= ${o.length}`);else if(typeof c=="object"&&!(0,t.alwaysValidSchema)(h,c)){const k=u.var("valid",(0,e._)`${y} <= ${o.length}`);u.if((0,e.not)(k),()=>w(k)),s.ok(k)}function w(k){u.forRange("i",o.length,y,$=>{s.subschema({keyword:d,dataProp:$,dataPropType:t.Type.Num},k),h.allErrors||u.if((0,e.not)(k),()=>u.break())})}}return Go.validateAdditionalItems=i,Go.default=r,Go}var Nl={},Jo={},Qb;function Xb(){if(Qb)return Jo;Qb=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.validateTuple=void 0;const e=Qe(),t=lt(),n=jr(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:o,it:u}=s;if(Array.isArray(o))return i(s,"additionalItems",o);u.items=!0,!(0,t.alwaysValidSchema)(u,o)&&s.ok((0,n.validateArray)(s))}};function i(s,o,u=s.schema){const{gen:c,parentSchema:f,data:d,keyword:h,it:y}=s;$(f),y.opts.unevaluated&&u.length&&y.items!==!0&&(y.items=t.mergeEvaluated.items(c,u.length,y.items));const w=c.name("valid"),k=c.const("len",(0,e._)`${d}.length`);u.forEach((E,T)=>{(0,t.alwaysValidSchema)(y,E)||(c.if((0,e._)`${k} > ${T}`,()=>s.subschema({keyword:h,schemaProp:T,dataProp:T},w)),s.ok(w))});function $(E){const{opts:T,errSchemaPath:D}=y,p=u.length,b=p===E.minItems&&(p===E.maxItems||E[o]===!1);if(T.strictTuples&&!b){const m=`"${h}" is ${p}-tuple, but minItems or maxItems/${o} are not specified or different at path "${D}"`;(0,t.checkStrictMode)(y,m,T.strictTuples)}}}return Jo.validateTuple=i,Jo.default=r,Jo}var Zb;function TC(){if(Zb)return Nl;Zb=1,Object.defineProperty(Nl,"__esModule",{value:!0});const e=Xb(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,e.validateTuple)(n,"items")};return Nl.default=t,Nl}var Fl={},eD;function kC(){if(eD)return Fl;eD=1,Object.defineProperty(Fl,"__esModule",{value:!0});const e=Qe(),t=lt(),n=jr(),r=Jb(),s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,e.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,e._)`{limit: ${o}}`},code(o){const{schema:u,parentSchema:c,it:f}=o,{prefixItems:d}=c;f.items=!0,!(0,t.alwaysValidSchema)(f,u)&&(d?(0,r.validateAdditionalItems)(o,d):o.ok((0,n.validateArray)(o)))}};return Fl.default=s,Fl}var Il={},tD;function AC(){if(tD)return Il;tD=1,Object.defineProperty(Il,"__esModule",{value:!0});const e=Qe(),t=lt(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:s}})=>s===void 0?(0,e.str)`must contain at least ${i} valid item(s)`:(0,e.str)`must contain at least ${i} and no more than ${s} valid item(s)`,params:({params:{min:i,max:s}})=>s===void 0?(0,e._)`{minContains: ${i}}`:(0,e._)`{minContains: ${i}, maxContains: ${s}}`},code(i){const{gen:s,schema:o,parentSchema:u,data:c,it:f}=i;let d,h;const{minContains:y,maxContains:w}=u;f.opts.next?(d=y===void 0?1:y,h=w):d=1;const k=s.const("len",(0,e._)`${c}.length`);if(i.setParams({min:d,max:h}),h===void 0&&d===0){(0,t.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&d>h){(0,t.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,t.alwaysValidSchema)(f,o)){let p=(0,e._)`${k} >= ${d}`;h!==void 0&&(p=(0,e._)`${p} && ${k} <= ${h}`),i.pass(p);return}f.items=!0;const $=s.name("valid");h===void 0&&d===1?T($,()=>s.if($,()=>s.break())):d===0?(s.let($,!0),h!==void 0&&s.if((0,e._)`${c}.length > 0`,E)):(s.let($,!1),E()),i.result($,()=>i.reset());function E(){const p=s.name("_valid"),b=s.let("count",0);T(p,()=>s.if(p,()=>D(b)))}function T(p,b){s.forRange("i",0,k,m=>{i.subschema({keyword:"contains",dataProp:m,dataPropType:t.Type.Num,compositeRule:!0},p),b()})}function D(p){s.code((0,e._)`${p}++`),h===void 0?s.if((0,e._)`${p} >= ${d}`,()=>s.assign($,!0).break()):(s.if((0,e._)`${p} > ${h}`,()=>s.assign($,!1).break()),d===1?s.assign($,!0):s.if((0,e._)`${p} >= ${d}`,()=>s.assign($,!0)))}}};return Il.default=r,Il}var Mp={},nD;function Lp(){return nD||(nD=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Qe(),n=lt(),r=jr();e.error={message:({params:{property:c,depsCount:f,deps:d}})=>{const h=f===1?"property":"properties";return(0,t.str)`must have ${h} ${d} when property ${c} is present`},params:({params:{property:c,depsCount:f,deps:d,missingProperty:h}})=>(0,t._)`{property: ${c},
    missingProperty: ${h},
    depsCount: ${f},
    deps: ${d}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(c){const[f,d]=s(c);o(c,f),u(c,d)}};function s({schema:c}){const f={},d={};for(const h in c){if(h==="__proto__")continue;const y=Array.isArray(c[h])?f:d;y[h]=c[h]}return[f,d]}function o(c,f=c.schema){const{gen:d,data:h,it:y}=c;if(Object.keys(f).length===0)return;const w=d.let("missing");for(const k in f){const $=f[k];if($.length===0)continue;const E=(0,r.propertyInData)(d,h,k,y.opts.ownProperties);c.setParams({property:k,depsCount:$.length,deps:$.join(", ")}),y.allErrors?d.if(E,()=>{for(const T of $)(0,r.checkReportMissingProp)(c,T)}):(d.if((0,t._)`${E} && (${(0,r.checkMissingProp)(c,$,w)})`),(0,r.reportMissingProp)(c,w),d.else())}}e.validatePropertyDeps=o;function u(c,f=c.schema){const{gen:d,data:h,keyword:y,it:w}=c,k=d.name("valid");for(const $ in f)(0,n.alwaysValidSchema)(w,f[$])||(d.if((0,r.propertyInData)(d,h,$,w.opts.ownProperties),()=>{const E=c.subschema({keyword:y,schemaProp:$},k);c.mergeValidEvaluated(E,k)},()=>d.var(k,!0)),c.ok(k))}e.validateSchemaDeps=u,e.default=i})(Mp)),Mp}var Ml={},rD;function CC(){if(rD)return Ml;rD=1,Object.defineProperty(Ml,"__esModule",{value:!0});const e=Qe(),t=lt(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,e._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:s,schema:o,data:u,it:c}=i;if((0,t.alwaysValidSchema)(c,o))return;const f=s.name("valid");s.forIn("key",u,d=>{i.setParams({propertyName:d}),i.subschema({keyword:"propertyNames",data:d,dataTypes:["string"],propertyName:d,compositeRule:!0},f),s.if((0,e.not)(f),()=>{i.error(!0),c.allErrors||s.break()})}),i.ok(f)}};return Ml.default=r,Ml}var Ll={},iD;function sD(){if(iD)return Ll;iD=1,Object.defineProperty(Ll,"__esModule",{value:!0});const e=jr(),t=Qe(),n=Mr(),r=lt(),s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:o})=>(0,t._)`{additionalProperty: ${o.additionalProperty}}`},code(o){const{gen:u,schema:c,parentSchema:f,data:d,errsCount:h,it:y}=o;if(!h)throw new Error("ajv implementation error");const{allErrors:w,opts:k}=y;if(y.props=!0,k.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(y,c))return;const $=(0,e.allSchemaProperties)(f.properties),E=(0,e.allSchemaProperties)(f.patternProperties);T(),o.ok((0,t._)`${h} === ${n.default.errors}`);function T(){u.forIn("key",d,v=>{!$.length&&!E.length?b(v):u.if(D(v),()=>b(v))})}function D(v){let _;if($.length>8){const P=(0,r.schemaRefOrVal)(y,f.properties,"properties");_=(0,e.isOwnProperty)(u,P,v)}else $.length?_=(0,t.or)(...$.map(P=>(0,t._)`${v} === ${P}`)):_=t.nil;return E.length&&(_=(0,t.or)(_,...E.map(P=>(0,t._)`${(0,e.usePattern)(o,P)}.test(${v})`))),(0,t.not)(_)}function p(v){u.code((0,t._)`delete ${d}[${v}]`)}function b(v){if(k.removeAdditional==="all"||k.removeAdditional&&c===!1){p(v);return}if(c===!1){o.setParams({additionalProperty:v}),o.error(),w||u.break();return}if(typeof c=="object"&&!(0,r.alwaysValidSchema)(y,c)){const _=u.name("valid");k.removeAdditional==="failing"?(m(v,_,!1),u.if((0,t.not)(_),()=>{o.reset(),p(v)})):(m(v,_),w||u.if((0,t.not)(_),()=>u.break()))}}function m(v,_,P){const R={keyword:"additionalProperties",dataProp:v,dataPropType:r.Type.Str};P===!1&&Object.assign(R,{compositeRule:!0,createErrors:!1,allErrors:!1}),o.subschema(R,_)}}};return Ll.default=s,Ll}var jl={},oD;function OC(){if(oD)return jl;oD=1,Object.defineProperty(jl,"__esModule",{value:!0});const e=zo(),t=jr(),n=lt(),r=sD(),i={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:o,schema:u,parentSchema:c,data:f,it:d}=s;d.opts.removeAdditional==="all"&&c.additionalProperties===void 0&&r.default.code(new e.KeywordCxt(d,r.default,"additionalProperties"));const h=(0,t.allSchemaProperties)(u);for(const E of h)d.definedProperties.add(E);d.opts.unevaluated&&h.length&&d.props!==!0&&(d.props=n.mergeEvaluated.props(o,(0,n.toHash)(h),d.props));const y=h.filter(E=>!(0,n.alwaysValidSchema)(d,u[E]));if(y.length===0)return;const w=o.name("valid");for(const E of y)k(E)?$(E):(o.if((0,t.propertyInData)(o,f,E,d.opts.ownProperties)),$(E),d.allErrors||o.else().var(w,!0),o.endIf()),s.it.definedProperties.add(E),s.ok(w);function k(E){return d.opts.useDefaults&&!d.compositeRule&&u[E].default!==void 0}function $(E){s.subschema({keyword:"properties",schemaProp:E,dataProp:E},w)}}};return jl.default=i,jl}var ql={},aD;function PC(){if(aD)return ql;aD=1,Object.defineProperty(ql,"__esModule",{value:!0});const e=jr(),t=Qe(),n=lt(),r=lt(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:o,schema:u,data:c,parentSchema:f,it:d}=s,{opts:h}=d,y=(0,e.allSchemaProperties)(u),w=y.filter(b=>(0,n.alwaysValidSchema)(d,u[b]));if(y.length===0||w.length===y.length&&(!d.opts.unevaluated||d.props===!0))return;const k=h.strictSchema&&!h.allowMatchingProperties&&f.properties,$=o.name("valid");d.props!==!0&&!(d.props instanceof t.Name)&&(d.props=(0,r.evaluatedPropsToName)(o,d.props));const{props:E}=d;T();function T(){for(const b of y)k&&D(b),d.allErrors?p(b):(o.var($,!0),p(b),o.if($))}function D(b){for(const m in k)new RegExp(b).test(m)&&(0,n.checkStrictMode)(d,`property ${m} matches pattern ${b} (use allowMatchingProperties)`)}function p(b){o.forIn("key",c,m=>{o.if((0,t._)`${(0,e.usePattern)(s,b)}.test(${m})`,()=>{const v=w.includes(b);v||s.subschema({keyword:"patternProperties",schemaProp:b,dataProp:m,dataPropType:r.Type.Str},$),d.opts.unevaluated&&E!==!0?o.assign((0,t._)`${E}[${m}]`,!0):!v&&!d.allErrors&&o.if((0,t.not)($),()=>o.break())})})}}};return ql.default=i,ql}var xl={},uD;function RC(){if(uD)return xl;uD=1,Object.defineProperty(xl,"__esModule",{value:!0});const e=lt(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:i,it:s}=n;if((0,e.alwaysValidSchema)(s,i)){n.fail();return}const o=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),n.failResult(o,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return xl.default=t,xl}var Bl={},cD;function NC(){if(cD)return Bl;cD=1,Object.defineProperty(Bl,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:jr().validateUnion,error:{message:"must match a schema in anyOf"}};return Bl.default=t,Bl}var Wl={},lD;function FC(){if(lD)return Wl;lD=1,Object.defineProperty(Wl,"__esModule",{value:!0});const e=Qe(),t=lt(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,e._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:s,schema:o,parentSchema:u,it:c}=i;if(!Array.isArray(o))throw new Error("ajv implementation error");if(c.opts.discriminator&&u.discriminator)return;const f=o,d=s.let("valid",!1),h=s.let("passing",null),y=s.name("_valid");i.setParams({passing:h}),s.block(w),i.result(d,()=>i.reset(),()=>i.error(!0));function w(){f.forEach((k,$)=>{let E;(0,t.alwaysValidSchema)(c,k)?s.var(y,!0):E=i.subschema({keyword:"oneOf",schemaProp:$,compositeRule:!0},y),$>0&&s.if((0,e._)`${y} && ${d}`).assign(d,!1).assign(h,(0,e._)`[${h}, ${$}]`).else(),s.if(y,()=>{s.assign(d,!0),s.assign(h,$),E&&i.mergeEvaluated(E,e.Name)})})}}};return Wl.default=r,Wl}var Ul={},fD;function IC(){if(fD)return Ul;fD=1,Object.defineProperty(Ul,"__esModule",{value:!0});const e=lt(),t={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:i,it:s}=n;if(!Array.isArray(i))throw new Error("ajv implementation error");const o=r.name("valid");i.forEach((u,c)=>{if((0,e.alwaysValidSchema)(s,u))return;const f=n.subschema({keyword:"allOf",schemaProp:c},o);n.ok(o),n.mergeEvaluated(f)})}};return Ul.default=t,Ul}var Vl={},dD;function MC(){if(dD)return Vl;dD=1,Object.defineProperty(Vl,"__esModule",{value:!0});const e=Qe(),t=lt(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:s})=>(0,e.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,e._)`{failingKeyword: ${s.ifClause}}`},code(s){const{gen:o,parentSchema:u,it:c}=s;u.then===void 0&&u.else===void 0&&(0,t.checkStrictMode)(c,'"if" without "then" and "else" is ignored');const f=i(c,"then"),d=i(c,"else");if(!f&&!d)return;const h=o.let("valid",!0),y=o.name("_valid");if(w(),s.reset(),f&&d){const $=o.let("ifClause");s.setParams({ifClause:$}),o.if(y,k("then",$),k("else",$))}else f?o.if(y,k("then")):o.if((0,e.not)(y),k("else"));s.pass(h,()=>s.error(!0));function w(){const $=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},y);s.mergeEvaluated($)}function k($,E){return()=>{const T=s.subschema({keyword:$},y);o.assign(h,y),s.mergeValidEvaluated(T,h),E?o.assign(E,(0,e._)`${$}`):s.setParams({ifClause:$})}}}};function i(s,o){const u=s.schema[o];return u!==void 0&&!(0,t.alwaysValidSchema)(s,u)}return Vl.default=r,Vl}var Hl={},hD;function LC(){if(hD)return Hl;hD=1,Object.defineProperty(Hl,"__esModule",{value:!0});const e=lt(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:i}){r.if===void 0&&(0,e.checkStrictMode)(i,`"${n}" without "if" is ignored`)}};return Hl.default=t,Hl}var pD;function jp(){if(pD)return Rl;pD=1,Object.defineProperty(Rl,"__esModule",{value:!0});const e=Jb(),t=TC(),n=Xb(),r=kC(),i=AC(),s=Lp(),o=CC(),u=sD(),c=OC(),f=PC(),d=RC(),h=NC(),y=FC(),w=IC(),k=MC(),$=LC();function E(T=!1){const D=[d.default,h.default,y.default,w.default,k.default,$.default,o.default,u.default,s.default,c.default,f.default];return T?D.push(t.default,r.default):D.push(e.default,n.default),D.push(i.default),D}return Rl.default=E,Rl}var Kl={},zl={},mD;function jC(){if(mD)return zl;mD=1,Object.defineProperty(zl,"__esModule",{value:!0});const e=Qe(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,e._)`{format: ${r}}`},code(r,i){const{gen:s,data:o,$data:u,schema:c,schemaCode:f,it:d}=r,{opts:h,errSchemaPath:y,schemaEnv:w,self:k}=d;if(!h.validateFormats)return;u?$():E();function $(){const T=s.scopeValue("formats",{ref:k.formats,code:h.code.formats}),D=s.const("fDef",(0,e._)`${T}[${f}]`),p=s.let("fType"),b=s.let("format");s.if((0,e._)`typeof ${D} == "object" && !(${D} instanceof RegExp)`,()=>s.assign(p,(0,e._)`${D}.type || "string"`).assign(b,(0,e._)`${D}.validate`),()=>s.assign(p,(0,e._)`"string"`).assign(b,D)),r.fail$data((0,e.or)(m(),v()));function m(){return h.strictSchema===!1?e.nil:(0,e._)`${f} && !${b}`}function v(){const _=w.$async?(0,e._)`(${D}.async ? await ${b}(${o}) : ${b}(${o}))`:(0,e._)`${b}(${o})`,P=(0,e._)`(typeof ${b} == "function" ? ${_} : ${b}.test(${o}))`;return(0,e._)`${b} && ${b} !== true && ${p} === ${i} && !${P}`}}function E(){const T=k.formats[c];if(!T){m();return}if(T===!0)return;const[D,p,b]=v(T);D===i&&r.pass(_());function m(){if(h.strictSchema===!1){k.logger.warn(P());return}throw new Error(P());function P(){return`unknown format "${c}" ignored in schema at path "${y}"`}}function v(P){const R=P instanceof RegExp?(0,e.regexpCode)(P):h.code.formats?(0,e._)`${h.code.formats}${(0,e.getProperty)(c)}`:void 0,N=s.scopeValue("formats",{key:c,ref:P,code:R});return typeof P=="object"&&!(P instanceof RegExp)?[P.type||"string",P.validate,(0,e._)`${N}.validate`]:["string",P,N]}function _(){if(typeof T=="object"&&!(T instanceof RegExp)&&T.async){if(!w.$async)throw new Error("async format in sync schema");return(0,e._)`await ${b}(${o})`}return typeof p=="function"?(0,e._)`${b}(${o})`:(0,e._)`${b}.test(${o})`}}}};return zl.default=n,zl}var gD;function qp(){if(gD)return Kl;gD=1,Object.defineProperty(Kl,"__esModule",{value:!0});const t=[jC().default];return Kl.default=t,Kl}var zs={},yD;function vD(){return yD||(yD=1,Object.defineProperty(zs,"__esModule",{value:!0}),zs.contentVocabulary=zs.metadataVocabulary=void 0,zs.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],zs.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),zs}var bD;function DD(){if(bD)return ml;bD=1,Object.defineProperty(ml,"__esModule",{value:!0});const e=$b(),t=Yb(),n=jp(),r=qp(),i=vD(),s=[e.default,t.default,(0,n.default)(),r.default,i.metadataVocabulary,i.contentVocabulary];return ml.default=s,ml}var Yl={},pu={},wD;function qC(){if(wD)return pu;wD=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.DiscrError=void 0;var e;return(function(t){t.Tag="tag",t.Mapping="mapping"})(e||(pu.DiscrError=e={})),pu}var _D;function Gl(){if(_D)return Yl;_D=1,Object.defineProperty(Yl,"__esModule",{value:!0});const e=Qe(),t=qC(),n=hl(),r=Yo(),i=lt(),o={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:u,tagName:c}})=>u===t.DiscrError.Tag?`tag "${c}" must be string`:`value of tag "${c}" must be in oneOf`,params:({params:{discrError:u,tag:c,tagName:f}})=>(0,e._)`{error: ${u}, tag: ${f}, tagValue: ${c}}`},code(u){const{gen:c,data:f,schema:d,parentSchema:h,it:y}=u,{oneOf:w}=h;if(!y.opts.discriminator)throw new Error("discriminator: requires discriminator option");const k=d.propertyName;if(typeof k!="string")throw new Error("discriminator: requires propertyName");if(d.mapping)throw new Error("discriminator: mapping is not supported");if(!w)throw new Error("discriminator: requires oneOf keyword");const $=c.let("valid",!1),E=c.const("tag",(0,e._)`${f}${(0,e.getProperty)(k)}`);c.if((0,e._)`typeof ${E} == "string"`,()=>T(),()=>u.error(!1,{discrError:t.DiscrError.Tag,tag:E,tagName:k})),u.ok($);function T(){const b=p();c.if(!1);for(const m in b)c.elseIf((0,e._)`${E} === ${m}`),c.assign($,D(b[m]));c.else(),u.error(!1,{discrError:t.DiscrError.Mapping,tag:E,tagName:k}),c.endIf()}function D(b){const m=c.name("valid"),v=u.subschema({keyword:"oneOf",schemaProp:b},m);return u.mergeEvaluated(v,e.Name),m}function p(){var b;const m={},v=P(h);let _=!0;for(let F=0;F<w.length;F++){let j=w[F];if(j!=null&&j.$ref&&!(0,i.schemaHasRulesButRef)(j,y.self.RULES)){const X=j.$ref;if(j=n.resolveRef.call(y.self,y.schemaEnv.root,y.baseId,X),j instanceof n.SchemaEnv&&(j=j.schema),j===void 0)throw new r.default(y.opts.uriResolver,y.baseId,X)}const I=(b=j==null?void 0:j.properties)===null||b===void 0?void 0:b[k];if(typeof I!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${k}"`);_=_&&(v||P(j)),R(I,F)}if(!_)throw new Error(`discriminator: "${k}" must be required`);return m;function P({required:F}){return Array.isArray(F)&&F.includes(k)}function R(F,j){if(F.const)N(F.const,j);else if(F.enum)for(const I of F.enum)N(I,j);else throw new Error(`discriminator: "properties/${k}" must have "const" or "enum"`)}function N(F,j){if(typeof F!="string"||F in m)throw new Error(`discriminator: "${k}" values must be unique strings`);m[F]=j}}}};return Yl.default=o,Yl}var xC={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},ED;function BC(){return ED||(ED=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=Ks(),r=DD(),i=Gl(),s=xC,o=["/properties"],u="http://json-schema.org/draft-07/schema";class c extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(k=>this.addVocabulary(k)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const k=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(k,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var f=zo();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return f.KeywordCxt}});var d=Qe();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var h=du();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return h.default}});var y=Yo();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return y.default}})})(sl,sl.exports)),sl.exports}var WC=BC(),UC=fr(WC),Jl={exports:{}},Ql={},Qo={},SD;function $D(){if(SD)return Qo;SD=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.dynamicAnchor=void 0;const e=Qe(),t=Mr(),n=hl(),r=vl(),i={keyword:"$dynamicAnchor",schemaType:"string",code:u=>s(u,u.schema)};function s(u,c){const{gen:f,it:d}=u;d.schemaEnv.root.dynamicAnchors[c]=!0;const h=(0,e._)`${t.default.dynamicAnchors}${(0,e.getProperty)(c)}`,y=d.errSchemaPath==="#"?d.validateName:o(u);f.if((0,e._)`!${h}`,()=>f.assign(h,y))}Qo.dynamicAnchor=s;function o(u){const{schemaEnv:c,schema:f,self:d}=u.it,{root:h,baseId:y,localRefs:w,meta:k}=c.root,{schemaId:$}=d.opts,E=new n.SchemaEnv({schema:f,schemaId:$,root:h,baseId:y,localRefs:w,meta:k});return n.compileSchema.call(d,E),(0,r.getValidate)(u,E)}return Qo.default=i,Qo}var Xo={},TD;function kD(){if(TD)return Xo;TD=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.dynamicRef=void 0;const e=Qe(),t=Mr(),n=vl(),r={keyword:"$dynamicRef",schemaType:"string",code:s=>i(s,s.schema)};function i(s,o){const{gen:u,keyword:c,it:f}=s;if(o[0]!=="#")throw new Error(`"${c}" only supports hash fragment reference`);const d=o.slice(1);if(f.allErrors)h();else{const w=u.let("valid",!1);h(w),s.ok(w)}function h(w){if(f.schemaEnv.root.dynamicAnchors[d]){const k=u.let("_v",(0,e._)`${t.default.dynamicAnchors}${(0,e.getProperty)(d)}`);u.if(k,y(k,w),y(f.validateName,w))}else y(f.validateName,w)()}function y(w,k){return k?()=>u.block(()=>{(0,n.callRef)(s,w),u.let(k,!0)}):()=>(0,n.callRef)(s,w)}}return Xo.dynamicRef=i,Xo.default=r,Xo}var Xl={},AD;function VC(){if(AD)return Xl;AD=1,Object.defineProperty(Xl,"__esModule",{value:!0});const e=$D(),t=lt(),n={keyword:"$recursiveAnchor",schemaType:"boolean",code(r){r.schema?(0,e.dynamicAnchor)(r,""):(0,t.checkStrictMode)(r.it,"$recursiveAnchor: false is ignored")}};return Xl.default=n,Xl}var Zl={},CD;function HC(){if(CD)return Zl;CD=1,Object.defineProperty(Zl,"__esModule",{value:!0});const e=kD(),t={keyword:"$recursiveRef",schemaType:"string",code:n=>(0,e.dynamicRef)(n,n.schema)};return Zl.default=t,Zl}var OD;function PD(){if(OD)return Ql;OD=1,Object.defineProperty(Ql,"__esModule",{value:!0});const e=$D(),t=kD(),n=VC(),r=HC(),i=[e.default,t.default,n.default,r.default];return Ql.default=i,Ql}var ef={},tf={},RD;function KC(){if(RD)return tf;RD=1,Object.defineProperty(tf,"__esModule",{value:!0});const e=Lp(),t={keyword:"dependentRequired",type:"object",schemaType:"object",error:e.error,code:n=>(0,e.validatePropertyDeps)(n)};return tf.default=t,tf}var nf={},ND;function zC(){if(ND)return nf;ND=1,Object.defineProperty(nf,"__esModule",{value:!0});const e=Lp(),t={keyword:"dependentSchemas",type:"object",schemaType:"object",code:n=>(0,e.validateSchemaDeps)(n)};return nf.default=t,nf}var rf={},FD;function YC(){if(FD)return rf;FD=1,Object.defineProperty(rf,"__esModule",{value:!0});const e=lt(),t={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:n,parentSchema:r,it:i}){r.contains===void 0&&(0,e.checkStrictMode)(i,`"${n}" without "contains" is ignored`)}};return rf.default=t,rf}var ID;function MD(){if(ID)return ef;ID=1,Object.defineProperty(ef,"__esModule",{value:!0});const e=KC(),t=zC(),n=YC(),r=[e.default,t.default,n.default];return ef.default=r,ef}var sf={},of={},LD;function GC(){if(LD)return of;LD=1,Object.defineProperty(of,"__esModule",{value:!0});const e=Qe(),t=lt(),n=Mr(),i={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:s})=>(0,e._)`{unevaluatedProperty: ${s.unevaluatedProperty}}`},code(s){const{gen:o,schema:u,data:c,errsCount:f,it:d}=s;if(!f)throw new Error("ajv implementation error");const{allErrors:h,props:y}=d;y instanceof e.Name?o.if((0,e._)`${y} !== true`,()=>o.forIn("key",c,E=>o.if(k(y,E),()=>w(E)))):y!==!0&&o.forIn("key",c,E=>y===void 0?w(E):o.if($(y,E),()=>w(E))),d.props=!0,s.ok((0,e._)`${f} === ${n.default.errors}`);function w(E){if(u===!1){s.setParams({unevaluatedProperty:E}),s.error(),h||o.break();return}if(!(0,t.alwaysValidSchema)(d,u)){const T=o.name("valid");s.subschema({keyword:"unevaluatedProperties",dataProp:E,dataPropType:t.Type.Str},T),h||o.if((0,e.not)(T),()=>o.break())}}function k(E,T){return(0,e._)`!${E} || !${E}[${T}]`}function $(E,T){const D=[];for(const p in E)E[p]===!0&&D.push((0,e._)`${T} !== ${p}`);return(0,e.and)(...D)}}};return of.default=i,of}var af={},jD;function JC(){if(jD)return af;jD=1,Object.defineProperty(af,"__esModule",{value:!0});const e=Qe(),t=lt(),r={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:i}})=>(0,e.str)`must NOT have more than ${i} items`,params:({params:{len:i}})=>(0,e._)`{limit: ${i}}`},code(i){const{gen:s,schema:o,data:u,it:c}=i,f=c.items||0;if(f===!0)return;const d=s.const("len",(0,e._)`${u}.length`);if(o===!1)i.setParams({len:f}),i.fail((0,e._)`${d} > ${f}`);else if(typeof o=="object"&&!(0,t.alwaysValidSchema)(c,o)){const y=s.var("valid",(0,e._)`${d} <= ${f}`);s.if((0,e.not)(y),()=>h(y,f)),i.ok(y)}c.items=!0;function h(y,w){s.forRange("i",w,d,k=>{i.subschema({keyword:"unevaluatedItems",dataProp:k,dataPropType:t.Type.Num},y),c.allErrors||s.if((0,e.not)(y),()=>s.break())})}}};return af.default=r,af}var qD;function xD(){if(qD)return sf;qD=1,Object.defineProperty(sf,"__esModule",{value:!0});const e=GC(),t=JC(),n=[e.default,t.default];return sf.default=n,sf}var uf={},QC={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/schema",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/core":!0,"https://json-schema.org/draft/2019-09/vocab/applicator":!0,"https://json-schema.org/draft/2019-09/vocab/validation":!0,"https://json-schema.org/draft/2019-09/vocab/meta-data":!0,"https://json-schema.org/draft/2019-09/vocab/format":!1,"https://json-schema.org/draft/2019-09/vocab/content":!0},$recursiveAnchor:!0,title:"Core and Validation specifications meta-schema",allOf:[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format"},{$ref:"meta/content"}],type:["object","boolean"],properties:{definitions:{$comment:"While no longer an official keyword as it is replaced by $defs, this keyword is retained in the meta-schema to prevent incompatible extensions as it remains in common use.",type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},dependencies:{$comment:'"dependencies" is no longer a keyword, but schema authors should avoid redefining it to facilitate a smooth transition to "dependentSchemas" and "dependentRequired"',type:"object",additionalProperties:{anyOf:[{$recursiveRef:"#"},{$ref:"meta/validation#/$defs/stringArray"}]}}}},XC={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/applicator",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/applicator":!0},$recursiveAnchor:!0,title:"Applicator vocabulary meta-schema",type:["object","boolean"],properties:{additionalItems:{$recursiveRef:"#"},unevaluatedItems:{$recursiveRef:"#"},items:{anyOf:[{$recursiveRef:"#"},{$ref:"#/$defs/schemaArray"}]},contains:{$recursiveRef:"#"},additionalProperties:{$recursiveRef:"#"},unevaluatedProperties:{$recursiveRef:"#"},properties:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$recursiveRef:"#"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$recursiveRef:"#"}},propertyNames:{$recursiveRef:"#"},if:{$recursiveRef:"#"},then:{$recursiveRef:"#"},else:{$recursiveRef:"#"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$recursiveRef:"#"}},$defs:{schemaArray:{type:"array",minItems:1,items:{$recursiveRef:"#"}}}},ZC={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/content",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/content":!0},$recursiveAnchor:!0,title:"Content vocabulary meta-schema",type:["object","boolean"],properties:{contentMediaType:{type:"string"},contentEncoding:{type:"string"},contentSchema:{$recursiveRef:"#"}}},eO={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/core",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/core":!0},$recursiveAnchor:!0,title:"Core vocabulary meta-schema",type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{type:"string",format:"uri"},$anchor:{type:"string",pattern:"^[A-Za-z][-A-Za-z0-9.:_]*$"},$ref:{type:"string",format:"uri-reference"},$recursiveRef:{type:"string",format:"uri-reference"},$recursiveAnchor:{type:"boolean",default:!1},$vocabulary:{type:"object",propertyNames:{type:"string",format:"uri"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$recursiveRef:"#"},default:{}}}},tO={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/format",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/format":!0},$recursiveAnchor:!0,title:"Format vocabulary meta-schema",type:["object","boolean"],properties:{format:{type:"string"}}},nO={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/meta-data",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/meta-data":!0},$recursiveAnchor:!0,title:"Meta-data vocabulary meta-schema",type:["object","boolean"],properties:{title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}}},rO={$schema:"https://json-schema.org/draft/2019-09/schema",$id:"https://json-schema.org/draft/2019-09/meta/validation",$vocabulary:{"https://json-schema.org/draft/2019-09/vocab/validation":!0},$recursiveAnchor:!0,title:"Validation vocabulary meta-schema",type:["object","boolean"],properties:{multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}},const:!0,enum:{type:"array",items:!0},type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]}},$defs:{nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}}},BD;function iO(){if(BD)return uf;BD=1,Object.defineProperty(uf,"__esModule",{value:!0});const e=QC,t=XC,n=ZC,r=eO,i=tO,s=nO,o=rO,u=["/properties"];function c(f){return[e,t,n,r,d(this,i),s,d(this,o)].forEach(h=>this.addMetaSchema(h,void 0,!1)),this;function d(h,y){return f?h.$dataMetaSchema(y,u):y}}return uf.default=c,uf}var WD;function sO(){return WD||(WD=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv2019=void 0;const n=Ks(),r=DD(),i=PD(),s=MD(),o=xD(),u=Gl(),c=iO(),f="https://json-schema.org/draft/2019-09/schema";class d extends n.default{constructor(E={}){super({...E,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),this.addVocabulary(i.default),r.default.forEach(E=>this.addVocabulary(E)),this.addVocabulary(s.default),this.addVocabulary(o.default),this.opts.discriminator&&this.addKeyword(u.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:E,meta:T}=this.opts;T&&(c.default.call(this,E),this.refs["http://json-schema.org/schema"]=f)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(f)?f:void 0)}}t.Ajv2019=d,e.exports=t=d,e.exports.Ajv2019=d,Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var h=zo();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return h.KeywordCxt}});var y=Qe();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return y._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return y.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return y.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return y.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return y.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return y.CodeGen}});var w=du();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return w.default}});var k=Yo();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return k.default}})})(Jl,Jl.exports)),Jl.exports}var oO=sO(),aO=fr(oO),cf={exports:{}},lf={},UD;function uO(){if(UD)return lf;UD=1,Object.defineProperty(lf,"__esModule",{value:!0});const e=$b(),t=Yb(),n=jp(),r=PD(),i=MD(),s=xD(),o=qp(),u=vD(),c=[r.default,e.default,t.default,(0,n.default)(!0),o.default,u.metadataVocabulary,u.contentVocabulary,i.default,s.default];return lf.default=c,lf}var ff={},cO={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/schema",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/core":!0,"https://json-schema.org/draft/2020-12/vocab/applicator":!0,"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0,"https://json-schema.org/draft/2020-12/vocab/validation":!0,"https://json-schema.org/draft/2020-12/vocab/meta-data":!0,"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0,"https://json-schema.org/draft/2020-12/vocab/content":!0},$dynamicAnchor:"meta",title:"Core and Validation specifications meta-schema",allOf:[{$ref:"meta/core"},{$ref:"meta/applicator"},{$ref:"meta/unevaluated"},{$ref:"meta/validation"},{$ref:"meta/meta-data"},{$ref:"meta/format-annotation"},{$ref:"meta/content"}],type:["object","boolean"],$comment:"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.",properties:{definitions:{$comment:'"definitions" has been replaced by "$defs".',type:"object",additionalProperties:{$dynamicRef:"#meta"},deprecated:!0,default:{}},dependencies:{$comment:'"dependencies" has been split and replaced by "dependentSchemas" and "dependentRequired" in order to serve their differing semantics.',type:"object",additionalProperties:{anyOf:[{$dynamicRef:"#meta"},{$ref:"meta/validation#/$defs/stringArray"}]},deprecated:!0,default:{}},$recursiveAnchor:{$comment:'"$recursiveAnchor" has been replaced by "$dynamicAnchor".',$ref:"meta/core#/$defs/anchorString",deprecated:!0},$recursiveRef:{$comment:'"$recursiveRef" has been replaced by "$dynamicRef".',$ref:"meta/core#/$defs/uriReferenceString",deprecated:!0}}},lO={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/applicator",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/applicator":!0},$dynamicAnchor:"meta",title:"Applicator vocabulary meta-schema",type:["object","boolean"],properties:{prefixItems:{$ref:"#/$defs/schemaArray"},items:{$dynamicRef:"#meta"},contains:{$dynamicRef:"#meta"},additionalProperties:{$dynamicRef:"#meta"},properties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},patternProperties:{type:"object",additionalProperties:{$dynamicRef:"#meta"},propertyNames:{format:"regex"},default:{}},dependentSchemas:{type:"object",additionalProperties:{$dynamicRef:"#meta"},default:{}},propertyNames:{$dynamicRef:"#meta"},if:{$dynamicRef:"#meta"},then:{$dynamicRef:"#meta"},else:{$dynamicRef:"#meta"},allOf:{$ref:"#/$defs/schemaArray"},anyOf:{$ref:"#/$defs/schemaArray"},oneOf:{$ref:"#/$defs/schemaArray"},not:{$dynamicRef:"#meta"}},$defs:{schemaArray:{type:"array",minItems:1,items:{$dynamicRef:"#meta"}}}},fO={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/unevaluated",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/unevaluated":!0},$dynamicAnchor:"meta",title:"Unevaluated applicator vocabulary meta-schema",type:["object","boolean"],properties:{unevaluatedItems:{$dynamicRef:"#meta"},unevaluatedProperties:{$dynamicRef:"#meta"}}},dO={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/content",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/content":!0},$dynamicAnchor:"meta",title:"Content vocabulary meta-schema",type:["object","boolean"],properties:{contentEncoding:{type:"string"},contentMediaType:{type:"string"},contentSchema:{$dynamicRef:"#meta"}}},hO={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/core",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/core":!0},$dynamicAnchor:"meta",title:"Core vocabulary meta-schema",type:["object","boolean"],properties:{$id:{$ref:"#/$defs/uriReferenceString",$comment:"Non-empty fragments not allowed.",pattern:"^[^#]*#?$"},$schema:{$ref:"#/$defs/uriString"},$ref:{$ref:"#/$defs/uriReferenceString"},$anchor:{$ref:"#/$defs/anchorString"},$dynamicRef:{$ref:"#/$defs/uriReferenceString"},$dynamicAnchor:{$ref:"#/$defs/anchorString"},$vocabulary:{type:"object",propertyNames:{$ref:"#/$defs/uriString"},additionalProperties:{type:"boolean"}},$comment:{type:"string"},$defs:{type:"object",additionalProperties:{$dynamicRef:"#meta"}}},$defs:{anchorString:{type:"string",pattern:"^[A-Za-z_][-A-Za-z0-9._]*$"},uriString:{type:"string",format:"uri"},uriReferenceString:{type:"string",format:"uri-reference"}}},pO={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/format-annotation",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/format-annotation":!0},$dynamicAnchor:"meta",title:"Format vocabulary meta-schema for annotation results",type:["object","boolean"],properties:{format:{type:"string"}}},mO={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/meta-data",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/meta-data":!0},$dynamicAnchor:"meta",title:"Meta-data vocabulary meta-schema",type:["object","boolean"],properties:{title:{type:"string"},description:{type:"string"},default:!0,deprecated:{type:"boolean",default:!1},readOnly:{type:"boolean",default:!1},writeOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0}}},gO={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://json-schema.org/draft/2020-12/meta/validation",$vocabulary:{"https://json-schema.org/draft/2020-12/vocab/validation":!0},$dynamicAnchor:"meta",title:"Validation vocabulary meta-schema",type:["object","boolean"],properties:{type:{anyOf:[{$ref:"#/$defs/simpleTypes"},{type:"array",items:{$ref:"#/$defs/simpleTypes"},minItems:1,uniqueItems:!0}]},const:!0,enum:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/$defs/nonNegativeInteger"},minLength:{$ref:"#/$defs/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},maxItems:{$ref:"#/$defs/nonNegativeInteger"},minItems:{$ref:"#/$defs/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxContains:{$ref:"#/$defs/nonNegativeInteger"},minContains:{$ref:"#/$defs/nonNegativeInteger",default:1},maxProperties:{$ref:"#/$defs/nonNegativeInteger"},minProperties:{$ref:"#/$defs/nonNegativeIntegerDefault0"},required:{$ref:"#/$defs/stringArray"},dependentRequired:{type:"object",additionalProperties:{$ref:"#/$defs/stringArray"}}},$defs:{nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{$ref:"#/$defs/nonNegativeInteger",default:0},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}}},VD;function yO(){if(VD)return ff;VD=1,Object.defineProperty(ff,"__esModule",{value:!0});const e=cO,t=lO,n=fO,r=dO,i=hO,s=pO,o=mO,u=gO,c=["/properties"];function f(d){return[e,t,n,r,i,h(this,s),o,h(this,u)].forEach(y=>this.addMetaSchema(y,void 0,!1)),this;function h(y,w){return d?y.$dataMetaSchema(w,c):w}}return ff.default=f,ff}var HD;function vO(){return HD||(HD=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv2020=void 0;const n=Ks(),r=uO(),i=Gl(),s=yO(),o="https://json-schema.org/draft/2020-12/schema";class u extends n.default{constructor(w={}){super({...w,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),r.default.forEach(w=>this.addVocabulary(w)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:w,meta:k}=this.opts;k&&(s.default.call(this,w),this.refs["http://json-schema.org/schema"]=o)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}t.Ajv2020=u,e.exports=t=u,e.exports.Ajv2020=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var c=zo();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var f=Qe();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var d=du();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var h=Yo();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return h.default}})})(cf,cf.exports)),cf.exports}var bO=vO(),DO=fr(bO),df={exports:{}},hf={},pf={},KD;function wO(){if(KD)return pf;KD=1,Object.defineProperty(pf,"__esModule",{value:!0});const e=vl(),t=["$schema","id","$defs",{keyword:"$comment"},"definitions",e.default];return pf.default=t,pf}var mf={},gf={},zD;function _O(){if(zD)return gf;zD=1,Object.defineProperty(gf,"__esModule",{value:!0});const e=Ks(),n=Qe().operators,r={maximum:{exclusive:"exclusiveMaximum",ops:[{okStr:"<=",ok:n.LTE,fail:n.GT},{okStr:"<",ok:n.LT,fail:n.GTE}]},minimum:{exclusive:"exclusiveMinimum",ops:[{okStr:">=",ok:n.GTE,fail:n.LT},{okStr:">",ok:n.GT,fail:n.LTE}]}},i={message:u=>e.str`must be ${o(u).okStr} ${u.schemaCode}`,params:u=>e._`{comparison: ${o(u).okStr}, limit: ${u.schemaCode}}`},s={keyword:Object.keys(r),type:"number",schemaType:"number",$data:!0,error:i,code(u){const{data:c,schemaCode:f}=u;u.fail$data(e._`${c} ${o(u).fail} ${f} || isNaN(${c})`)}};function o(u){var c;const f=u.keyword,d=!((c=u.parentSchema)===null||c===void 0)&&c[r[f].exclusive]?1:0;return r[f].ops[d]}return gf.default=s,gf}var yf={},YD;function EO(){if(YD)return yf;YD=1,Object.defineProperty(yf,"__esModule",{value:!0});const e={exclusiveMaximum:"maximum",exclusiveMinimum:"minimum"},t={keyword:Object.keys(e),type:"number",schemaType:"boolean",code({keyword:n,parentSchema:r}){const i=e[n];if(r[i]===void 0)throw new Error(`${n} can only be used with ${i}`)}};return yf.default=t,yf}var GD;function SO(){if(GD)return mf;GD=1,Object.defineProperty(mf,"__esModule",{value:!0});const e=_O(),t=EO(),n=Ab(),r=Pb(),i=Nb(),s=Ib(),o=Lb(),u=qb(),c=Wb(),f=Vb(),d=Kb(),h=[e.default,t.default,n.default,r.default,i.default,s.default,o.default,u.default,c.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},f.default,d.default];return mf.default=h,mf}var JD;function $O(){if(JD)return hf;JD=1,Object.defineProperty(hf,"__esModule",{value:!0});const e=wO(),t=SO(),n=jp(),r=qp(),i=["title","description","default"],s=[e.default,t.default,n.default(),r.default,i];return hf.default=s,hf}var TO={id:"http://json-schema.org/draft-04/schema#",$schema:"http://json-schema.org/draft-04/schema#",description:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{$ref:"#/definitions/positiveInteger"},minLength:{$ref:"#/definitions/positiveIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/positiveInteger"},minItems:{$ref:"#/definitions/positiveIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},maxProperties:{$ref:"#/definitions/positiveInteger"},minProperties:{$ref:"#/definitions/positiveIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}},QD;function kO(){return QD||(QD=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=Ks(),r=$O(),i=Gl(),s=TO,o=["/properties"],u="http://json-schema.org/draft-04/schema";class c extends n.default{constructor(y={}){super({...y,schemaId:"id"})}_addVocabularies(){super._addVocabularies(),r.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const y=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(y,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var f=Ks();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return f.KeywordCxt}});var d=Ks();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}})})(df,df.exports)),df.exports}var AO=kO(),CO=fr(AO);const XD=new UC,xp=new CO,Bp=new aO,Wp=new DO,vf=Gi.loadMessageBundle();var ZD;(function(e){e[e.delete=0]="delete",e[e.add=1]="add",e[e.deleteAll=2]="deleteAll"})(ZD||(ZD={}));class OO{constructor(t){try{this.patternRegExp=new RegExp(JT(t)+"$")}catch{this.patternRegExp=null}this.schemas=[]}addSchema(t){this.schemas.push(t)}matchesPattern(t){return this.patternRegExp&&this.patternRegExp.test(t)}getSchemas(){return this.schemas}}class PO extends zT{constructor(t,n,r){super(t,n,r),this.schemaUriToNameAndDescription=new Map,this.customSchemaProvider=void 0,this.requestService=t,this.schemaPriorityMapping=new Map}registerCustomSchemaProvider(t){this.customSchemaProvider=t}getAllSchemas(){const t=[],n=new Set;for(const r of this.filePatternAssociations){const i=r.uris[0];if(n.has(i))continue;n.add(i);const s={uri:i,fromStore:!1,usedForCurrentFile:!1};if(this.schemaUriToNameAndDescription.has(i)){const{name:o,description:u,versions:c}=this.schemaUriToNameAndDescription.get(i);s.name=o,s.description=u,s.fromStore=!0,s.versions=c}t.push(s)}return t}async resolveSchemaContent(t,n,r){const i=t.errors.slice(0);let s=t.schema;const o=this.contextService;let u=[];switch(this.normalizeId(s.$schema)){case xp.defaultMeta():{xp.validateSchema(s)||(u=u.concat(xp.errors));break}case Bp.defaultMeta():{Bp.validateSchema(s)||(u=u.concat(Bp.errors));break}case Wp.defaultMeta():{Wp.validateSchema(s)||(u=u.concat(Wp.errors));break}default:XD.validateSchema(s)||(u=u.concat(XD.errors));break}if(u.length>0){const y=[];for(const w of u)y.push(`${w.instancePath} : ${w.message}`);i.push(`Schema '${Cv(t.schema,n)}' is not valid:
${y.join(`
`)}`)}const c=(y,w)=>{if(!w)return y;let k=y;return w[0]==="/"&&(w=w.substr(1)),w.split("/").some($=>(k=k[$],!k)),k},f=(y,w,k,$)=>{const E=c(w,$);if(E)for(const T in E)Object.prototype.hasOwnProperty.call(E,T)&&!Object.prototype.hasOwnProperty.call(y,T)&&(y[T]=E[T]);else i.push(vf("json.schema.invalidref","$ref '{0}' in '{1}' can not be resolved.",$,k))},d=(y,w,k,$,E)=>{o&&!/^\w+:\/\/.*/.test(w)&&(w=o.resolveRelativePath(w,$)),w=this.normalizeId(w);const T=this.getOrAddSchemaHandle(w);return T.getUnresolvedSchema().then(D=>{if(E[w]=!0,D.errors.length){const p=k?w+"#"+k:w;i.push(vf("json.schema.problemloadingref","Problems loading reference '{0}': {1}",p,D.errors[0]))}return f(y,D.schema,w,k),y.url=w,h(y,D.schema,w,T.dependencies)})},h=async(y,w,k,$)=>{if(!y||typeof y!="object")return null;const E=[y],T=new Set,D=[],p=(..._)=>{for(const P of _)typeof P=="object"&&E.push(P)},b=(..._)=>{for(const P of _)if(typeof P=="object")for(const R in P){const N=P[R];typeof N=="object"&&E.push(N)}},m=(..._)=>{for(const P of _)if(Array.isArray(P))for(const R of P)typeof R=="object"&&E.push(R)},v=_=>{const P=new Set;for(;_.$ref;){const R=decodeURIComponent(_.$ref),N=R.split("#",2);if(_._$ref=_.$ref,delete _.$ref,N[0].length>0){D.push(d(_,N[0],N[1],k,$));return}else P.has(R)||(f(_,w,k,N[1]),P.add(R))}p(_.items,_.additionalItems,_.additionalProperties,_.not,_.contains,_.propertyNames,_.if,_.then,_.else),b(_.definitions,_.properties,_.patternProperties,_.dependencies),m(_.anyOf,_.allOf,_.oneOf,_.items,_.schemaSequence)};if(k.indexOf("#")>0){const _=k.split("#",2);if(_[0].length>0&&_[1].length>0){const P={};await d(P,_[0],_[1],k,$);for(const R in s)R!=="required"&&Object.prototype.hasOwnProperty.call(s,R)&&!Object.prototype.hasOwnProperty.call(P,R)&&(P[R]=s[R]);s=P}}for(;E.length;){const _=E.pop();T.has(_)||(T.add(_),v(_))}return Promise.all(D)};return await h(s,s,n,r),new Ja(s,i)}getSchemaForResource(t,n){const r=()=>{let u=fC(n);if(u!==void 0){if(!u.startsWith("file:")&&!u.startsWith("http")){let c="";if(u.indexOf("#")>0){const f=u.split("#",2);u=f[0],c=f[1]}if(xs.isAbsolute(u))u=Qn.file(u).toString();else{const f=Qn.parse(t);u=Qn.file(xs.resolve(xs.parse(f.fsPath).dir,u)).toString()}c.length>0&&(u+="#"+c)}return u}},i=u=>{const c=super.createCombinedSchema(t,u);return c.getResolvedSchema().then(f=>(f.schema&&typeof f.schema=="object"&&(f.schema.url=c.url),f.schema&&f.schema.schemaSequence&&f.schema.schemaSequence[n.currentDocIndex]?new Ja(f.schema.schemaSequence[n.currentDocIndex]):f))},s=()=>{const u=Object.create(null),c=[];for(const f of this.filePatternAssociations)if(f.matchesPattern(t))for(const d of f.getURIs())u[d]||(c.push(d),u[d]=!0);if(c.length>0){const f=this.highestPrioritySchemas(c);return i(f)}return Promise.resolve(null)},o=r();return o?i([o]):this.customSchemaProvider?this.customSchemaProvider(t).then(u=>Array.isArray(u)?u.length===0?s():Promise.all(u.map(c=>this.resolveCustomSchema(c,n))).then(c=>({errors:[],schema:{allOf:c.map(f=>f.schema)}}),()=>s()):u?this.resolveCustomSchema(u,n):s()).then(u=>u,()=>s()):s()}addSchemaPriority(t,n){let r=this.schemaPriorityMapping.get(t);r?(r=r.add(n),this.schemaPriorityMapping.set(t,r)):this.schemaPriorityMapping.set(t,new Set().add(n))}highestPrioritySchemas(t){let n=0;const r=new Map;return t.forEach(i=>{(this.schemaPriorityMapping.get(i)||[0]).forEach(o=>{o>n&&(n=o);let u=r.get(o);u?(u=u.concat(i),r.set(o,u)):r.set(o,[i])})}),r.get(n)||[]}async resolveCustomSchema(t,n){const r=await this.loadSchema(t),i=await this.resolveSchemaContent(r,t,[]);return i.schema&&typeof i.schema=="object"&&(i.schema.url=t),i.schema&&i.schema.schemaSequence&&i.schema.schemaSequence[n.currentDocIndex]?new Ja(i.schema.schemaSequence[n.currentDocIndex],i.errors):i}async saveSchema(t,n){const r=this.normalizeId(t);return this.getOrAddSchemaHandle(r,n),this.schemaPriorityMapping.set(r,new Set().add(zm.Settings)),Promise.resolve(void 0)}async deleteSchemas(t){return t.schemas.forEach(n=>{this.deleteSchema(n)}),Promise.resolve(void 0)}async deleteSchema(t){const n=this.normalizeId(t);return this.schemasById[n]&&delete this.schemasById[n],this.schemaPriorityMapping.delete(n),Promise.resolve(void 0)}async addContent(t){const n=await this.getResolvedSchema(t.schema);if(n){const r=this.resolveJSONSchemaToSection(n.schema,t.path);typeof r=="object"&&(r[t.key]=t.content),await this.saveSchema(t.schema,n.schema)}}async deleteContent(t){const n=await this.getResolvedSchema(t.schema);if(n){const r=this.resolveJSONSchemaToSection(n.schema,t.path);typeof r=="object"&&delete r[t.key],await this.saveSchema(t.schema,n.schema)}}resolveJSONSchemaToSection(t,n){const r=n.split("/");let i=t;for(const s of r)s!==""&&(this.resolveNext(i,s),i=i[s]);return i}resolveNext(t,n){if(Array.isArray(t)&&isNaN(n))throw new Error("Expected a number after the array object");if(typeof t=="object"&&typeof n!="string")throw new Error("Expected a string after the object")}normalizeId(t){try{return Qn.parse(t).toString()}catch{return t}}getOrAddSchemaHandle(t,n){return super.getOrAddSchemaHandle(t,n)}loadSchema(t){const n=this.requestService;return super.loadSchema(t).then(r=>{if(r.errors&&r.schema===void 0)return n(t).then(i=>{if(!i){const s=vf("json.schema.nocontent","Unable to load schema from '{0}': No content. {1}",e1(t),r.errors);return new Rr({},[s])}try{const s=vA(i);return new Rr(s,[])}catch(s){const o=vf("json.schema.invalidFormat","Unable to parse content from '{0}': {1}.",e1(t),s);return new Rr({},[o])}},i=>{let s=i.toString();const o=i.toString().split("Error: ");return o.length>1&&(s=o[1]),new Rr({},[s])});if(r.uri=t,this.schemaUriToNameAndDescription.has(t)){const{name:i,description:s,versions:o}=this.schemaUriToNameAndDescription.get(t);r.schema.title=i??r.schema.title,r.schema.description=s??r.schema.description,r.schema.versions=o??r.schema.versions}return r})}registerExternalSchema(t,n,r,i,s,o){return(i||s)&&this.schemaUriToNameAndDescription.set(t,{name:i,description:s,versions:o}),super.registerExternalSchema(t,n,r)}clearExternalSchemas(){super.clearExternalSchemas()}setSchemaContributions(t){super.setSchemaContributions(t)}getRegisteredSchemaIds(t){return super.getRegisteredSchemaIds(t)}getResolvedSchema(t){return super.getResolvedSchema(t)}onResourceChange(t){return super.onResourceChange(t)}}function e1(e){try{const t=Qn.parse(e);if(t.scheme==="file")return t.fsPath}catch{}return e}class RO{constructor(t,n){this.telemetry=n,this.jsonDocumentSymbols=new OA(t),this.jsonDocumentSymbols.getKeyLabel=r=>{const i=r.keyNode.internalNode;let s="";return Jt(i)?s="{}":sn(i)?s="[]":s=i.source,s}}findDocumentSymbols(t,n={resultLimit:Number.MAX_VALUE}){var i;let r=[];try{const s=gr.getYamlDocument(t);if(!s||s.documents.length===0)return null;for(const o of s.documents)o.root&&(r=r.concat(this.jsonDocumentSymbols.findDocumentSymbols(t,o,n)))}catch(s){(i=this.telemetry)==null||i.sendError("yaml.documentSymbols.error",s)}return r}findHierarchicalDocumentSymbols(t,n={resultLimit:Number.MAX_VALUE}){var i;let r=[];try{const s=gr.getYamlDocument(t);if(!s||s.documents.length===0)return null;for(const o of s.documents)o.root&&(r=r.concat(this.jsonDocumentSymbols.findDocumentSymbols2(t,o,n)))}catch(s){(i=this.telemetry)==null||i.sendError("yaml.hierarchicalDocumentSymbols.error",s)}return r}}function t1(e,t){for(const n of e)n.isKubernetes=t}class NO{constructor(t,n){this.telemetry=n,this.shouldHover=!0,this.schemaService=t}configure(t){t&&(this.shouldHover=t.hover,this.indentation=t.indentation)}doHover(t,n,r=!1){var i;try{if(!this.shouldHover||!t)return Promise.resolve(void 0);const s=gr.getYamlDocument(t),o=t.offsetAt(n),u=Zc(o,s);if(u===null)return Promise.resolve(void 0);t1(s.documents,r);const c=s.documents.indexOf(u);return u.currentDocIndex=c,this.getHover(t,n,u)}catch(s){(i=this.telemetry)==null||i.sendError("yaml.hover.error",s)}}getHover(t,n,r){const i=t.offsetAt(n);let s=r.getNodeFromOffset(i);if(!s||(s.type==="object"||s.type==="array")&&i>s.offset+1&&i<s.offset+s.length-1)return Promise.resolve(null);const o=s;if(s.type==="string"){const d=s.parent;if(d&&d.type==="property"&&d.keyNode===s&&(s=d.valueNode,!s))return Promise.resolve(null)}const u=Be.create(t.positionAt(o.offset),t.positionAt(o.offset+o.length)),c=d=>({contents:{kind:Hr.Markdown,value:d},range:u}),f=d=>d.replace(/\s\|\|\s*$/,"");return this.schemaService.getSchemaForResource(t.uri,r).then(d=>{if(d&&s&&!d.errors.length){const h=r.getMatchingSchemas(d.schema,s.offset);let y,w,k=[],$;const E=[],T=[];h.every(p=>{var b,m,v;return(p.node===s||s.type==="property"&&s.valueNode===p.node)&&!p.inverted&&p.schema&&(((b=s.parent)==null?void 0:b.type)==="property"&&(y=s.parent.internalNode.key.source),w=w||p.schema.markdownDescription||this.toMarkdown(p.schema.description),p.schema.enum&&(p.schema.markdownEnumDescriptions?k=p.schema.markdownEnumDescriptions:p.schema.enumDescriptions?k=p.schema.enumDescriptions.map(this.toMarkdown,this):k=[],p.schema.enum.forEach((_,P)=>{typeof _!="string"&&(_=JSON.stringify(_)),T.some(R=>R.value===_)||T.push({value:_,description:k[P]})})),p.schema.anyOf&&IO(s,h,p.schema)&&(y="",w=p.schema.description?p.schema.description+`
`:"",p.schema.anyOf.forEach((_,P)=>{y+=_.title||p.schema.closestTitle||"",w+=_.markdownDescription||this.toMarkdown(_.description)||"",P!==p.schema.anyOf.length-1&&(y+=" || ",w+=" || ")}),y=f(y),w=f(w)),p.schema.anyOf?$=p.schema.anyOf.map(({type:_})=>_).join(" || "):$=$??((v=(m=p.schema.type)==null?void 0:m.toString)==null?void 0:v.call(m)),p.schema.enum&&($="enum"),p.schema.examples&&p.schema.examples.forEach(_=>{E.push(bA(_,null,2))})),!0});let D="";return y&&(D="#### "+this.toMarkdown(y)),w&&(D=mu(D),D+=w),$&&(D=mu(D),D+=`Type: ${$}`),T.length!==0&&(D=mu(D),D+=`Allowed Values:

`,T.forEach(p=>{p.description?D+=`* \`${n1(p.value)}\`: ${p.description}
`:D+=`* \`${n1(p.value)}\`
`})),E.length!==0&&E.forEach(p=>{D=mu(D),D+=`Example:

`,D+=`\`\`\`yaml
${p}\`\`\`
`}),D.length>0&&d.schema.url&&(D=mu(D),D+=`Source: [${FO(d.schema)}](${d.schema.url})`),c(D)}return null})}toMarkdown(t){if(t){let n=t.replace(/([^\n\r])(\r?\n)([^\n\r])/gm,`$1

$3`);if(n=n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&"),this.indentation!==void 0){const r=new RegExp(` {${this.indentation.length}}`,"g");n=n.replace(r,"&emsp;")}return n}}}function mu(e){return e.length===0?e:(e.endsWith(`
`)||(e+=`
`),e+`
`)}function FO(e){let t="JSON Schema";const n=e.url;if(n){const r=Qn.parse(n);t=xs.basename(r.fsPath)}else e.title&&(t=e.title);return t}function n1(e){return e.indexOf("`")!==-1?"`` "+e+" ``":e}function IO(e,t,n){let r=0;for(const i of t)e===i.node&&i.schema!==n&&n.anyOf.forEach(s=>{i.schema.title===s.title&&i.schema.description===s.description&&i.schema.properties===s.properties&&r++});return r===n.anyOf.length}class MO{validate(t,n){const r=[],i=new Set,s=new Set,o=new Map;jt(n.internalDocument,(u,c,f)=>{$t(c)&&((Qt(c)||Je(c))&&c.anchor&&(i.add(c),o.set(c,f[f.length-1])),Jr(c)&&s.add(c.resolve(n.internalDocument)))});for(const u of i)if(!s.has(u)){const c=this.getAnchorNode(o.get(u),u);if(c){const f=Be.create(t.positionAt(c.offset),t.positionAt(c.offset+c.source.length)),d=An.create(f,`Unused anchor "${c.source}"`,Ge.Hint,0);d.tags=[pc.Unnecessary],r.push(d)}}return r}getAnchorNode(t,n){if(t&&t.srcToken){const r=t.srcToken;if(Wv(r))return r1(r);if(fA(r))for(const i of r.items){if(n.srcToken!==i.value)continue;const s=r1(i);if(s)return s}}}}function r1(e){for(const t of e.start)if(t.type==="anchor")return t;if(e.sep&&Array.isArray(e.sep)){for(const t of e.sep)if(t.type==="anchor")return t}}class LO{constructor(t){this.forbidMapping=t.flowMapping==="forbid",this.forbidSequence=t.flowSequence==="forbid"}validate(t,n){const r=[];return jt(n.internalDocument,(i,s)=>{var o,u;this.forbidMapping&&Jt(s)&&((o=s.srcToken)==null?void 0:o.type)==="flow-collection"&&r.push(An.create(this.getRangeOf(t,s.srcToken),"Flow style mapping is forbidden",Ge.Error,"flowMap")),this.forbidSequence&&sn(s)&&((u=s.srcToken)==null?void 0:u.type)==="flow-collection"&&r.push(An.create(this.getRangeOf(t,s.srcToken),"Flow style sequence is forbidden",Ge.Error,"flowSeq"))}),r}getRangeOf(t,n){return Be.create(t.positionAt(n.start.offset),t.positionAt(n.end.pop().offset))}}class jO{validate(t,n){const r=[];return jt(n.internalDocument,(i,s)=>{if(Jt(s)){for(let o=1;o<s.items.length;o++)if(xO(s.items[o-1],s.items[o])>0){const u=qO(t,s.items[o-1]);r.push(An.create(u,`Wrong ordering of key "${s.items[o-1].key}" in mapping`,Ge.Error,"mapKeyOrder"))}}}),r}}function qO(e,t){var i,s,o,u,c,f,d,h,y;const n=((i=t==null?void 0:t.srcToken.start[0])==null?void 0:i.offset)??((s=t==null?void 0:t.srcToken)==null?void 0:s.key.offset)??((u=(o=t==null?void 0:t.srcToken)==null?void 0:o.sep[0])==null?void 0:u.offset),r=((c=t==null?void 0:t.srcToken)==null?void 0:c.value.offset)||((d=(f=t==null?void 0:t.srcToken)==null?void 0:f.sep[0])==null?void 0:d.offset)||((h=t==null?void 0:t.srcToken)==null?void 0:h.key.offset)||((y=t==null?void 0:t.srcToken.start[t.srcToken.start.length-1])==null?void 0:y.offset);return Be.create(e.positionAt(n),e.positionAt(r))}function xO(e,t){const n=String(t.key);return String(e.key).localeCompare(n)}const BO=(e,t)=>{const n=t.positionAt(e.location.start),r={start:n,end:e.location.toLineEnd?tn.create(n.line,new Us(t).getLineLength(n.line)):t.positionAt(e.location.end)};return An.create(r,e.message,e.severity,e.code,el)};class WO{constructor(t,n){this.telemetry=n,this.validators=[],this.MATCHES_MULTIPLE="Matches multiple schemas when only one must validate.",this.validationEnabled=!0,this.jsonValidation=new SA(t,Promise)}configure(t){this.validators=[],t&&(this.validationEnabled=t.validate,this.customTags=t.customTags,this.disableAdditionalProperties=t.disableAdditionalProperties,this.yamlVersion=t.yamlVersion,(t.flowMapping==="forbid"||t.flowSequence==="forbid")&&this.validators.push(new LO(t)),t.keyOrdering&&this.validators.push(new jO)),this.validators.push(new MO)}async doValidation(t,n=!1){var u;if(!this.validationEnabled)return Promise.resolve([]);const r=[];try{const c=gr.getYamlDocument(t,{customTags:this.customTags,yamlVersion:this.yamlVersion},!0);let f=0;for(const d of c.documents){d.isKubernetes=n,d.currentDocIndex=f,d.disableAdditionalProperties=this.disableAdditionalProperties,d.uri=t.uri;const h=await this.jsonValidation.doValidation(t,d),y=d;y.errors.length>0&&r.push(...y.errors),y.warnings.length>0&&r.push(...y.warnings),r.push(...h),r.push(...this.runAdditionalValidators(t,d)),d.root===null&&r.push(An.create(Be.create(tn.create(1,0),tn.create(1,0)),"Empty document",Ge.Error)),f++}}catch(c){(u=this.telemetry)==null||u.sendError("yaml.validation.error",c)}let i;const s=new Set,o=[];for(let c of r){if(n&&c.message===this.MATCHES_MULTIPLE)continue;if(Object.prototype.hasOwnProperty.call(c,"location")&&(c=BO(c,t)),c.source||(c.source=el),i&&i.message===c.message&&i.range.end.line===c.range.start.line&&Math.abs(i.range.end.character-c.range.end.character)>=1){i.range.end=c.range.end;continue}else i=c;const f=c.range.start.line+" "+c.range.start.character+" "+c.message;s.has(f)||(o.push(c),s.add(f))}return o}runAdditionalValidators(t,n){const r=[];for(const i of this.validators)r.push(...i.validate(t,n));return r}}var UO=Object.create,bf=Object.defineProperty,VO=Object.getOwnPropertyDescriptor,HO=Object.getOwnPropertyNames,KO=Object.getPrototypeOf,zO=Object.prototype.hasOwnProperty,i1=e=>{throw TypeError(e)},YO=(e,t,n)=>t in e?bf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ti=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s1=(e,t)=>{for(var n in t)bf(e,n,{get:t[n],enumerable:!0})},GO=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of HO(t))!zO.call(e,i)&&i!==n&&bf(e,i,{get:()=>t[i],enumerable:!(r=VO(t,i))||r.enumerable});return e},Up=(e,t,n)=>(n=e!=null?UO(KO(e)):{},GO(bf(n,"default",{value:e,enumerable:!0}),e)),o1=(e,t,n)=>YO(e,typeof t!="symbol"?t+"":t,n),Vp=(e,t,n)=>t.has(e)||i1("Cannot "+n),gu=(e,t,n)=>(Vp(e,t,"read from private field"),n?n.call(e):t.get(e)),Hp=(e,t,n)=>t.has(e)?i1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),a1=(e,t,n,r)=>(Vp(e,t,"write to private field"),t.set(e,n),n),Df=(e,t,n)=>(Vp(e,t,"access private method"),n),Ys=Ti(e=>{var t={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},n={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},r="tag:yaml.org,2002:",i={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function s(p){let b=[0],m=p.indexOf(`
`);for(;m!==-1;)m+=1,b.push(m),m=p.indexOf(`
`,m);return b}function o(p){let b,m;return typeof p=="string"?(b=s(p),m=p):(Array.isArray(p)&&(p=p[0]),p&&p.context&&(p.lineStarts||(p.lineStarts=s(p.context.src)),b=p.lineStarts,m=p.context.src)),{lineStarts:b,src:m}}function u(p,b){if(typeof p!="number"||p<0)return null;let{lineStarts:m,src:v}=o(b);if(!m||!v||p>v.length)return null;for(let P=0;P<m.length;++P){let R=m[P];if(p<R)return{line:P,col:p-m[P-1]+1};if(p===R)return{line:P+1,col:1}}let _=m.length;return{line:_,col:p-m[_-1]+1}}function c(p,b){let{lineStarts:m,src:v}=o(b);if(!m||!(p>=1)||p>m.length)return null;let _=m[p-1],P=m[p];for(;P&&P>_&&v[P-1]===`
`;)--P;return v.slice(_,P)}function f({start:p,end:b},m,v=80){let _=c(p.line,m);if(!_)return null;let{col:P}=p;if(_.length>v)if(P<=v-10)_=_.substr(0,v-1)+"…";else{let I=Math.round(v/2);_.length>P+I&&(_=_.substr(0,P+I-1)+"…"),P-=_.length-v,_="…"+_.substr(1-v)}let R=1,N="";b&&(b.line===p.line&&P+(b.col-p.col)<=v+1?R=b.col-p.col:(R=Math.min(_.length+1,v)-P,N="…"));let F=P>1?" ".repeat(P-1):"",j="^".repeat(R);return`${_}
${F}${j}${N}`}var d=class q${static copy(b){return new q$(b.start,b.end)}constructor(b,m){this.start=b,this.end=m||b}isEmpty(){return typeof this.start!="number"||!this.end||this.end<=this.start}setOrigRange(b,m){let{start:v,end:_}=this;if(b.length===0||_<=b[0])return this.origStart=v,this.origEnd=_,m;let P=m;for(;P<b.length&&!(b[P]>v);)++P;this.origStart=v+P;let R=P;for(;P<b.length&&!(b[P]>=_);)++P;return this.origEnd=_+P,R}},h=class zi{static addStringTerminator(b,m,v){if(v[v.length-1]===`
`)return v;let _=zi.endOfWhiteSpace(b,m);return _>=b.length||b[_]===`
`?v+`
`:v}static atDocumentBoundary(b,m,v){let _=b[m];if(!_)return!0;let P=b[m-1];if(P&&P!==`
`)return!1;if(v){if(_!==v)return!1}else if(_!==t.DIRECTIVES_END&&_!==t.DOCUMENT_END)return!1;let R=b[m+1],N=b[m+2];if(R!==_||N!==_)return!1;let F=b[m+3];return!F||F===`
`||F==="	"||F===" "}static endOfIdentifier(b,m){let v=b[m],_=v==="<",P=_?[`
`,"	"," ",">"]:[`
`,"	"," ","[","]","{","}",","];for(;v&&P.indexOf(v)===-1;)v=b[m+=1];return _&&v===">"&&(m+=1),m}static endOfIndent(b,m){let v=b[m];for(;v===" ";)v=b[m+=1];return m}static endOfLine(b,m){let v=b[m];for(;v&&v!==`
`;)v=b[m+=1];return m}static endOfWhiteSpace(b,m){let v=b[m];for(;v==="	"||v===" ";)v=b[m+=1];return m}static startOfLine(b,m){let v=b[m-1];if(v===`
`)return m;for(;v&&v!==`
`;)v=b[m-=1];return m+1}static endOfBlockIndent(b,m,v){let _=zi.endOfIndent(b,v);if(_>v+m)return _;{let P=zi.endOfWhiteSpace(b,_),R=b[P];if(!R||R===`
`)return P}return null}static atBlank(b,m,v){let _=b[m];return _===`
`||_==="	"||_===" "||v&&!_}static nextNodeIsIndented(b,m,v){return!b||m<0?!1:m>0?!0:v&&b==="-"}static normalizeOffset(b,m){let v=b[m];return v?v!==`
`&&b[m-1]===`
`?m-1:zi.endOfWhiteSpace(b,m):m}static foldNewline(b,m,v){let _=0,P=!1,R="",N=b[m+1];for(;N===" "||N==="	"||N===`
`;){switch(N){case`
`:_=0,m+=1,R+=`
`;break;case"	":_<=v&&(P=!0),m=zi.endOfWhiteSpace(b,m+2)-1;break;case" ":_+=1,m+=1;break}N=b[m+1]}return R||(R=" "),N&&_<=v&&(P=!0),{fold:R,offset:m,error:P}}constructor(b,m,v){Object.defineProperty(this,"context",{value:v||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=m||[],this.type=b,this.value=null}getPropValue(b,m,v){if(!this.context)return null;let{src:_}=this.context,P=this.props[b];return P&&_[P.start]===m?_.slice(P.start+(v?1:0),P.end):null}get anchor(){for(let b=0;b<this.props.length;++b){let m=this.getPropValue(b,t.ANCHOR,!0);if(m!=null)return m}return null}get comment(){let b=[];for(let m=0;m<this.props.length;++m){let v=this.getPropValue(m,t.COMMENT,!0);v!=null&&b.push(v)}return b.length>0?b.join(`
`):null}commentHasRequiredWhitespace(b){let{src:m}=this.context;if(this.header&&b===this.header.end||!this.valueRange)return!1;let{end:v}=this.valueRange;return b!==v||zi.atBlank(m,v-1)}get hasComment(){if(this.context){let{src:b}=this.context;for(let m=0;m<this.props.length;++m)if(b[this.props[m].start]===t.COMMENT)return!0}return!1}get hasProps(){if(this.context){let{src:b}=this.context;for(let m=0;m<this.props.length;++m)if(b[this.props[m].start]!==t.COMMENT)return!0}return!1}get includesTrailingLines(){return!1}get jsonLike(){return[n.FLOW_MAP,n.FLOW_SEQ,n.QUOTE_DOUBLE,n.QUOTE_SINGLE].indexOf(this.type)!==-1}get rangeAsLinePos(){if(!this.range||!this.context)return;let b=u(this.range.start,this.context.root);if(!b)return;let m=u(this.range.end,this.context.root);return{start:b,end:m}}get rawValue(){if(!this.valueRange||!this.context)return null;let{start:b,end:m}=this.valueRange;return this.context.src.slice(b,m)}get tag(){for(let b=0;b<this.props.length;++b){let m=this.getPropValue(b,t.TAG,!1);if(m!=null){if(m[1]==="<")return{verbatim:m.slice(2,-1)};{let[v,_,P]=m.match(/^(.*!)([^!]*)$/);return{handle:_,suffix:P}}}}return null}get valueRangeContainsNewline(){if(!this.valueRange||!this.context)return!1;let{start:b,end:m}=this.valueRange,{src:v}=this.context;for(let _=b;_<m;++_)if(v[_]===`
`)return!0;return!1}parseComment(b){let{src:m}=this.context;if(m[b]===t.COMMENT){let v=zi.endOfLine(m,b+1),_=new d(b,v);return this.props.push(_),v}return b}setOrigRanges(b,m){return this.range&&(m=this.range.setOrigRange(b,m)),this.valueRange&&this.valueRange.setOrigRange(b,m),this.props.forEach(v=>v.setOrigRange(b,m)),m}toString(){let{context:{src:b},range:m,value:v}=this;if(v!=null)return v;let _=b.slice(m.start,m.end);return zi.addStringTerminator(b,m.end,_)}},y=class extends Error{constructor(p,b,m){if(!m||!(b instanceof h))throw new Error(`Invalid arguments for new ${p}`);super(),this.name=p,this.message=m,this.source=b}makePretty(){if(!this.source)return;this.nodeType=this.source.type;let p=this.source.context&&this.source.context.root;if(typeof this.offset=="number"){this.range=new d(this.offset,this.offset+1);let b=p&&u(this.offset,p);if(b){let m={line:b.line,col:b.col+1};this.linePos={start:b,end:m}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){let{line:b,col:m}=this.linePos.start;this.message+=` at line ${b}, column ${m}`;let v=p&&f(this.linePos,p);v&&(this.message+=`:

${v}
`)}delete this.source}},w=class extends y{constructor(p,b){super("YAMLReferenceError",p,b)}},k=class extends y{constructor(p,b){super("YAMLSemanticError",p,b)}},$=class extends y{constructor(p,b){super("YAMLSyntaxError",p,b)}},E=class extends y{constructor(p,b){super("YAMLWarning",p,b)}};function T(p,b,m){return b in p?Object.defineProperty(p,b,{value:m,enumerable:!0,configurable:!0,writable:!0}):p[b]=m,p}var D=class oy extends h{static endOfLine(b,m,v){let _=b[m],P=m;for(;_&&_!==`
`&&!(v&&(_==="["||_==="]"||_==="{"||_==="}"||_===","));){let R=b[P+1];if(_===":"&&(!R||R===`
`||R==="	"||R===" "||v&&R===",")||(_===" "||_==="	")&&R==="#")break;P+=1,_=R}return P}get strValue(){if(!this.valueRange||!this.context)return null;let{start:b,end:m}=this.valueRange,{src:v}=this.context,_=v[m-1];for(;b<m&&(_===`
`||_==="	"||_===" ");)_=v[--m-1];let P="";for(let N=b;N<m;++N){let F=v[N];if(F===`
`){let{fold:j,offset:I}=h.foldNewline(v,N,-1);P+=j,N=I}else if(F===" "||F==="	"){let j=N,I=v[N+1];for(;N<m&&(I===" "||I==="	");)N+=1,I=v[N+1];I!==`
`&&(P+=N>j?v.slice(j,N+1):F)}else P+=F}let R=v[b];switch(R){case"	":{let N="Plain value cannot start with a tab character";return{errors:[new k(this,N)],str:P}}case"@":case"`":{let N=`Plain value cannot start with reserved character ${R}`;return{errors:[new k(this,N)],str:P}}default:return P}}parseBlockValue(b){let{indent:m,inFlow:v,src:_}=this.context,P=b,R=b;for(let N=_[P];N===`
`&&!h.atDocumentBoundary(_,P+1);N=_[P]){let F=h.endOfBlockIndent(_,m,P+1);if(F===null||_[F]==="#")break;_[F]===`
`?P=F:(R=oy.endOfLine(_,F,v),P=R)}return this.valueRange.isEmpty()&&(this.valueRange.start=b),this.valueRange.end=R,R}parse(b,m){this.context=b;let{inFlow:v,src:_}=b,P=m,R=_[P];return R&&R!=="#"&&R!==`
`&&(P=oy.endOfLine(_,m,v)),this.valueRange=new d(m,P),P=h.endOfWhiteSpace(_,P),P=this.parseComment(P),(!this.hasComment||this.valueRange.isEmpty())&&(P=this.parseBlockValue(P)),P}};e.Char=t,e.Node=h,e.PlainValue=D,e.Range=d,e.Type=n,e.YAMLError=y,e.YAMLReferenceError=w,e.YAMLSemanticError=k,e.YAMLSyntaxError=$,e.YAMLWarning=E,e._defineProperty=T,e.defaultTagPrefix=r,e.defaultTags=i}),JO=Ti(e=>{var t=Ys(),n=class extends t.Node{constructor(){super(t.Type.BLANK_LINE)}get includesTrailingLines(){return!0}parse(D,p){return this.context=D,this.range=new t.Range(p,p+1),p+1}},r=class extends t.Node{constructor(D,p){super(D,p),this.node=null}get includesTrailingLines(){return!!this.node&&this.node.includesTrailingLines}parse(D,p){this.context=D;let{parseNode:b,src:m}=D,{atLineStart:v,lineStart:_}=D;!v&&this.type===t.Type.SEQ_ITEM&&(this.error=new t.YAMLSemanticError(this,"Sequence items must not have preceding content on the same line"));let P=v?p-_:D.indent,R=t.Node.endOfWhiteSpace(m,p+1),N=m[R],F=N==="#",j=[],I=null;for(;N===`
`||N==="#";){if(N==="#"){let oe=t.Node.endOfLine(m,R+1);j.push(new t.Range(R,oe)),R=oe}else{v=!0,_=R+1;let oe=t.Node.endOfWhiteSpace(m,_);m[oe]===`
`&&j.length===0&&(I=new n,_=I.parse({src:m},_)),R=t.Node.endOfIndent(m,_)}N=m[R]}if(t.Node.nextNodeIsIndented(N,R-(_+P),this.type!==t.Type.SEQ_ITEM)?this.node=b({atLineStart:v,inCollection:!1,indent:P,lineStart:_,parent:this},R):N&&_>p+1&&(R=_-1),this.node){if(I){let oe=D.parent.items||D.parent.contents;oe&&oe.push(I)}j.length&&Array.prototype.push.apply(this.props,j),R=this.node.range.end}else if(F){let oe=j[0];this.props.push(oe),R=oe.end}else R=t.Node.endOfLine(m,p+1);let X=this.node?this.node.valueRange.end:R;return this.valueRange=new t.Range(p,X),R}setOrigRanges(D,p){return p=super.setOrigRanges(D,p),this.node?this.node.setOrigRanges(D,p):p}toString(){let{context:{src:D},node:p,range:b,value:m}=this;if(m!=null)return m;let v=p?D.slice(b.start,p.range.start)+String(p):D.slice(b.start,b.end);return t.Node.addStringTerminator(D,b.end,v)}},i=class extends t.Node{constructor(){super(t.Type.COMMENT)}parse(D,p){this.context=D;let b=this.parseComment(p);return this.range=new t.Range(p,b),b}};function s(D){let p=D;for(;p instanceof r;)p=p.node;if(!(p instanceof o))return null;let b=p.items.length,m=-1;for(let P=b-1;P>=0;--P){let R=p.items[P];if(R.type===t.Type.COMMENT){let{indent:N,lineStart:F}=R.context;if(N>0&&R.range.start>=F+N)break;m=P}else if(R.type===t.Type.BLANK_LINE)m=P;else break}if(m===-1)return null;let v=p.items.splice(m,b-m),_=v[0].range.start;for(;p.range.end=_,p.valueRange&&p.valueRange.end>_&&(p.valueRange.end=_),p!==D;)p=p.context.parent;return v}var o=class ay extends t.Node{static nextContentHasIndent(p,b,m){let v=t.Node.endOfLine(p,b)+1;b=t.Node.endOfWhiteSpace(p,v);let _=p[b];return _?b>=v+m?!0:_!=="#"&&_!==`
`?!1:ay.nextContentHasIndent(p,b,m):!1}constructor(p){super(p.type===t.Type.SEQ_ITEM?t.Type.SEQ:t.Type.MAP);for(let m=p.props.length-1;m>=0;--m)if(p.props[m].start<p.context.lineStart){this.props=p.props.slice(0,m+1),p.props=p.props.slice(m+1);let v=p.props[0]||p.valueRange;p.range.start=v.start;break}this.items=[p];let b=s(p);b&&Array.prototype.push.apply(this.items,b)}get includesTrailingLines(){return this.items.length>0}parse(p,b){this.context=p;let{parseNode:m,src:v}=p,_=t.Node.startOfLine(v,b),P=this.items[0];P.context.parent=this,this.valueRange=t.Range.copy(P.valueRange);let R=P.range.start-P.context.lineStart,N=b;N=t.Node.normalizeOffset(v,N);let F=v[N],j=t.Node.endOfWhiteSpace(v,_)===N,I=!1;for(;F;){for(;F===`
`||F==="#";){if(j&&F===`
`&&!I){let ue=new n;if(N=ue.parse({src:v},N),this.valueRange.end=N,N>=v.length){F=null;break}this.items.push(ue),N-=1}else if(F==="#"){if(N<_+R&&!ay.nextContentHasIndent(v,N,R))return N;let ue=new i;if(N=ue.parse({indent:R,lineStart:_,src:v},N),this.items.push(ue),this.valueRange.end=N,N>=v.length){F=null;break}}if(_=N+1,N=t.Node.endOfIndent(v,_),t.Node.atBlank(v,N)){let ue=t.Node.endOfWhiteSpace(v,N),he=v[ue];(!he||he===`
`||he==="#")&&(N=ue)}F=v[N],j=!0}if(!F)break;if(N!==_+R&&(j||F!==":")){if(N<_+R){_>b&&(N=_);break}else if(!this.error){let ue="All collection items must start at the same column";this.error=new t.YAMLSyntaxError(this,ue)}}if(P.type===t.Type.SEQ_ITEM){if(F!=="-"){_>b&&(N=_);break}}else if(F==="-"&&!this.error){let ue=v[N+1];if(!ue||ue===`
`||ue==="	"||ue===" "){let he="A collection cannot be both a mapping and a sequence";this.error=new t.YAMLSyntaxError(this,he)}}let X=m({atLineStart:j,inCollection:!0,indent:R,lineStart:_,parent:this},N);if(!X)return N;if(this.items.push(X),this.valueRange.end=X.valueRange.end,N=t.Node.normalizeOffset(v,X.range.end),F=v[N],j=!1,I=X.includesTrailingLines,F){let ue=N-1,he=v[ue];for(;he===" "||he==="	";)he=v[--ue];he===`
`&&(_=ue+1,j=!0)}let oe=s(X);oe&&Array.prototype.push.apply(this.items,oe)}return N}setOrigRanges(p,b){return b=super.setOrigRanges(p,b),this.items.forEach(m=>{b=m.setOrigRanges(p,b)}),b}toString(){let{context:{src:p},items:b,range:m,value:v}=this;if(v!=null)return v;let _=p.slice(m.start,b[0].range.start)+String(b[0]);for(let P=1;P<b.length;++P){let R=b[P],{atLineStart:N,indent:F}=R.context;if(N)for(let j=0;j<F;++j)_+=" ";_+=String(R)}return t.Node.addStringTerminator(p,m.end,_)}},u=class extends t.Node{constructor(){super(t.Type.DIRECTIVE),this.name=null}get parameters(){let D=this.rawValue;return D?D.trim().split(/[ \t]+/):[]}parseName(D){let{src:p}=this.context,b=D,m=p[b];for(;m&&m!==`
`&&m!=="	"&&m!==" ";)m=p[b+=1];return this.name=p.slice(D,b),b}parseParameters(D){let{src:p}=this.context,b=D,m=p[b];for(;m&&m!==`
`&&m!=="#";)m=p[b+=1];return this.valueRange=new t.Range(D,b),b}parse(D,p){this.context=D;let b=this.parseName(p+1);return b=this.parseParameters(b),b=this.parseComment(b),this.range=new t.Range(p,b),b}},c=class uy extends t.Node{static startCommentOrEndBlankLine(p,b){let m=t.Node.endOfWhiteSpace(p,b),v=p[m];return v==="#"||v===`
`?m:b}constructor(){super(t.Type.DOCUMENT),this.directives=null,this.contents=null,this.directivesEndMarker=null,this.documentEndMarker=null}parseDirectives(p){let{src:b}=this.context;this.directives=[];let m=!0,v=!1,_=p;for(;!t.Node.atDocumentBoundary(b,_,t.Char.DIRECTIVES_END);)switch(_=uy.startCommentOrEndBlankLine(b,_),b[_]){case`
`:if(m){let P=new n;_=P.parse({src:b},_),_<b.length&&this.directives.push(P)}else _+=1,m=!0;break;case"#":{let P=new i;_=P.parse({src:b},_),this.directives.push(P),m=!1}break;case"%":{let P=new u;_=P.parse({parent:this,src:b},_),this.directives.push(P),v=!0,m=!1}break;default:return v?this.error=new t.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),_}return b[_]?(this.directivesEndMarker=new t.Range(_,_+3),_+3):(v?this.error=new t.YAMLSemanticError(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),_)}parseContents(p){let{parseNode:b,src:m}=this.context;this.contents||(this.contents=[]);let v=p;for(;m[v-1]==="-";)v-=1;let _=t.Node.endOfWhiteSpace(m,p),P=v===p;for(this.valueRange=new t.Range(_);!t.Node.atDocumentBoundary(m,_,t.Char.DOCUMENT_END);){switch(m[_]){case`
`:if(P){let R=new n;_=R.parse({src:m},_),_<m.length&&this.contents.push(R)}else _+=1,P=!0;v=_;break;case"#":{let R=new i;_=R.parse({src:m},_),this.contents.push(R),P=!1}break;default:{let R=t.Node.endOfIndent(m,_),N=b({atLineStart:P,indent:-1,inFlow:!1,inCollection:!1,lineStart:v,parent:this},R);if(!N)return this.valueRange.end=R;this.contents.push(N),_=N.range.end,P=!1;let F=s(N);F&&Array.prototype.push.apply(this.contents,F)}}_=uy.startCommentOrEndBlankLine(m,_)}if(this.valueRange.end=_,m[_]&&(this.documentEndMarker=new t.Range(_,_+3),_+=3,m[_])){if(_=t.Node.endOfWhiteSpace(m,_),m[_]==="#"){let R=new i;_=R.parse({src:m},_),this.contents.push(R)}switch(m[_]){case`
`:_+=1;break;case void 0:break;default:this.error=new t.YAMLSyntaxError(this,"Document end marker line cannot have a non-comment suffix")}}return _}parse(p,b){p.root=this,this.context=p;let{src:m}=p,v=m.charCodeAt(b)===65279?b+1:b;return v=this.parseDirectives(v),v=this.parseContents(v),v}setOrigRanges(p,b){return b=super.setOrigRanges(p,b),this.directives.forEach(m=>{b=m.setOrigRanges(p,b)}),this.directivesEndMarker&&(b=this.directivesEndMarker.setOrigRange(p,b)),this.contents.forEach(m=>{b=m.setOrigRanges(p,b)}),this.documentEndMarker&&(b=this.documentEndMarker.setOrigRange(p,b)),b}toString(){let{contents:p,directives:b,value:m}=this;if(m!=null)return m;let v=b.join("");return p.length>0&&((b.length>0||p[0].type===t.Type.COMMENT)&&(v+=`---
`),v+=p.join("")),v[v.length-1]!==`
`&&(v+=`
`),v}},f=class extends t.Node{parse(D,p){this.context=D;let{src:b}=D,m=t.Node.endOfIdentifier(b,p+1);return this.valueRange=new t.Range(p+1,m),m=t.Node.endOfWhiteSpace(b,m),m=this.parseComment(m),m}},d={CLIP:"CLIP",KEEP:"KEEP",STRIP:"STRIP"},h=class extends t.Node{constructor(D,p){super(D,p),this.blockIndent=null,this.chomping=d.CLIP,this.header=null}get includesTrailingLines(){return this.chomping===d.KEEP}get strValue(){if(!this.valueRange||!this.context)return null;let{start:D,end:p}=this.valueRange,{indent:b,src:m}=this.context;if(this.valueRange.isEmpty())return"";let v=null,_=m[p-1];for(;_===`
`||_==="	"||_===" ";){if(p-=1,p<=D){if(this.chomping===d.KEEP)break;return""}_===`
`&&(v=p),_=m[p-1]}let P=p+1;v&&(this.chomping===d.KEEP?(P=v,p=this.valueRange.end):p=v);let R=b+this.blockIndent,N=this.type===t.Type.BLOCK_FOLDED,F=!0,j="",I="",X=!1;for(let oe=D;oe<p;++oe){for(let he=0;he<R&&m[oe]===" ";++he)oe+=1;let ue=m[oe];if(ue===`
`)I===`
`?j+=`
`:I=`
`;else{let he=t.Node.endOfLine(m,oe),$e=m.slice(oe,he);oe=he,N&&(ue===" "||ue==="	")&&oe<P?(I===" "?I=`
`:!X&&!F&&I===`
`&&(I=`

`),j+=I+$e,I=he<p&&m[he]||"",X=!0):(j+=I+$e,I=N&&oe<P?" ":`
`,X=!1),F&&$e!==""&&(F=!1)}}return this.chomping===d.STRIP?j:j+`
`}parseBlockHeader(D){let{src:p}=this.context,b=D+1,m="";for(;;){let v=p[b];switch(v){case"-":this.chomping=d.STRIP;break;case"+":this.chomping=d.KEEP;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":m+=v;break;default:return this.blockIndent=Number(m)||null,this.header=new t.Range(D,b),b}b+=1}}parseBlockValue(D){let{indent:p,src:b}=this.context,m=!!this.blockIndent,v=D,_=D,P=1;for(let R=b[v];R===`
`&&(v+=1,!t.Node.atDocumentBoundary(b,v));R=b[v]){let N=t.Node.endOfBlockIndent(b,p,v);if(N===null)break;let F=b[N],j=N-(v+p);if(this.blockIndent){if(F&&F!==`
`&&j<this.blockIndent){if(b[N]==="#")break;if(!this.error){let I=`Block scalars must not be less indented than their ${m?"explicit indentation indicator":"first line"}`;this.error=new t.YAMLSemanticError(this,I)}}}else if(b[N]!==`
`){if(j<P){let I="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";this.error=new t.YAMLSemanticError(this,I)}this.blockIndent=j}else j>P&&(P=j);b[N]===`
`?v=N:v=_=t.Node.endOfLine(b,N)}return this.chomping!==d.KEEP&&(v=b[_]?_+1:_),this.valueRange=new t.Range(D+1,v),v}parse(D,p){this.context=D;let{src:b}=D,m=this.parseBlockHeader(p);return m=t.Node.endOfWhiteSpace(b,m),m=this.parseComment(m),m=this.parseBlockValue(m),m}setOrigRanges(D,p){return p=super.setOrigRanges(D,p),this.header?this.header.setOrigRange(D,p):p}},y=class extends t.Node{constructor(D,p){super(D,p),this.items=null}prevNodeIsJsonLike(D=this.items.length){let p=this.items[D-1];return!!p&&(p.jsonLike||p.type===t.Type.COMMENT&&this.prevNodeIsJsonLike(D-1))}parse(D,p){this.context=D;let{parseNode:b,src:m}=D,{indent:v,lineStart:_}=D,P=m[p];this.items=[{char:P,offset:p}];let R=t.Node.endOfWhiteSpace(m,p+1);for(P=m[R];P&&P!=="]"&&P!=="}";){switch(P){case`
`:{_=R+1;let N=t.Node.endOfWhiteSpace(m,_);if(m[N]===`
`){let F=new n;_=F.parse({src:m},_),this.items.push(F)}if(R=t.Node.endOfIndent(m,_),R<=_+v&&(P=m[R],R<_+v||P!=="]"&&P!=="}")){let F="Insufficient indentation in flow collection";this.error=new t.YAMLSemanticError(this,F)}}break;case",":this.items.push({char:P,offset:R}),R+=1;break;case"#":{let N=new i;R=N.parse({src:m},R),this.items.push(N)}break;case"?":case":":{let N=m[R+1];if(N===`
`||N==="	"||N===" "||N===","||P===":"&&this.prevNodeIsJsonLike()){this.items.push({char:P,offset:R}),R+=1;break}}default:{let N=b({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:_,parent:this},R);if(!N)return this.valueRange=new t.Range(p,R),R;this.items.push(N),R=t.Node.normalizeOffset(m,N.range.end)}}R=t.Node.endOfWhiteSpace(m,R),P=m[R]}return this.valueRange=new t.Range(p,R+1),P&&(this.items.push({char:P,offset:R}),R=t.Node.endOfWhiteSpace(m,R+1),R=this.parseComment(R)),R}setOrigRanges(D,p){return p=super.setOrigRanges(D,p),this.items.forEach(b=>{if(b instanceof t.Node)p=b.setOrigRanges(D,p);else if(D.length===0)b.origOffset=b.offset;else{let m=p;for(;m<D.length&&!(D[m]>b.offset);)++m;b.origOffset=b.offset+m,p=m}}),p}toString(){let{context:{src:D},items:p,range:b,value:m}=this;if(m!=null)return m;let v=p.filter(R=>R instanceof t.Node),_="",P=b.start;return v.forEach(R=>{let N=D.slice(P,R.range.start);P=R.range.end,_+=N+String(R),_[_.length-1]===`
`&&D[P-1]!==`
`&&D[P]===`
`&&(P+=1)}),_+=D.slice(P,b.end),t.Node.addStringTerminator(D,b.end,_)}},w=class x$ extends t.Node{static endOfQuote(p,b){let m=p[b];for(;m&&m!=='"';)b+=m==="\\"?2:1,m=p[b];return b+1}get strValue(){if(!this.valueRange||!this.context)return null;let p=[],{start:b,end:m}=this.valueRange,{indent:v,src:_}=this.context;_[m-1]!=='"'&&p.push(new t.YAMLSyntaxError(this,'Missing closing "quote'));let P="";for(let R=b+1;R<m-1;++R){let N=_[R];if(N===`
`){t.Node.atDocumentBoundary(_,R+1)&&p.push(new t.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:F,offset:j,error:I}=t.Node.foldNewline(_,R,v);P+=F,R=j,I&&p.push(new t.YAMLSemanticError(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if(N==="\\")switch(R+=1,_[R]){case"0":P+="\0";break;case"a":P+="\x07";break;case"b":P+="\b";break;case"e":P+="\x1B";break;case"f":P+="\f";break;case"n":P+=`
`;break;case"r":P+="\r";break;case"t":P+="	";break;case"v":P+="\v";break;case"N":P+="";break;case"_":P+=" ";break;case"L":P+="\u2028";break;case"P":P+="\u2029";break;case" ":P+=" ";break;case'"':P+='"';break;case"/":P+="/";break;case"\\":P+="\\";break;case"	":P+="	";break;case"x":P+=this.parseCharCode(R+1,2,p),R+=2;break;case"u":P+=this.parseCharCode(R+1,4,p),R+=4;break;case"U":P+=this.parseCharCode(R+1,8,p),R+=8;break;case`
`:for(;_[R+1]===" "||_[R+1]==="	";)R+=1;break;default:p.push(new t.YAMLSyntaxError(this,`Invalid escape sequence ${_.substr(R-1,2)}`)),P+="\\"+_[R]}else if(N===" "||N==="	"){let F=R,j=_[R+1];for(;j===" "||j==="	";)R+=1,j=_[R+1];j!==`
`&&(P+=R>F?_.slice(F,R+1):N)}else P+=N}return p.length>0?{errors:p,str:P}:P}parseCharCode(p,b,m){let{src:v}=this.context,_=v.substr(p,b),P=_.length===b&&/^[0-9a-fA-F]+$/.test(_)?parseInt(_,16):NaN;return isNaN(P)?(m.push(new t.YAMLSyntaxError(this,`Invalid escape sequence ${v.substr(p-2,b+2)}`)),v.substr(p-2,b+2)):String.fromCodePoint(P)}parse(p,b){this.context=p;let{src:m}=p,v=x$.endOfQuote(m,b+1);return this.valueRange=new t.Range(b,v),v=t.Node.endOfWhiteSpace(m,v),v=this.parseComment(v),v}},k=class B$ extends t.Node{static endOfQuote(p,b){let m=p[b];for(;m;)if(m==="'"){if(p[b+1]!=="'")break;m=p[b+=2]}else m=p[b+=1];return b+1}get strValue(){if(!this.valueRange||!this.context)return null;let p=[],{start:b,end:m}=this.valueRange,{indent:v,src:_}=this.context;_[m-1]!=="'"&&p.push(new t.YAMLSyntaxError(this,"Missing closing 'quote"));let P="";for(let R=b+1;R<m-1;++R){let N=_[R];if(N===`
`){t.Node.atDocumentBoundary(_,R+1)&&p.push(new t.YAMLSemanticError(this,"Document boundary indicators are not allowed within string values"));let{fold:F,offset:j,error:I}=t.Node.foldNewline(_,R,v);P+=F,R=j,I&&p.push(new t.YAMLSemanticError(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if(N==="'")P+=N,R+=1,_[R]!=="'"&&p.push(new t.YAMLSyntaxError(this,"Unescaped single quote? This should not happen."));else if(N===" "||N==="	"){let F=R,j=_[R+1];for(;j===" "||j==="	";)R+=1,j=_[R+1];j!==`
`&&(P+=R>F?_.slice(F,R+1):N)}else P+=N}return p.length>0?{errors:p,str:P}:P}parse(p,b){this.context=p;let{src:m}=p,v=B$.endOfQuote(m,b+1);return this.valueRange=new t.Range(b,v),v=t.Node.endOfWhiteSpace(m,v),v=this.parseComment(v),v}};function $(D,p){switch(D){case t.Type.ALIAS:return new f(D,p);case t.Type.BLOCK_FOLDED:case t.Type.BLOCK_LITERAL:return new h(D,p);case t.Type.FLOW_MAP:case t.Type.FLOW_SEQ:return new y(D,p);case t.Type.MAP_KEY:case t.Type.MAP_VALUE:case t.Type.SEQ_ITEM:return new r(D,p);case t.Type.COMMENT:case t.Type.PLAIN:return new t.PlainValue(D,p);case t.Type.QUOTE_DOUBLE:return new w(D,p);case t.Type.QUOTE_SINGLE:return new k(D,p);default:return null}}var E=class Nd{static parseType(p,b,m){switch(p[b]){case"*":return t.Type.ALIAS;case">":return t.Type.BLOCK_FOLDED;case"|":return t.Type.BLOCK_LITERAL;case"{":return t.Type.FLOW_MAP;case"[":return t.Type.FLOW_SEQ;case"?":return!m&&t.Node.atBlank(p,b+1,!0)?t.Type.MAP_KEY:t.Type.PLAIN;case":":return!m&&t.Node.atBlank(p,b+1,!0)?t.Type.MAP_VALUE:t.Type.PLAIN;case"-":return!m&&t.Node.atBlank(p,b+1,!0)?t.Type.SEQ_ITEM:t.Type.PLAIN;case'"':return t.Type.QUOTE_DOUBLE;case"'":return t.Type.QUOTE_SINGLE;default:return t.Type.PLAIN}}constructor(p={},{atLineStart:b,inCollection:m,inFlow:v,indent:_,lineStart:P,parent:R}={}){t._defineProperty(this,"parseNode",(N,F)=>{if(t.Node.atDocumentBoundary(this.src,F))return null;let j=new Nd(this,N),{props:I,type:X,valueStart:oe}=j.parseProps(F),ue=$(X,I),he=ue.parse(j,oe);if(ue.range=new t.Range(F,he),he<=F&&(ue.error=new Error("Node#parse consumed no characters"),ue.error.parseEnd=he,ue.error.source=ue,ue.range.end=F+1),j.nodeStartsCollection(ue)){!ue.error&&!j.atLineStart&&j.parent.type===t.Type.DOCUMENT&&(ue.error=new t.YAMLSyntaxError(ue,"Block collection must not have preceding content here (e.g. directives-end indicator)"));let $e=new o(ue);return he=$e.parse(new Nd(j),he),$e.range=new t.Range(F,he),$e}return ue}),this.atLineStart=b??(p.atLineStart||!1),this.inCollection=m??(p.inCollection||!1),this.inFlow=v??(p.inFlow||!1),this.indent=_??p.indent,this.lineStart=P??p.lineStart,this.parent=R??(p.parent||{}),this.root=p.root,this.src=p.src}nodeStartsCollection(p){let{inCollection:b,inFlow:m,src:v}=this;if(b||m)return!1;if(p instanceof r)return!0;let _=p.range.end;return v[_]===`
`||v[_-1]===`
`?!1:(_=t.Node.endOfWhiteSpace(v,_),v[_]===":")}parseProps(p){let{inFlow:b,parent:m,src:v}=this,_=[],P=!1;p=this.atLineStart?t.Node.endOfIndent(v,p):t.Node.endOfWhiteSpace(v,p);let R=v[p];for(;R===t.Char.ANCHOR||R===t.Char.COMMENT||R===t.Char.TAG||R===`
`;){if(R===`
`){let F=p,j;do j=F+1,F=t.Node.endOfIndent(v,j);while(v[F]===`
`);let I=F-(j+this.indent),X=m.type===t.Type.SEQ_ITEM&&m.context.atLineStart;if(v[F]!=="#"&&!t.Node.nextNodeIsIndented(v[F],I,!X))break;this.atLineStart=!0,this.lineStart=j,P=!1,p=F}else if(R===t.Char.COMMENT){let F=t.Node.endOfLine(v,p+1);_.push(new t.Range(p,F)),p=F}else{let F=t.Node.endOfIdentifier(v,p+1);R===t.Char.TAG&&v[F]===","&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(v.slice(p+1,F+13))&&(F=t.Node.endOfIdentifier(v,F+5)),_.push(new t.Range(p,F)),P=!0,p=t.Node.endOfWhiteSpace(v,F)}R=v[p]}P&&R===":"&&t.Node.atBlank(v,p+1,!0)&&(p-=1);let N=Nd.parseType(v,p,b);return{props:_,type:N,valueStart:p}}};function T(D){let p=[];D.indexOf("\r")!==-1&&(D=D.replace(/\r\n?/g,(v,_)=>(v.length>1&&p.push(_),`
`)));let b=[],m=0;do{let v=new c,_=new E({src:D});m=v.parse(_,m),b.push(v)}while(m<D.length);return b.setOrigRanges=()=>{if(p.length===0)return!1;for(let _=1;_<p.length;++_)p[_]-=_;let v=0;for(let _=0;_<b.length;++_)v=b[_].setOrigRanges(p,v);return p.splice(0,p.length),!0},b.toString=()=>b.join(`...
`),b}e.parse=T}),yu=Ti(e=>{var t=Ys();function n(Y,B,q){return q?`#${q.replace(/[\s\S]^/gm,`$&${B}#`)}
${B}${Y}`:Y}function r(Y,B,q){return q?q.indexOf(`
`)===-1?`${Y} #${q}`:`${Y}
`+q.replace(/^/gm,`${B||""}#`):Y}var i=class{};function s(Y,B,q){if(Array.isArray(Y))return Y.map((W,C)=>s(W,String(C),q));if(Y&&typeof Y.toJSON=="function"){let W=q&&q.anchors&&q.anchors.get(Y);W&&(q.onCreate=S=>{W.res=S,delete q.onCreate});let C=Y.toJSON(B,q);return W&&q.onCreate&&q.onCreate(C),C}return(!q||!q.keep)&&typeof Y=="bigint"?Number(Y):Y}var o=class extends i{constructor(Y){super(),this.value=Y}toJSON(Y,B){return B&&B.keep?this.value:s(this.value,Y,B)}toString(){return String(this.value)}};function u(Y,B,q){let W=q;for(let C=B.length-1;C>=0;--C){let S=B[C];if(Number.isInteger(S)&&S>=0){let A=[];A[S]=W,W=A}else{let A={};Object.defineProperty(A,S,{value:W,writable:!0,enumerable:!0,configurable:!0}),W=A}}return Y.createNode(W,!1)}var c=Y=>Y==null||typeof Y=="object"&&Y[Symbol.iterator]().next().done,f=class wo extends i{constructor(B){super(),t._defineProperty(this,"items",[]),this.schema=B}addIn(B,q){if(c(B))this.add(q);else{let[W,...C]=B,S=this.get(W,!0);if(S instanceof wo)S.addIn(C,q);else if(S===void 0&&this.schema)this.set(W,u(this.schema,C,q));else throw new Error(`Expected YAML collection at ${W}. Remaining path: ${C}`)}}deleteIn([B,...q]){if(q.length===0)return this.delete(B);let W=this.get(B,!0);if(W instanceof wo)return W.deleteIn(q);throw new Error(`Expected YAML collection at ${B}. Remaining path: ${q}`)}getIn([B,...q],W){let C=this.get(B,!0);return q.length===0?!W&&C instanceof o?C.value:C:C instanceof wo?C.getIn(q,W):void 0}hasAllNullValues(){return this.items.every(B=>{if(!B||B.type!=="PAIR")return!1;let q=B.value;return q==null||q instanceof o&&q.value==null&&!q.commentBefore&&!q.comment&&!q.tag})}hasIn([B,...q]){if(q.length===0)return this.has(B);let W=this.get(B,!0);return W instanceof wo?W.hasIn(q):!1}setIn([B,...q],W){if(q.length===0)this.set(B,W);else{let C=this.get(B,!0);if(C instanceof wo)C.setIn(q,W);else if(C===void 0&&this.schema)this.set(B,u(this.schema,q,W));else throw new Error(`Expected YAML collection at ${B}. Remaining path: ${q}`)}}toJSON(){return null}toString(B,{blockItem:q,flowChars:W,isMap:C,itemIndent:S},A,M){let{indent:z,indentStep:Z,stringify:se}=B,Ee=this.type===t.Type.FLOW_MAP||this.type===t.Type.FLOW_SEQ||B.inFlow;Ee&&(S+=Z);let je=C&&this.hasAllNullValues();B=Object.assign({},B,{allNullValues:je,indent:S,inFlow:Ee,type:null});let Pe=!1,qe=!1,Ce=this.items.reduce((qt,et,vt)=>{let rt;et&&(!Pe&&et.spaceBefore&&qt.push({type:"comment",str:""}),et.commentBefore&&et.commentBefore.match(/^.*$/gm).forEach(rr=>{qt.push({type:"comment",str:`#${rr}`})}),et.comment&&(rt=et.comment),Ee&&(!Pe&&et.spaceBefore||et.commentBefore||et.comment||et.key&&(et.key.commentBefore||et.key.comment)||et.value&&(et.value.commentBefore||et.value.comment))&&(qe=!0)),Pe=!1;let Zt=se(et,B,()=>rt=null,()=>Pe=!0);return Ee&&!qe&&Zt.includes(`
`)&&(qe=!0),Ee&&vt<this.items.length-1&&(Zt+=","),Zt=r(Zt,S,rt),Pe&&(rt||Ee)&&(Pe=!1),qt.push({type:"item",str:Zt}),qt},[]),at;if(Ce.length===0)at=W.start+W.end;else if(Ee){let{start:qt,end:et}=W,vt=Ce.map(rt=>rt.str);if(qe||vt.reduce((rt,Zt)=>rt+Zt.length+2,2)>wo.maxFlowStringSingleLineLength){at=qt;for(let rt of vt)at+=rt?`
${Z}${z}${rt}`:`
`;at+=`
${z}${et}`}else at=`${qt} ${vt.join(" ")} ${et}`}else{let qt=Ce.map(q);at=qt.shift();for(let et of qt)at+=et?`
${z}${et}`:`
`}return this.comment?(at+=`
`+this.comment.replace(/^/gm,`${z}#`),A&&A()):Pe&&M&&M(),at}};t._defineProperty(f,"maxFlowStringSingleLineLength",60);function d(Y){let B=Y instanceof o?Y.value:Y;return B&&typeof B=="string"&&(B=Number(B)),Number.isInteger(B)&&B>=0?B:null}var h=class extends f{add(Y){this.items.push(Y)}delete(Y){let B=d(Y);return typeof B!="number"?!1:this.items.splice(B,1).length>0}get(Y,B){let q=d(Y);if(typeof q!="number")return;let W=this.items[q];return!B&&W instanceof o?W.value:W}has(Y){let B=d(Y);return typeof B=="number"&&B<this.items.length}set(Y,B){let q=d(Y);if(typeof q!="number")throw new Error(`Expected a valid index, not ${Y}.`);this.items[q]=B}toJSON(Y,B){let q=[];B&&B.onCreate&&B.onCreate(q);let W=0;for(let C of this.items)q.push(s(C,String(W++),B));return q}toString(Y,B,q){return Y?super.toString(Y,{blockItem:W=>W.type==="comment"?W.str:`- ${W.str}`,flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(Y.indent||"")+"  "},B,q):JSON.stringify(this)}},y=(Y,B,q)=>B===null?"":typeof B!="object"?String(B):Y instanceof i&&q&&q.doc?Y.toString({anchors:Object.create(null),doc:q.doc,indent:"",indentStep:q.indentStep,inFlow:!0,inStringifyKey:!0,stringify:q.stringify}):JSON.stringify(B),w=class W$ extends i{constructor(B,q=null){super(),this.key=B,this.value=q,this.type=W$.Type.PAIR}get commentBefore(){return this.key instanceof i?this.key.commentBefore:void 0}set commentBefore(B){if(this.key==null&&(this.key=new o(null)),this.key instanceof i)this.key.commentBefore=B;else{let q="Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.";throw new Error(q)}}addToJSMap(B,q){let W=s(this.key,"",B);if(q instanceof Map){let C=s(this.value,W,B);q.set(W,C)}else if(q instanceof Set)q.add(W);else{let C=y(this.key,W,B),S=s(this.value,C,B);C in q?Object.defineProperty(q,C,{value:S,writable:!0,enumerable:!0,configurable:!0}):q[C]=S}return q}toJSON(B,q){let W=q&&q.mapAsMap?new Map:{};return this.addToJSMap(q,W)}toString(B,q,W){if(!B||!B.doc)return JSON.stringify(this);let{indent:C,indentSeq:S,simpleKeys:A}=B.doc.options,{key:M,value:z}=this,Z=M instanceof i&&M.comment;if(A){if(Z)throw new Error("With simple keys, key nodes cannot have comments");if(M instanceof f){let Zt="With simple keys, collection cannot be used as a key value";throw new Error(Zt)}}let se=!A&&(!M||Z||(M instanceof i?M instanceof f||M.type===t.Type.BLOCK_FOLDED||M.type===t.Type.BLOCK_LITERAL:typeof M=="object")),{doc:Ee,indent:je,indentStep:Pe,stringify:qe}=B;B=Object.assign({},B,{implicitKey:!se,indent:je+Pe});let Ce=!1,at=qe(M,B,()=>Z=null,()=>Ce=!0);if(at=r(at,B.indent,Z),!se&&at.length>1024){if(A)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");se=!0}if(B.allNullValues&&!A)return this.comment?(at=r(at,B.indent,this.comment),q&&q()):Ce&&!Z&&W&&W(),B.inFlow&&!se?at:`? ${at}`;at=se?`? ${at}
${je}:`:`${at}:`,this.comment&&(at=r(at,B.indent,this.comment),q&&q());let qt="",et=null;if(z instanceof i){if(z.spaceBefore&&(qt=`
`),z.commentBefore){let Zt=z.commentBefore.replace(/^/gm,`${B.indent}#`);qt+=`
${Zt}`}et=z.comment}else z&&typeof z=="object"&&(z=Ee.schema.createNode(z,!0));B.implicitKey=!1,!se&&!this.comment&&z instanceof o&&(B.indentAtStart=at.length+1),Ce=!1,!S&&C>=2&&!B.inFlow&&!se&&z instanceof h&&z.type!==t.Type.FLOW_SEQ&&!z.tag&&!Ee.anchors.getName(z)&&(B.indent=B.indent.substr(2));let vt=qe(z,B,()=>et=null,()=>Ce=!0),rt=" ";return qt||this.comment?rt=`${qt}
${B.indent}`:!se&&z instanceof f?(!(vt[0]==="["||vt[0]==="{")||vt.includes(`
`))&&(rt=`
${B.indent}`):vt[0]===`
`&&(rt=""),Ce&&!et&&W&&W(),r(at+rt+vt,B.indent,et)}};t._defineProperty(w,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var k=(Y,B)=>{if(Y instanceof $){let q=B.get(Y.source);return q.count*q.aliasCount}else if(Y instanceof f){let q=0;for(let W of Y.items){let C=k(W,B);C>q&&(q=C)}return q}else if(Y instanceof w){let q=k(Y.key,B),W=k(Y.value,B);return Math.max(q,W)}return 1},$=class U$ extends i{static stringify({range:B,source:q},{anchors:W,doc:C,implicitKey:S,inStringifyKey:A}){let M=Object.keys(W).find(Z=>W[Z]===q);if(!M&&A&&(M=C.anchors.getName(q)||C.anchors.newName()),M)return`*${M}${S?" ":""}`;let z=C.anchors.getName(q)?"Alias node must be after source node":"Source node not found for alias node";throw new Error(`${z} [${B}]`)}constructor(B){super(),this.source=B,this.type=t.Type.ALIAS}set tag(B){throw new Error("Alias nodes cannot have tags")}toJSON(B,q){if(!q)return s(this.source,B,q);let{anchors:W,maxAliasCount:C}=q,S=W.get(this.source);if(!S||S.res===void 0){let A="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new t.YAMLReferenceError(this.cstNode,A):new ReferenceError(A)}if(C>=0&&(S.count+=1,S.aliasCount===0&&(S.aliasCount=k(this.source,W)),S.count*S.aliasCount>C)){let A="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new t.YAMLReferenceError(this.cstNode,A):new ReferenceError(A)}return S.res}toString(B){return U$.stringify(this,B)}};t._defineProperty($,"default",!0);function E(Y,B){let q=B instanceof o?B.value:B;for(let W of Y)if(W instanceof w&&(W.key===B||W.key===q||W.key&&W.key.value===q))return W}var T=class extends f{add(Y,B){Y?Y instanceof w||(Y=new w(Y.key||Y,Y.value)):Y=new w(Y);let q=E(this.items,Y.key),W=this.schema&&this.schema.sortMapEntries;if(q)if(B)q.value=Y.value;else throw new Error(`Key ${Y.key} already set`);else if(W){let C=this.items.findIndex(S=>W(Y,S)<0);C===-1?this.items.push(Y):this.items.splice(C,0,Y)}else this.items.push(Y)}delete(Y){let B=E(this.items,Y);return B?this.items.splice(this.items.indexOf(B),1).length>0:!1}get(Y,B){let q=E(this.items,Y),W=q&&q.value;return!B&&W instanceof o?W.value:W}has(Y){return!!E(this.items,Y)}set(Y,B){this.add(new w(Y,B),!0)}toJSON(Y,B,q){let W=q?new q:B&&B.mapAsMap?new Map:{};B&&B.onCreate&&B.onCreate(W);for(let C of this.items)C.addToJSMap(B,W);return W}toString(Y,B,q){if(!Y)return JSON.stringify(this);for(let W of this.items)if(!(W instanceof w))throw new Error(`Map items must all be pairs; found ${JSON.stringify(W)} instead`);return super.toString(Y,{blockItem:W=>W.str,flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:Y.indent||""},B,q)}},D="<<",p=class extends w{constructor(Y){if(Y instanceof w){let B=Y.value;B instanceof h||(B=new h,B.items.push(Y.value),B.range=Y.value.range),super(Y.key,B),this.range=Y.range}else super(new o(D),new h);this.type=w.Type.MERGE_PAIR}addToJSMap(Y,B){for(let{source:q}of this.value.items){if(!(q instanceof T))throw new Error("Merge sources must be maps");let W=q.toJSON(null,Y,Map);for(let[C,S]of W)B instanceof Map?B.has(C)||B.set(C,S):B instanceof Set?B.add(C):Object.prototype.hasOwnProperty.call(B,C)||Object.defineProperty(B,C,{value:S,writable:!0,enumerable:!0,configurable:!0})}return B}toString(Y,B){let q=this.value;if(q.items.length>1)return super.toString(Y,B);this.value=q.items[0];let W=super.toString(Y,B);return this.value=q,W}},b={defaultType:t.Type.BLOCK_LITERAL,lineWidth:76},m={trueStr:"true",falseStr:"false"},v={asBigInt:!1},_={nullStr:"null"},P={defaultType:t.Type.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function R(Y,B,q){for(let{format:W,test:C,resolve:S}of B)if(C){let A=Y.match(C);if(A){let M=S.apply(null,A);return M instanceof o||(M=new o(M)),W&&(M.format=W),M}}return q&&(Y=q(Y)),new o(Y)}var N="flow",F="block",j="quoted",I=(Y,B)=>{let q=Y[B+1];for(;q===" "||q==="	";){do q=Y[B+=1];while(q&&q!==`
`);q=Y[B+1]}return B};function X(Y,B,q,{indentAtStart:W,lineWidth:C=80,minContentWidth:S=20,onFold:A,onOverflow:M}){if(!C||C<0)return Y;let z=Math.max(1+S,1+C-B.length);if(Y.length<=z)return Y;let Z=[],se={},Ee=C-B.length;typeof W=="number"&&(W>C-Math.max(2,S)?Z.push(0):Ee=C-W);let je,Pe,qe=!1,Ce=-1,at=-1,qt=-1;q===F&&(Ce=I(Y,Ce),Ce!==-1&&(Ee=Ce+z));for(let vt;vt=Y[Ce+=1];){if(q===j&&vt==="\\"){switch(at=Ce,Y[Ce+1]){case"x":Ce+=3;break;case"u":Ce+=5;break;case"U":Ce+=9;break;default:Ce+=1}qt=Ce}if(vt===`
`)q===F&&(Ce=I(Y,Ce)),Ee=Ce+z,je=void 0;else{if(vt===" "&&Pe&&Pe!==" "&&Pe!==`
`&&Pe!=="	"){let rt=Y[Ce+1];rt&&rt!==" "&&rt!==`
`&&rt!=="	"&&(je=Ce)}if(Ce>=Ee)if(je)Z.push(je),Ee=je+z,je=void 0;else if(q===j){for(;Pe===" "||Pe==="	";)Pe=vt,vt=Y[Ce+=1],qe=!0;let rt=Ce>qt+1?Ce-2:at-1;if(se[rt])return Y;Z.push(rt),se[rt]=!0,Ee=rt+z,je=void 0}else qe=!0}Pe=vt}if(qe&&M&&M(),Z.length===0)return Y;A&&A();let et=Y.slice(0,Z[0]);for(let vt=0;vt<Z.length;++vt){let rt=Z[vt],Zt=Z[vt+1]||Y.length;rt===0?et=`
${B}${Y.slice(0,Zt)}`:(q===j&&se[rt]&&(et+=`${Y[rt]}\\`),et+=`
${B}${Y.slice(rt+1,Zt)}`)}return et}var oe=({indentAtStart:Y})=>Y?Object.assign({indentAtStart:Y},P.fold):P.fold,ue=Y=>/^(%|---|\.\.\.)/m.test(Y);function he(Y,B,q){if(!B||B<0)return!1;let W=B-q,C=Y.length;if(C<=W)return!1;for(let S=0,A=0;S<C;++S)if(Y[S]===`
`){if(S-A>W)return!0;if(A=S+1,C-A<=W)return!1}return!0}function $e(Y,B){let{implicitKey:q}=B,{jsonEncoding:W,minMultiLineLength:C}=P.doubleQuoted,S=JSON.stringify(Y);if(W)return S;let A=B.indent||(ue(Y)?"  ":""),M="",z=0;for(let Z=0,se=S[Z];se;se=S[++Z])if(se===" "&&S[Z+1]==="\\"&&S[Z+2]==="n"&&(M+=S.slice(z,Z)+"\\ ",Z+=1,z=Z,se="\\"),se==="\\")switch(S[Z+1]){case"u":{M+=S.slice(z,Z);let Ee=S.substr(Z+2,4);switch(Ee){case"0000":M+="\\0";break;case"0007":M+="\\a";break;case"000b":M+="\\v";break;case"001b":M+="\\e";break;case"0085":M+="\\N";break;case"00a0":M+="\\_";break;case"2028":M+="\\L";break;case"2029":M+="\\P";break;default:Ee.substr(0,2)==="00"?M+="\\x"+Ee.substr(2):M+=S.substr(Z,6)}Z+=5,z=Z+1}break;case"n":if(q||S[Z+2]==='"'||S.length<C)Z+=1;else{for(M+=S.slice(z,Z)+`

`;S[Z+2]==="\\"&&S[Z+3]==="n"&&S[Z+4]!=='"';)M+=`
`,Z+=2;M+=A,S[Z+2]===" "&&(M+="\\"),Z+=1,z=Z+1}break;default:Z+=1}return M=z?M+S.slice(z):S,q?M:X(M,A,j,oe(B))}function We(Y,B){if(B.implicitKey){if(/\n/.test(Y))return $e(Y,B)}else if(/[ \t]\n|\n[ \t]/.test(Y))return $e(Y,B);let q=B.indent||(ue(Y)?"  ":""),W="'"+Y.replace(/'/g,"''").replace(/\n+/g,`$&
${q}`)+"'";return B.implicitKey?W:X(W,q,N,oe(B))}function ge({comment:Y,type:B,value:q},W,C,S){if(/\n[\t ]+$/.test(q)||/^\s*$/.test(q))return $e(q,W);let A=W.indent||(W.forceBlockIndent||ue(q)?"  ":""),M=A?"2":"1",z=B===t.Type.BLOCK_FOLDED?!1:B===t.Type.BLOCK_LITERAL?!0:!he(q,P.fold.lineWidth,A.length),Z=z?"|":">";if(!q)return Z+`
`;let se="",Ee="";if(q=q.replace(/[\n\t ]*$/,Pe=>{let qe=Pe.indexOf(`
`);return qe===-1?Z+="-":(q===Pe||qe!==Pe.length-1)&&(Z+="+",S&&S()),Ee=Pe.replace(/\n$/,""),""}).replace(/^[\n ]*/,Pe=>{Pe.indexOf(" ")!==-1&&(Z+=M);let qe=Pe.match(/ +$/);return qe?(se=Pe.slice(0,-qe[0].length),qe[0]):(se=Pe,"")}),Ee&&(Ee=Ee.replace(/\n+(?!\n|$)/g,`$&${A}`)),se&&(se=se.replace(/\n+/g,`$&${A}`)),Y&&(Z+=" #"+Y.replace(/ ?[\r\n]+/g," "),C&&C()),!q)return`${Z}${M}
${A}${Ee}`;if(z)return q=q.replace(/\n+/g,`$&${A}`),`${Z}
${A}${se}${q}${Ee}`;q=q.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${A}`);let je=X(`${se}${q}${Ee}`,A,F,P.fold);return`${Z}
${A}${je}`}function U(Y,B,q,W){let{comment:C,type:S,value:A}=Y,{actualString:M,implicitKey:z,indent:Z,inFlow:se}=B;if(z&&/[\n[\]{},]/.test(A)||se&&/[[\]{},]/.test(A))return $e(A,B);if(!A||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(A))return z||se||A.indexOf(`
`)===-1?A.indexOf('"')!==-1&&A.indexOf("'")===-1?We(A,B):$e(A,B):ge(Y,B,q,W);if(!z&&!se&&S!==t.Type.PLAIN&&A.indexOf(`
`)!==-1)return ge(Y,B,q,W);if(Z===""&&ue(A))return B.forceBlockIndent=!0,ge(Y,B,q,W);let Ee=A.replace(/\n+/g,`$&
${Z}`);if(M){let{tags:Pe}=B.doc.schema;if(typeof R(Ee,Pe,Pe.scalarFallback).value!="string")return $e(A,B)}let je=z?Ee:X(Ee,Z,N,oe(B));return C&&!se&&(je.indexOf(`
`)!==-1||C.indexOf(`
`)!==-1)?(q&&q(),n(je,Z,C)):je}function ae(Y,B,q,W){let{defaultType:C}=P,{implicitKey:S,inFlow:A}=B,{type:M,value:z}=Y;typeof z!="string"&&(z=String(z),Y=Object.assign({},Y,{value:z}));let Z=Ee=>{switch(Ee){case t.Type.BLOCK_FOLDED:case t.Type.BLOCK_LITERAL:return ge(Y,B,q,W);case t.Type.QUOTE_DOUBLE:return $e(z,B);case t.Type.QUOTE_SINGLE:return We(z,B);case t.Type.PLAIN:return U(Y,B,q,W);default:return null}};(M!==t.Type.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(z)||(S||A)&&(M===t.Type.BLOCK_FOLDED||M===t.Type.BLOCK_LITERAL))&&(M=t.Type.QUOTE_DOUBLE);let se=Z(M);if(se===null&&(se=Z(C),se===null))throw new Error(`Unsupported default string type ${C}`);return se}function re({format:Y,minFractionDigits:B,tag:q,value:W}){if(typeof W=="bigint")return String(W);if(!isFinite(W))return isNaN(W)?".nan":W<0?"-.inf":".inf";let C=JSON.stringify(W);if(!Y&&B&&(!q||q==="tag:yaml.org,2002:float")&&/^\d/.test(C)){let S=C.indexOf(".");S<0&&(S=C.length,C+=".");let A=B-(C.length-S-1);for(;A-- >0;)C+="0"}return C}function x(Y,B){let q,W;switch(B.type){case t.Type.FLOW_MAP:q="}",W="flow map";break;case t.Type.FLOW_SEQ:q="]",W="flow sequence";break;default:Y.push(new t.YAMLSemanticError(B,"Not a flow collection!?"));return}let C;for(let S=B.items.length-1;S>=0;--S){let A=B.items[S];if(!A||A.type!==t.Type.COMMENT){C=A;break}}if(C&&C.char!==q){let S=`Expected ${W} to end with ${q}`,A;typeof C.offset=="number"?(A=new t.YAMLSemanticError(B,S),A.offset=C.offset+1):(A=new t.YAMLSemanticError(C,S),C.range&&C.range.end&&(A.offset=C.range.end-C.range.start)),Y.push(A)}}function Q(Y,B){let q=B.context.src[B.range.start-1];if(q!==`
`&&q!=="	"&&q!==" "){let W="Comments must be separated from other tokens by white space characters";Y.push(new t.YAMLSemanticError(B,W))}}function fe(Y,B){let q=String(B),W=q.substr(0,8)+"..."+q.substr(-8);return new t.YAMLSemanticError(Y,`The "${W}" key is too long`)}function Te(Y,B){for(let{afterKey:q,before:W,comment:C}of B){let S=Y.items[W];S?(q&&S.value&&(S=S.value),C===void 0?(q||!S.commentBefore)&&(S.spaceBefore=!0):S.commentBefore?S.commentBefore+=`
`+C:S.commentBefore=C):C!==void 0&&(Y.comment?Y.comment+=`
`+C:Y.comment=C)}}function ke(Y,B){let q=B.strValue;return q?typeof q=="string"?q:(q.errors.forEach(W=>{W.source||(W.source=B),Y.errors.push(W)}),q.str):""}function Fe(Y,B){let{handle:q,suffix:W}=B.tag,C=Y.tagPrefixes.find(S=>S.handle===q);if(!C){let S=Y.getDefaults().tagPrefixes;if(S&&(C=S.find(A=>A.handle===q)),!C)throw new t.YAMLSemanticError(B,`The ${q} tag handle is non-default and was not declared.`)}if(!W)throw new t.YAMLSemanticError(B,`The ${q} tag has no suffix.`);if(q==="!"&&(Y.version||Y.options.version)==="1.0"){if(W[0]==="^")return Y.warnings.push(new t.YAMLWarning(B,"YAML 1.0 ^ tag expansion is not supported")),W;if(/[:/]/.test(W)){let S=W.match(/^([a-z0-9-]+)\/(.*)/i);return S?`tag:${S[1]}.yaml.org,2002:${S[2]}`:`tag:${W}`}}return C.prefix+decodeURIComponent(W)}function we(Y,B){let{tag:q,type:W}=B,C=!1;if(q){let{handle:S,suffix:A,verbatim:M}=q;if(M){if(M!=="!"&&M!=="!!")return M;let z=`Verbatim tags aren't resolved, so ${M} is invalid.`;Y.errors.push(new t.YAMLSemanticError(B,z))}else if(S==="!"&&!A)C=!0;else try{return Fe(Y,B)}catch(z){Y.errors.push(z)}}switch(W){case t.Type.BLOCK_FOLDED:case t.Type.BLOCK_LITERAL:case t.Type.QUOTE_DOUBLE:case t.Type.QUOTE_SINGLE:return t.defaultTags.STR;case t.Type.FLOW_MAP:case t.Type.MAP:return t.defaultTags.MAP;case t.Type.FLOW_SEQ:case t.Type.SEQ:return t.defaultTags.SEQ;case t.Type.PLAIN:return C?t.defaultTags.STR:null;default:return null}}function V(Y,B,q){let{tags:W}=Y.schema,C=[];for(let A of W)if(A.tag===q)if(A.test)C.push(A);else{let M=A.resolve(Y,B);return M instanceof f?M:new o(M)}let S=ke(Y,B);return typeof S=="string"&&C.length>0?R(S,C,W.scalarFallback):null}function J({type:Y}){switch(Y){case t.Type.FLOW_MAP:case t.Type.MAP:return t.defaultTags.MAP;case t.Type.FLOW_SEQ:case t.Type.SEQ:return t.defaultTags.SEQ;default:return t.defaultTags.STR}}function de(Y,B,q){try{let W=V(Y,B,q);if(W)return q&&B.tag&&(W.tag=q),W}catch(W){return W.source||(W.source=B),Y.errors.push(W),null}try{let W=J(B);if(!W)throw new Error(`The tag ${q} is unavailable`);let C=`The tag ${q} is unavailable, falling back to ${W}`;Y.warnings.push(new t.YAMLWarning(B,C));let S=V(Y,B,W);return S.tag=q,S}catch(W){let C=new t.YAMLReferenceError(B,W.message);return C.stack=W.stack,Y.errors.push(C),null}}var ne=Y=>{if(!Y)return!1;let{type:B}=Y;return B===t.Type.MAP_KEY||B===t.Type.MAP_VALUE||B===t.Type.SEQ_ITEM};function Se(Y,B){let q={before:[],after:[]},W=!1,C=!1,S=ne(B.context.parent)?B.context.parent.props.concat(B.props):B.props;for(let{start:A,end:M}of S)switch(B.context.src[A]){case t.Char.COMMENT:{if(!B.commentHasRequiredWhitespace(A)){let se="Comments must be separated from other tokens by white space characters";Y.push(new t.YAMLSemanticError(B,se))}let{header:z,valueRange:Z}=B;(Z&&(A>Z.start||z&&A>z.start)?q.after:q.before).push(B.context.src.slice(A+1,M));break}case t.Char.ANCHOR:if(W){let z="A node can have at most one anchor";Y.push(new t.YAMLSemanticError(B,z))}W=!0;break;case t.Char.TAG:if(C){let z="A node can have at most one tag";Y.push(new t.YAMLSemanticError(B,z))}C=!0;break}return{comments:q,hasAnchor:W,hasTag:C}}function Ne(Y,B){let{anchors:q,errors:W,schema:C}=Y;if(B.type===t.Type.ALIAS){let A=B.rawValue,M=q.getNode(A);if(!M){let Z=`Aliased anchor not found: ${A}`;return W.push(new t.YAMLReferenceError(B,Z)),null}let z=new $(M);return q._cstAliases.push(z),z}let S=we(Y,B);if(S)return de(Y,B,S);if(B.type!==t.Type.PLAIN){let A=`Failed to resolve ${B.type} node here`;return W.push(new t.YAMLSyntaxError(B,A)),null}try{let A=ke(Y,B);return R(A,C.tags,C.tags.scalarFallback)}catch(A){return A.source||(A.source=B),W.push(A),null}}function xe(Y,B){if(!B)return null;B.error&&Y.errors.push(B.error);let{comments:q,hasAnchor:W,hasTag:C}=Se(Y.errors,B);if(W){let{anchors:A}=Y,M=B.anchor,z=A.getNode(M);z&&(A.map[A.newName(M)]=z),A.map[M]=B}if(B.type===t.Type.ALIAS&&(W||C)){let A="An alias node must not specify any properties";Y.errors.push(new t.YAMLSemanticError(B,A))}let S=Ne(Y,B);if(S){S.range=[B.range.start,B.range.end],Y.options.keepCstNodes&&(S.cstNode=B),Y.options.keepNodeTypes&&(S.type=B.type);let A=q.before.join(`
`);A&&(S.commentBefore=S.commentBefore?`${S.commentBefore}
${A}`:A);let M=q.after.join(`
`);M&&(S.comment=S.comment?`${S.comment}
${M}`:M)}return B.resolved=S}function Ft(Y,B){if(B.type!==t.Type.MAP&&B.type!==t.Type.FLOW_MAP){let A=`A ${B.type} node cannot be resolved as a mapping`;return Y.errors.push(new t.YAMLSyntaxError(B,A)),null}let{comments:q,items:W}=B.type===t.Type.FLOW_MAP?It(Y,B):ze(Y,B),C=new T;C.items=W,Te(C,q);let S=!1;for(let A=0;A<W.length;++A){let{key:M}=W[A];if(M instanceof f&&(S=!0),Y.schema.merge&&M&&M.value===D){W[A]=new p(W[A]);let z=W[A].value.items,Z=null;z.some(se=>{if(se instanceof $){let{type:Ee}=se.source;return Ee===t.Type.MAP||Ee===t.Type.FLOW_MAP?!1:Z="Merge nodes aliases can only point to maps"}return Z="Merge nodes can only have Alias nodes as values"}),Z&&Y.errors.push(new t.YAMLSemanticError(B,Z))}else for(let z=A+1;z<W.length;++z){let{key:Z}=W[z];if(M===Z||M&&Z&&Object.prototype.hasOwnProperty.call(M,"value")&&M.value===Z.value){let se=`Map keys must be unique; "${M}" is repeated`;Y.errors.push(new t.YAMLSemanticError(B,se));break}}}if(S&&!Y.options.mapAsMap){let A="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";Y.warnings.push(new t.YAMLWarning(B,A))}return B.resolved=C,C}var kt=({context:{lineStart:Y,node:B,src:q},props:W})=>{if(W.length===0)return!1;let{start:C}=W[0];if(B&&C>B.valueRange.start||q[C]!==t.Char.COMMENT)return!1;for(let S=Y;S<C;++S)if(q[S]===`
`)return!1;return!0};function dt(Y,B){if(!kt(Y))return;let q=Y.getPropValue(0,t.Char.COMMENT,!0),W=!1,C=B.value.commentBefore;if(C&&C.startsWith(q))B.value.commentBefore=C.substr(q.length+1),W=!0;else{let S=B.value.comment;!Y.node&&S&&S.startsWith(q)&&(B.value.comment=S.substr(q.length+1),W=!0)}W&&(B.comment=q)}function ze(Y,B){let q=[],W=[],C,S=null;for(let A=0;A<B.items.length;++A){let M=B.items[A];switch(M.type){case t.Type.BLANK_LINE:q.push({afterKey:!!C,before:W.length});break;case t.Type.COMMENT:q.push({afterKey:!!C,before:W.length,comment:M.comment});break;case t.Type.MAP_KEY:C!==void 0&&W.push(new w(C)),M.error&&Y.errors.push(M.error),C=xe(Y,M.node),S=null;break;case t.Type.MAP_VALUE:{if(C===void 0&&(C=null),M.error&&Y.errors.push(M.error),!M.context.atLineStart&&M.node&&M.node.type===t.Type.MAP&&!M.node.context.atLineStart){let se="Nested mappings are not allowed in compact mappings";Y.errors.push(new t.YAMLSemanticError(M.node,se))}let z=M.node;if(!z&&M.props.length>0){z=new t.PlainValue(t.Type.PLAIN,[]),z.context={parent:M,src:M.context.src};let se=M.range.start+1;if(z.range={start:se,end:se},z.valueRange={start:se,end:se},typeof M.range.origStart=="number"){let Ee=M.range.origStart+1;z.range.origStart=z.range.origEnd=Ee,z.valueRange.origStart=z.valueRange.origEnd=Ee}}let Z=new w(C,xe(Y,z));dt(M,Z),W.push(Z),C&&typeof S=="number"&&M.range.start>S+1024&&Y.errors.push(fe(B,C)),C=void 0,S=null}break;default:C!==void 0&&W.push(new w(C)),C=xe(Y,M),S=M.range.start,M.error&&Y.errors.push(M.error);e:for(let z=A+1;;++z){let Z=B.items[z];switch(Z&&Z.type){case t.Type.BLANK_LINE:case t.Type.COMMENT:continue e;case t.Type.MAP_VALUE:break e;default:{let se="Implicit map keys need to be followed by map values";Y.errors.push(new t.YAMLSemanticError(M,se));break e}}}if(M.valueRangeContainsNewline){let z="Implicit map keys need to be on a single line";Y.errors.push(new t.YAMLSemanticError(M,z))}}}return C!==void 0&&W.push(new w(C)),{comments:q,items:W}}function It(Y,B){let q=[],W=[],C,S=!1,A="{";for(let M=0;M<B.items.length;++M){let z=B.items[M];if(typeof z.char=="string"){let{char:Z,offset:se}=z;if(Z==="?"&&C===void 0&&!S){S=!0,A=":";continue}if(Z===":"){if(C===void 0&&(C=null),A===":"){A=",";continue}}else if(S&&(C===void 0&&Z!==","&&(C=null),S=!1),C!==void 0&&(W.push(new w(C)),C=void 0,Z===",")){A=":";continue}if(Z==="}"){if(M===B.items.length-1)continue}else if(Z===A){A=":";continue}let Ee=`Flow map contains an unexpected ${Z}`,je=new t.YAMLSyntaxError(B,Ee);je.offset=se,Y.errors.push(je)}else z.type===t.Type.BLANK_LINE?q.push({afterKey:!!C,before:W.length}):z.type===t.Type.COMMENT?(Q(Y.errors,z),q.push({afterKey:!!C,before:W.length,comment:z.comment})):C===void 0?(A===","&&Y.errors.push(new t.YAMLSemanticError(z,"Separator , missing in flow map")),C=xe(Y,z)):(A!==","&&Y.errors.push(new t.YAMLSemanticError(z,"Indicator : missing in flow map entry")),W.push(new w(C,xe(Y,z))),C=void 0,S=!1)}return x(Y.errors,B),C!==void 0&&W.push(new w(C)),{comments:q,items:W}}function At(Y,B){if(B.type!==t.Type.SEQ&&B.type!==t.Type.FLOW_SEQ){let S=`A ${B.type} node cannot be resolved as a sequence`;return Y.errors.push(new t.YAMLSyntaxError(B,S)),null}let{comments:q,items:W}=B.type===t.Type.FLOW_SEQ?yt(Y,B):Xt(Y,B),C=new h;if(C.items=W,Te(C,q),!Y.options.mapAsMap&&W.some(S=>S instanceof w&&S.key instanceof f)){let S="Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.";Y.warnings.push(new t.YAMLWarning(B,S))}return B.resolved=C,C}function Xt(Y,B){let q=[],W=[];for(let C=0;C<B.items.length;++C){let S=B.items[C];switch(S.type){case t.Type.BLANK_LINE:q.push({before:W.length});break;case t.Type.COMMENT:q.push({comment:S.comment,before:W.length});break;case t.Type.SEQ_ITEM:if(S.error&&Y.errors.push(S.error),W.push(xe(Y,S.node)),S.hasProps){let A="Sequence items cannot have tags or anchors before the - indicator";Y.errors.push(new t.YAMLSemanticError(S,A))}break;default:S.error&&Y.errors.push(S.error),Y.errors.push(new t.YAMLSyntaxError(S,`Unexpected ${S.type} node in sequence`))}}return{comments:q,items:W}}function yt(Y,B){let q=[],W=[],C=!1,S,A=null,M="[",z=null;for(let Z=0;Z<B.items.length;++Z){let se=B.items[Z];if(typeof se.char=="string"){let{char:Ee,offset:je}=se;if(Ee!==":"&&(C||S!==void 0)&&(C&&S===void 0&&(S=M?W.pop():null),W.push(new w(S)),C=!1,S=void 0,A=null),Ee===M)M=null;else if(!M&&Ee==="?")C=!0;else if(M!=="["&&Ee===":"&&S===void 0){if(M===","){if(S=W.pop(),S instanceof w){let Pe="Chaining flow sequence pairs is invalid",qe=new t.YAMLSemanticError(B,Pe);qe.offset=je,Y.errors.push(qe)}if(!C&&typeof A=="number"){let Pe=se.range?se.range.start:se.offset;Pe>A+1024&&Y.errors.push(fe(B,S));let{src:qe}=z.context;for(let Ce=A;Ce<Pe;++Ce)if(qe[Ce]===`
`){let at="Implicit keys of flow sequence pairs need to be on a single line";Y.errors.push(new t.YAMLSemanticError(z,at));break}}}else S=null;A=null,C=!1,M=null}else if(M==="["||Ee!=="]"||Z<B.items.length-1){let Pe=`Flow sequence contains an unexpected ${Ee}`,qe=new t.YAMLSyntaxError(B,Pe);qe.offset=je,Y.errors.push(qe)}}else if(se.type===t.Type.BLANK_LINE)q.push({before:W.length});else if(se.type===t.Type.COMMENT)Q(Y.errors,se),q.push({comment:se.comment,before:W.length});else{if(M){let je=`Expected a ${M} in flow sequence`;Y.errors.push(new t.YAMLSemanticError(se,je))}let Ee=xe(Y,se);S===void 0?(W.push(Ee),z=se):(W.push(new w(S,Ee)),S=void 0),A=se.range.start,M=","}}return x(Y.errors,B),S!==void 0&&W.push(new w(S)),{comments:q,items:W}}e.Alias=$,e.Collection=f,e.Merge=p,e.Node=i,e.Pair=w,e.Scalar=o,e.YAMLMap=T,e.YAMLSeq=h,e.addComment=r,e.binaryOptions=b,e.boolOptions=m,e.findPair=E,e.intOptions=v,e.isEmptyPath=c,e.nullOptions=_,e.resolveMap=Ft,e.resolveNode=xe,e.resolveSeq=At,e.resolveString=ke,e.strOptions=P,e.stringifyNumber=re,e.stringifyString=ae,e.toJSON=s}),u1=Ti(e=>{var t=Ys(),n=yu(),r={identify:R=>R instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve:(R,N)=>{let F=n.resolveString(R,N);if(typeof Zr=="function")return Zr.from(F,"base64");if(typeof atob=="function"){let j=atob(F.replace(/[\n\r]/g,"")),I=new Uint8Array(j.length);for(let X=0;X<j.length;++X)I[X]=j.charCodeAt(X);return I}else{let j="This environment does not support reading binary tags; either Buffer or atob is required";return R.errors.push(new t.YAMLReferenceError(N,j)),null}},options:n.binaryOptions,stringify:({comment:R,type:N,value:F},j,I,X)=>{let oe;if(typeof Zr=="function")oe=F instanceof Zr?F.toString("base64"):Zr.from(F.buffer).toString("base64");else if(typeof btoa=="function"){let ue="";for(let he=0;he<F.length;++he)ue+=String.fromCharCode(F[he]);oe=btoa(ue)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(N||(N=n.binaryOptions.defaultType),N===t.Type.QUOTE_DOUBLE)F=oe;else{let{lineWidth:ue}=n.binaryOptions,he=Math.ceil(oe.length/ue),$e=new Array(he);for(let We=0,ge=0;We<he;++We,ge+=ue)$e[We]=oe.substr(ge,ue);F=$e.join(N===t.Type.BLOCK_LITERAL?`
`:" ")}return n.stringifyString({comment:R,type:N,value:F},j,I,X)}};function i(R,N){let F=n.resolveSeq(R,N);for(let j=0;j<F.items.length;++j){let I=F.items[j];if(!(I instanceof n.Pair)){if(I instanceof n.YAMLMap){if(I.items.length>1){let oe="Each pair must have its own sequence indicator";throw new t.YAMLSemanticError(N,oe)}let X=I.items[0]||new n.Pair;I.commentBefore&&(X.commentBefore=X.commentBefore?`${I.commentBefore}
${X.commentBefore}`:I.commentBefore),I.comment&&(X.comment=X.comment?`${I.comment}
${X.comment}`:I.comment),I=X}F.items[j]=I instanceof n.Pair?I:new n.Pair(I)}}return F}function s(R,N,F){let j=new n.YAMLSeq(R);j.tag="tag:yaml.org,2002:pairs";for(let I of N){let X,oe;if(Array.isArray(I))if(I.length===2)X=I[0],oe=I[1];else throw new TypeError(`Expected [key, value] tuple: ${I}`);else if(I&&I instanceof Object){let he=Object.keys(I);if(he.length===1)X=he[0],oe=I[X];else throw new TypeError(`Expected { key: value } tuple: ${I}`)}else X=I;let ue=R.createPair(X,oe,F);j.items.push(ue)}return j}var o={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:i,createNode:s},u=class V$ extends n.YAMLSeq{constructor(){super(),t._defineProperty(this,"add",n.YAMLMap.prototype.add.bind(this)),t._defineProperty(this,"delete",n.YAMLMap.prototype.delete.bind(this)),t._defineProperty(this,"get",n.YAMLMap.prototype.get.bind(this)),t._defineProperty(this,"has",n.YAMLMap.prototype.has.bind(this)),t._defineProperty(this,"set",n.YAMLMap.prototype.set.bind(this)),this.tag=V$.tag}toJSON(N,F){let j=new Map;F&&F.onCreate&&F.onCreate(j);for(let I of this.items){let X,oe;if(I instanceof n.Pair?(X=n.toJSON(I.key,"",F),oe=n.toJSON(I.value,X,F)):X=n.toJSON(I,"",F),j.has(X))throw new Error("Ordered maps must not include duplicate keys");j.set(X,oe)}return j}};t._defineProperty(u,"tag","tag:yaml.org,2002:omap");function c(R,N){let F=i(R,N),j=[];for(let{key:I}of F.items)if(I instanceof n.Scalar)if(j.includes(I.value)){let X="Ordered maps must not include duplicate keys";throw new t.YAMLSemanticError(N,X)}else j.push(I.value);return Object.assign(new u,F)}function f(R,N,F){let j=s(R,N,F),I=new u;return I.items=j.items,I}var d={identify:R=>R instanceof Map,nodeClass:u,default:!1,tag:"tag:yaml.org,2002:omap",resolve:c,createNode:f},h=class H$ extends n.YAMLMap{constructor(){super(),this.tag=H$.tag}add(N){let F=N instanceof n.Pair?N:new n.Pair(N);n.findPair(this.items,F.key)||this.items.push(F)}get(N,F){let j=n.findPair(this.items,N);return!F&&j instanceof n.Pair?j.key instanceof n.Scalar?j.key.value:j.key:j}set(N,F){if(typeof F!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof F}`);let j=n.findPair(this.items,N);j&&!F?this.items.splice(this.items.indexOf(j),1):!j&&F&&this.items.push(new n.Pair(N))}toJSON(N,F){return super.toJSON(N,F,Set)}toString(N,F,j){if(!N)return JSON.stringify(this);if(this.hasAllNullValues())return super.toString(N,F,j);throw new Error("Set items must all have null values")}};t._defineProperty(h,"tag","tag:yaml.org,2002:set");function y(R,N){let F=n.resolveMap(R,N);if(!F.hasAllNullValues())throw new t.YAMLSemanticError(N,"Set items must all have null values");return Object.assign(new h,F)}function w(R,N,F){let j=new h;for(let I of N)j.items.push(R.createPair(I,null,F));return j}var k={identify:R=>R instanceof Set,nodeClass:h,default:!1,tag:"tag:yaml.org,2002:set",resolve:y,createNode:w},$=(R,N)=>{let F=N.split(":").reduce((j,I)=>j*60+Number(I),0);return R==="-"?-F:F},E=({value:R})=>{if(isNaN(R)||!isFinite(R))return n.stringifyNumber(R);let N="";R<0&&(N="-",R=Math.abs(R));let F=[R%60];return R<60?F.unshift(0):(R=Math.round((R-F[0])/60),F.unshift(R%60),R>=60&&(R=Math.round((R-F[0])/60),F.unshift(R))),N+F.map(j=>j<10?"0"+String(j):String(j)).join(":").replace(/000000\d*$/,"")},T={identify:R=>typeof R=="number",default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:(R,N,F)=>$(N,F.replace(/_/g,"")),stringify:E},D={identify:R=>typeof R=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:(R,N,F)=>$(N,F.replace(/_/g,"")),stringify:E},p={identify:R=>R instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:(R,N,F,j,I,X,oe,ue,he)=>{ue&&(ue=(ue+"00").substr(1,3));let $e=Date.UTC(N,F-1,j,I||0,X||0,oe||0,ue||0);if(he&&he!=="Z"){let We=$(he[0],he.slice(1));Math.abs(We)<30&&(We*=60),$e-=6e4*We}return new Date($e)},stringify:({value:R})=>R.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};function b(R){let N={};return R?typeof YAML_SILENCE_DEPRECATION_WARNINGS<"u"?!YAML_SILENCE_DEPRECATION_WARNINGS:!N.YAML_SILENCE_DEPRECATION_WARNINGS:typeof YAML_SILENCE_WARNINGS<"u"?!YAML_SILENCE_WARNINGS:!N.YAML_SILENCE_WARNINGS}function m(R,N){b(!1)&&console.warn(N?`${N}: ${R}`:R)}function v(R){if(b(!0)){let N=R.replace(/.*yaml[/\\]/i,"").replace(/\.js$/,"").replace(/\\/g,"/");m(`The endpoint 'yaml/${N}' will be removed in a future release.`,"DeprecationWarning")}}var _={};function P(R,N){if(!_[R]&&b(!0)){_[R]=!0;let F=`The option '${R}' will be removed in a future release`;F+=N?`, use '${N}' instead.`:".",m(F,"DeprecationWarning")}}e.binary=r,e.floatTime=D,e.intTime=T,e.omap=d,e.pairs=o,e.set=k,e.timestamp=p,e.warn=m,e.warnFileDeprecation=v,e.warnOptionDeprecation=P}),c1=Ti(e=>{var t=Ys(),n=yu(),r=u1();function i(U,ae,re){let x=new n.YAMLMap(U);if(ae instanceof Map)for(let[Q,fe]of ae)x.items.push(U.createPair(Q,fe,re));else if(ae&&typeof ae=="object")for(let Q of Object.keys(ae))x.items.push(U.createPair(Q,ae[Q],re));return typeof U.sortMapEntries=="function"&&x.items.sort(U.sortMapEntries),x}var s={createNode:i,default:!0,nodeClass:n.YAMLMap,tag:"tag:yaml.org,2002:map",resolve:n.resolveMap};function o(U,ae,re){let x=new n.YAMLSeq(U);if(ae&&ae[Symbol.iterator])for(let Q of ae){let fe=U.createNode(Q,re.wrapScalars,null,re);x.items.push(fe)}return x}var u={createNode:o,default:!0,nodeClass:n.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve:n.resolveSeq},c={identify:U=>typeof U=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n.resolveString,stringify(U,ae,re,x){return ae=Object.assign({actualString:!0},ae),n.stringifyString(U,ae,re,x)},options:n.strOptions},f=[s,u,c],d=U=>typeof U=="bigint"||Number.isInteger(U),h=(U,ae,re)=>n.intOptions.asBigInt?BigInt(U):parseInt(ae,re);function y(U,ae,re){let{value:x}=U;return d(x)&&x>=0?re+x.toString(ae):n.stringifyNumber(U)}var w={identify:U=>U==null,createNode:(U,ae,re)=>re.wrapScalars?new n.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:n.nullOptions,stringify:()=>n.nullOptions.nullStr},k={identify:U=>typeof U=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:U=>U[0]==="t"||U[0]==="T",options:n.boolOptions,stringify:({value:U})=>U?n.boolOptions.trueStr:n.boolOptions.falseStr},$={identify:U=>d(U)&&U>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:(U,ae)=>h(U,ae,8),options:n.intOptions,stringify:U=>y(U,8,"0o")},E={identify:d,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:U=>h(U,U,10),options:n.intOptions,stringify:n.stringifyNumber},T={identify:U=>d(U)&&U>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:(U,ae)=>h(U,ae,16),options:n.intOptions,stringify:U=>y(U,16,"0x")},D={identify:U=>typeof U=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(U,ae)=>ae?NaN:U[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:n.stringifyNumber},p={identify:U=>typeof U=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:U=>parseFloat(U),stringify:({value:U})=>Number(U).toExponential()},b={identify:U=>typeof U=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve(U,ae,re){let x=ae||re,Q=new n.Scalar(parseFloat(U));return x&&x[x.length-1]==="0"&&(Q.minFractionDigits=x.length),Q},stringify:n.stringifyNumber},m=f.concat([w,k,$,E,T,D,p,b]),v=U=>typeof U=="bigint"||Number.isInteger(U),_=({value:U})=>JSON.stringify(U),P=[s,u,{identify:U=>typeof U=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n.resolveString,stringify:_},{identify:U=>U==null,createNode:(U,ae,re)=>re.wrapScalars?new n.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:_},{identify:U=>typeof U=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:U=>U==="true",stringify:_},{identify:v,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:U=>n.intOptions.asBigInt?BigInt(U):parseInt(U,10),stringify:({value:U})=>v(U)?U.toString():JSON.stringify(U)},{identify:U=>typeof U=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:U=>parseFloat(U),stringify:_}];P.scalarFallback=U=>{throw new SyntaxError(`Unresolved plain scalar ${JSON.stringify(U)}`)};var R=({value:U})=>U?n.boolOptions.trueStr:n.boolOptions.falseStr,N=U=>typeof U=="bigint"||Number.isInteger(U);function F(U,ae,re){let x=ae.replace(/_/g,"");if(n.intOptions.asBigInt){switch(re){case 2:x=`0b${x}`;break;case 8:x=`0o${x}`;break;case 16:x=`0x${x}`;break}let fe=BigInt(x);return U==="-"?BigInt(-1)*fe:fe}let Q=parseInt(x,re);return U==="-"?-1*Q:Q}function j(U,ae,re){let{value:x}=U;if(N(x)){let Q=x.toString(ae);return x<0?"-"+re+Q.substr(1):re+Q}return n.stringifyNumber(U)}var I=f.concat([{identify:U=>U==null,createNode:(U,ae,re)=>re.wrapScalars?new n.Scalar(null):null,default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>null,options:n.nullOptions,stringify:()=>n.nullOptions.nullStr},{identify:U=>typeof U=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>!0,options:n.boolOptions,stringify:R},{identify:U=>typeof U=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>!1,options:n.boolOptions,stringify:R},{identify:N,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:(U,ae,re)=>F(ae,re,2),stringify:U=>j(U,2,"0b")},{identify:N,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:(U,ae,re)=>F(ae,re,8),stringify:U=>j(U,8,"0")},{identify:N,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:(U,ae,re)=>F(ae,re,10),stringify:n.stringifyNumber},{identify:N,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:(U,ae,re)=>F(ae,re,16),stringify:U=>j(U,16,"0x")},{identify:U=>typeof U=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:(U,ae)=>ae?NaN:U[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:n.stringifyNumber},{identify:U=>typeof U=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:U=>parseFloat(U.replace(/_/g,"")),stringify:({value:U})=>Number(U).toExponential()},{identify:U=>typeof U=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve(U,ae){let re=new n.Scalar(parseFloat(U.replace(/_/g,"")));if(ae){let x=ae.replace(/_/g,"");x[x.length-1]==="0"&&(re.minFractionDigits=x.length)}return re},stringify:n.stringifyNumber}],r.binary,r.omap,r.pairs,r.set,r.intTime,r.floatTime,r.timestamp),X={core:m,failsafe:f,json:P,yaml11:I},oe={binary:r.binary,bool:k,float:b,floatExp:p,floatNaN:D,floatTime:r.floatTime,int:E,intHex:T,intOct:$,intTime:r.intTime,map:s,null:w,omap:r.omap,pairs:r.pairs,seq:u,set:r.set,timestamp:r.timestamp};function ue(U,ae,re){if(ae){let x=re.filter(fe=>fe.tag===ae),Q=x.find(fe=>!fe.format)||x[0];if(!Q)throw new Error(`Tag ${ae} not found`);return Q}return re.find(x=>(x.identify&&x.identify(U)||x.class&&U instanceof x.class)&&!x.format)}function he(U,ae,re){if(U instanceof n.Node)return U;let{defaultPrefix:x,onTagObj:Q,prevObjects:fe,schema:Te,wrapScalars:ke}=re;ae&&ae.startsWith("!!")&&(ae=x+ae.slice(2));let Fe=ue(U,ae,Te.tags);if(!Fe){if(typeof U.toJSON=="function"&&(U=U.toJSON()),!U||typeof U!="object")return ke?new n.Scalar(U):U;Fe=U instanceof Map?s:U[Symbol.iterator]?u:s}Q&&(Q(Fe),delete re.onTagObj);let we={value:void 0,node:void 0};if(U&&typeof U=="object"&&fe){let V=fe.get(U);if(V){let J=new n.Alias(V);return re.aliasNodes.push(J),J}we.value=U,fe.set(U,we)}return we.node=Fe.createNode?Fe.createNode(re.schema,U,re):ke?new n.Scalar(U):U,ae&&we.node instanceof n.Node&&(we.node.tag=ae),we.node}function $e(U,ae,re,x){let Q=U[x.replace(/\W/g,"")];if(!Q){let fe=Object.keys(U).map(Te=>JSON.stringify(Te)).join(", ");throw new Error(`Unknown schema "${x}"; use one of ${fe}`)}if(Array.isArray(re))for(let fe of re)Q=Q.concat(fe);else typeof re=="function"&&(Q=re(Q.slice()));for(let fe=0;fe<Q.length;++fe){let Te=Q[fe];if(typeof Te=="string"){let ke=ae[Te];if(!ke){let Fe=Object.keys(ae).map(we=>JSON.stringify(we)).join(", ");throw new Error(`Unknown custom tag "${Te}"; use one of ${Fe}`)}Q[fe]=ke}}return Q}var We=(U,ae)=>U.key<ae.key?-1:U.key>ae.key?1:0,ge=class K${constructor({customTags:ae,merge:re,schema:x,sortMapEntries:Q,tags:fe}){this.merge=!!re,this.name=x,this.sortMapEntries=Q===!0?We:Q||null,!ae&&fe&&r.warnOptionDeprecation("tags","customTags"),this.tags=$e(X,oe,ae||fe,x)}createNode(ae,re,x,Q){let fe={defaultPrefix:K$.defaultPrefix,schema:this,wrapScalars:re},Te=Q?Object.assign(Q,fe):fe;return he(ae,x,Te)}createPair(ae,re,x){x||(x={wrapScalars:!0});let Q=this.createNode(ae,x.wrapScalars,null,x),fe=this.createNode(re,x.wrapScalars,null,x);return new n.Pair(Q,fe)}};t._defineProperty(ge,"defaultPrefix",t.defaultTagPrefix),t._defineProperty(ge,"defaultTags",t.defaultTags),e.Schema=ge}),QO=Ti(e=>{var t=Ys(),n=yu(),r=c1(),i={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},s={get binary(){return n.binaryOptions},set binary(b){Object.assign(n.binaryOptions,b)},get bool(){return n.boolOptions},set bool(b){Object.assign(n.boolOptions,b)},get int(){return n.intOptions},set int(b){Object.assign(n.intOptions,b)},get null(){return n.nullOptions},set null(b){Object.assign(n.nullOptions,b)},get str(){return n.strOptions},set str(b){Object.assign(n.strOptions,b)}},o={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:t.defaultTagPrefix},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:t.defaultTagPrefix}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:t.defaultTagPrefix}]}};function u(b,m){if((b.version||b.options.version)==="1.0"){let P=m.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(P)return"!"+P[1];let R=m.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return R?`!${R[1]}/${R[2]}`:`!${m.replace(/^tag:/,"")}`}let v=b.tagPrefixes.find(P=>m.indexOf(P.prefix)===0);if(!v){let P=b.getDefaults().tagPrefixes;v=P&&P.find(R=>m.indexOf(R.prefix)===0)}if(!v)return m[0]==="!"?m:`!<${m}>`;let _=m.substr(v.prefix.length).replace(/[!,[\]{}]/g,P=>({"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"})[P]);return v.handle+_}function c(b,m){if(m instanceof n.Alias)return n.Alias;if(m.tag){let P=b.filter(R=>R.tag===m.tag);if(P.length>0)return P.find(R=>R.format===m.format)||P[0]}let v,_;if(m instanceof n.Scalar){_=m.value;let P=b.filter(R=>R.identify&&R.identify(_)||R.class&&_ instanceof R.class);v=P.find(R=>R.format===m.format)||P.find(R=>!R.format)}else _=m,v=b.find(P=>P.nodeClass&&_ instanceof P.nodeClass);if(!v){let P=_&&_.constructor?_.constructor.name:typeof _;throw new Error(`Tag not resolved for ${P} value`)}return v}function f(b,m,{anchors:v,doc:_}){let P=[],R=_.anchors.getName(b);return R&&(v[R]=b,P.push(`&${R}`)),b.tag?P.push(u(_,b.tag)):m.default||P.push(u(_,m.tag)),P.join(" ")}function d(b,m,v,_){let{anchors:P,schema:R}=m.doc,N;if(!(b instanceof n.Node)){let I={aliasNodes:[],onTagObj:X=>N=X,prevObjects:new Map};b=R.createNode(b,!0,null,I);for(let X of I.aliasNodes){X.source=X.source.node;let oe=P.getName(X.source);oe||(oe=P.newName(),P.map[oe]=X.source)}}if(b instanceof n.Pair)return b.toString(m,v,_);N||(N=c(R.tags,b));let F=f(b,N,m);F.length>0&&(m.indentAtStart=(m.indentAtStart||0)+F.length+1);let j=typeof N.stringify=="function"?N.stringify(b,m,v,_):b instanceof n.Scalar?n.stringifyString(b,m,v,_):b.toString(m,v,_);return F?b instanceof n.Scalar||j[0]==="{"||j[0]==="["?`${F} ${j}`:`${F}
${m.indent}${j}`:j}var h=class z${static validAnchorNode(m){return m instanceof n.Scalar||m instanceof n.YAMLSeq||m instanceof n.YAMLMap}constructor(m){t._defineProperty(this,"map",Object.create(null)),this.prefix=m}createAlias(m,v){return this.setAnchor(m,v),new n.Alias(m)}createMergePair(...m){let v=new n.Merge;return v.value.items=m.map(_=>{if(_ instanceof n.Alias){if(_.source instanceof n.YAMLMap)return _}else if(_ instanceof n.YAMLMap)return this.createAlias(_);throw new Error("Merge sources must be Map nodes or their Aliases")}),v}getName(m){let{map:v}=this;return Object.keys(v).find(_=>v[_]===m)}getNames(){return Object.keys(this.map)}getNode(m){return this.map[m]}newName(m){m||(m=this.prefix);let v=Object.keys(this.map);for(let _=1;;++_){let P=`${m}${_}`;if(!v.includes(P))return P}}resolveNodes(){let{map:m,_cstAliases:v}=this;Object.keys(m).forEach(_=>{m[_]=m[_].resolved}),v.forEach(_=>{_.source=_.source.resolved}),delete this._cstAliases}setAnchor(m,v){if(m!=null&&!z$.validAnchorNode(m))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(v&&/[\x00-\x19\s,[\]{}]/.test(v))throw new Error("Anchor names must not contain whitespace or control characters");let{map:_}=this,P=m&&Object.keys(_).find(R=>_[R]===m);if(P)if(v)P!==v&&(delete _[P],_[v]=m);else return P;else{if(!v){if(!m)return null;v=this.newName()}_[v]=m}return v}},y=(b,m)=>{if(b&&typeof b=="object"){let{tag:v}=b;b instanceof n.Collection?(v&&(m[v]=!0),b.items.forEach(_=>y(_,m))):b instanceof n.Pair?(y(b.key,m),y(b.value,m)):b instanceof n.Scalar&&v&&(m[v]=!0)}return m},w=b=>Object.keys(y(b,{}));function k(b,m){let v={before:[],after:[]},_,P=!1;for(let R of m)if(R.valueRange){if(_!==void 0){let F="Document contains trailing content not separated by a ... or --- line";b.errors.push(new t.YAMLSyntaxError(R,F));break}let N=n.resolveNode(b,R);P&&(N.spaceBefore=!0,P=!1),_=N}else R.comment!==null?(_===void 0?v.before:v.after).push(R.comment):R.type===t.Type.BLANK_LINE&&(P=!0,_===void 0&&v.before.length>0&&!b.commentBefore&&(b.commentBefore=v.before.join(`
`),v.before=[]));if(b.contents=_||null,!_)b.comment=v.before.concat(v.after).join(`
`)||null;else{let R=v.before.join(`
`);if(R){let N=_ instanceof n.Collection&&_.items[0]?_.items[0]:_;N.commentBefore=N.commentBefore?`${R}
${N.commentBefore}`:R}b.comment=v.after.join(`
`)||null}}function $({tagPrefixes:b},m){let[v,_]=m.parameters;if(!v||!_){let P="Insufficient parameters given for %TAG directive";throw new t.YAMLSemanticError(m,P)}if(b.some(P=>P.handle===v)){let P="The %TAG directive must only be given at most once per handle in the same document.";throw new t.YAMLSemanticError(m,P)}return{handle:v,prefix:_}}function E(b,m){let[v]=m.parameters;if(m.name==="YAML:1.0"&&(v="1.0"),!v){let _="Insufficient parameters given for %YAML directive";throw new t.YAMLSemanticError(m,_)}if(!o[v]){let _=`Document will be parsed as YAML ${b.version||b.options.version} rather than YAML ${v}`;b.warnings.push(new t.YAMLWarning(m,_))}return v}function T(b,m,v){let _=[],P=!1;for(let R of m){let{comment:N,name:F}=R;switch(F){case"TAG":try{b.tagPrefixes.push($(b,R))}catch(j){b.errors.push(j)}P=!0;break;case"YAML":case"YAML:1.0":if(b.version){let j="The %YAML directive must only be given at most once per document.";b.errors.push(new t.YAMLSemanticError(R,j))}try{b.version=E(b,R)}catch(j){b.errors.push(j)}P=!0;break;default:if(F){let j=`YAML only supports %TAG and %YAML directives, and not %${F}`;b.warnings.push(new t.YAMLWarning(R,j))}}N&&_.push(N)}if(v&&!P&&(b.version||v.version||b.options.version)==="1.1"){let R=({handle:N,prefix:F})=>({handle:N,prefix:F});b.tagPrefixes=v.tagPrefixes.map(R),b.version=v.version}b.commentBefore=_.join(`
`)||null}function D(b){if(b instanceof n.Collection)return!0;throw new Error("Expected a YAML collection as document contents")}var p=class cy{constructor(m){this.anchors=new h(m.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=m,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}add(m){return D(this.contents),this.contents.add(m)}addIn(m,v){D(this.contents),this.contents.addIn(m,v)}delete(m){return D(this.contents),this.contents.delete(m)}deleteIn(m){return n.isEmptyPath(m)?this.contents==null?!1:(this.contents=null,!0):(D(this.contents),this.contents.deleteIn(m))}getDefaults(){return cy.defaults[this.version]||cy.defaults[this.options.version]||{}}get(m,v){return this.contents instanceof n.Collection?this.contents.get(m,v):void 0}getIn(m,v){return n.isEmptyPath(m)?!v&&this.contents instanceof n.Scalar?this.contents.value:this.contents:this.contents instanceof n.Collection?this.contents.getIn(m,v):void 0}has(m){return this.contents instanceof n.Collection?this.contents.has(m):!1}hasIn(m){return n.isEmptyPath(m)?this.contents!==void 0:this.contents instanceof n.Collection?this.contents.hasIn(m):!1}set(m,v){D(this.contents),this.contents.set(m,v)}setIn(m,v){n.isEmptyPath(m)?this.contents=v:(D(this.contents),this.contents.setIn(m,v))}setSchema(m,v){if(!m&&!v&&this.schema)return;typeof m=="number"&&(m=m.toFixed(1)),m==="1.0"||m==="1.1"||m==="1.2"?(this.version?this.version=m:this.options.version=m,delete this.options.schema):m&&typeof m=="string"&&(this.options.schema=m),Array.isArray(v)&&(this.options.customTags=v);let _=Object.assign({},this.getDefaults(),this.options);this.schema=new r.Schema(_)}parse(m,v){this.options.keepCstNodes&&(this.cstNode=m),this.options.keepNodeTypes&&(this.type="DOCUMENT");let{directives:_=[],contents:P=[],directivesEndMarker:R,error:N,valueRange:F}=m;if(N&&(N.source||(N.source=this),this.errors.push(N)),T(this,_,v),R&&(this.directivesEndMarker=!0),this.range=F?[F.start,F.end]:null,this.setSchema(),this.anchors._cstAliases=[],k(this,P),this.anchors.resolveNodes(),this.options.prettyErrors){for(let j of this.errors)j instanceof t.YAMLError&&j.makePretty();for(let j of this.warnings)j instanceof t.YAMLError&&j.makePretty()}return this}listNonDefaultTags(){return w(this.contents).filter(m=>m.indexOf(r.Schema.defaultPrefix)!==0)}setTagPrefix(m,v){if(m[0]!=="!"||m[m.length-1]!=="!")throw new Error("Handle must start and end with !");if(v){let _=this.tagPrefixes.find(P=>P.handle===m);_?_.prefix=v:this.tagPrefixes.push({handle:m,prefix:v})}else this.tagPrefixes=this.tagPrefixes.filter(_=>_.handle!==m)}toJSON(m,v){let{keepBlobsInJSON:_,mapAsMap:P,maxAliasCount:R}=this.options,N=_&&(typeof m!="string"||!(this.contents instanceof n.Scalar)),F={doc:this,indentStep:"  ",keep:N,mapAsMap:N&&!!P,maxAliasCount:R,stringify:d},j=Object.keys(this.anchors.map);j.length>0&&(F.anchors=new Map(j.map(X=>[this.anchors.map[X],{alias:[],aliasCount:0,count:1}])));let I=n.toJSON(this.contents,m,F);if(typeof v=="function"&&F.anchors)for(let{count:X,res:oe}of F.anchors.values())v(oe,X);return I}toString(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");let m=this.options.indent;if(!Number.isInteger(m)||m<=0){let j=JSON.stringify(m);throw new Error(`"indent" option must be a positive integer, not ${j}`)}this.setSchema();let v=[],_=!1;if(this.version){let j="%YAML 1.2";this.schema.name==="yaml-1.1"&&(this.version==="1.0"?j="%YAML:1.0":this.version==="1.1"&&(j="%YAML 1.1")),v.push(j),_=!0}let P=this.listNonDefaultTags();this.tagPrefixes.forEach(({handle:j,prefix:I})=>{P.some(X=>X.indexOf(I)===0)&&(v.push(`%TAG ${j} ${I}`),_=!0)}),(_||this.directivesEndMarker)&&v.push("---"),this.commentBefore&&((_||!this.directivesEndMarker)&&v.unshift(""),v.unshift(this.commentBefore.replace(/^/gm,"#")));let R={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(m),stringify:d},N=!1,F=null;if(this.contents){this.contents instanceof n.Node&&(this.contents.spaceBefore&&(_||this.directivesEndMarker)&&v.push(""),this.contents.commentBefore&&v.push(this.contents.commentBefore.replace(/^/gm,"#")),R.forceBlockIndent=!!this.comment,F=this.contents.comment);let j=F?null:()=>N=!0,I=d(this.contents,R,()=>F=null,j);v.push(n.addComment(I,"",F))}else this.contents!==void 0&&v.push(d(this.contents,R));return this.comment&&((!N||F)&&v[v.length-1]!==""&&v.push(""),v.push(this.comment.replace(/^/gm,"#"))),v.join(`
`)+`
`}};t._defineProperty(p,"defaults",o),e.Document=p,e.defaultOptions=i,e.scalarOptions=s}),XO=Ti(e=>{var t=JO(),n=QO(),r=c1(),i=Ys(),s=u1();yu();function o(w,k=!0,$){$===void 0&&typeof k=="string"&&($=k,k=!0);let E=Object.assign({},n.Document.defaults[n.defaultOptions.version],n.defaultOptions);return new r.Schema(E).createNode(w,k,$)}var u=class extends n.Document{constructor(w){super(Object.assign({},n.defaultOptions,w))}};function c(w,k){let $=[],E;for(let T of t.parse(w)){let D=new u(k);D.parse(T,E),$.push(D),E=D}return $}function f(w,k){let $=t.parse(w),E=new u(k).parse($[0]);if($.length>1){let T="Source contains multiple documents; please use YAML.parseAllDocuments()";E.errors.unshift(new i.YAMLSemanticError($[1],T))}return E}function d(w,k){let $=f(w,k);if($.warnings.forEach(E=>s.warn(E)),$.errors.length>0)throw $.errors[0];return $.toJSON()}function h(w,k){let $=new u(k);return $.contents=w,String($)}var y={createNode:o,defaultOptions:n.defaultOptions,Document:u,parse:d,parseAllDocuments:c,parseCST:t.parse,parseDocument:f,scalarOptions:n.scalarOptions,stringify:h};e.YAML=y}),l1=Ti((e,t)=>{t.exports=XO().YAML}),ZO=Ti(e=>{var t=yu(),n=Ys();e.findPair=t.findPair,e.parseMap=t.resolveMap,e.parseSeq=t.resolveSeq,e.stringifyNumber=t.stringifyNumber,e.stringifyString=t.stringifyString,e.toJSON=t.toJSON,e.Type=n.Type,e.YAMLError=n.YAMLError,e.YAMLReferenceError=n.YAMLReferenceError,e.YAMLSemanticError=n.YAMLSemanticError,e.YAMLSyntaxError=n.YAMLSyntaxError,e.YAMLWarning=n.YAMLWarning}),f1={};s1(f1,{__parsePrettierYamlConfig:()=>ow,languages:()=>q1,options:()=>x1,parsers:()=>am,printers:()=>sw});var eP=(e,t,n,r)=>{if(!(e&&t==null))return t.replaceAll?t.replaceAll(n,r):n.global?t.replace(n,r):t.split(n).join(r)},Kp=eP,d1="string",h1="array",p1="cursor",m1="indent",zp="align",g1="trim",Yp="group",Gp="fill",Jp="if-break",y1="indent-if-break",Qp="line-suffix",v1="line-suffix-boundary",Zo="line",b1="label",Xp="break-parent",D1=new Set([p1,m1,zp,g1,Yp,Gp,Jp,y1,Qp,v1,Zo,b1,Xp]),tP=(e,t,n)=>{if(!(e&&t==null))return Array.isArray(t)||typeof t=="string"?t[n<0?t.length+n:n]:t.at(n)},yr=tP;function nP(e){if(typeof e=="string")return d1;if(Array.isArray(e))return h1;if(!e)return;let{type:t}=e;if(D1.has(t))return t}var w1=nP,rP=e=>new Intl.ListFormat("en-US",{type:"disjunction"}).format(e);function iP(e){let t=e===null?"null":typeof e;if(t!=="string"&&t!=="object")return`Unexpected doc '${t}', 
Expected it to be 'string' or 'object'.`;if(w1(e))throw new Error("doc is valid.");let n=Object.prototype.toString.call(e);if(n!=="[object Object]")return`Unexpected doc '${n}'.`;let r=rP([...D1].map(i=>`'${i}'`));return`Unexpected doc.type '${e.type}'.
Expected it to be ${r}.`}var sP=class extends Error{constructor(n){super(iP(n));lr(this,"name","InvalidDocError");this.doc=n}},oP=sP;function aP(e,t){if(typeof e=="string")return t(e);let n=new Map;return r(e);function r(s){if(n.has(s))return n.get(s);let o=i(s);return n.set(s,o),o}function i(s){switch(w1(s)){case h1:return t(s.map(r));case Gp:return t({...s,parts:s.parts.map(r)});case Jp:return t({...s,breakContents:r(s.breakContents),flatContents:r(s.flatContents)});case Yp:{let{expandedStates:o,contents:u}=s;return o?(o=o.map(r),u=o[0]):u=r(u),t({...s,contents:u,expandedStates:o})}case zp:case m1:case y1:case b1:case Qp:return t({...s,contents:r(s.contents)});case d1:case p1:case g1:case v1:case Zo:case Xp:return t(s);default:throw new oP(s)}}}function uP(e,t=tm){return aP(e,n=>typeof n=="string"?Un(t,n.split(`
`)):n)}var cP=()=>{},lP=cP;function wf(e,t){return{type:zp,contents:t,n:e}}function _f(e,t={}){return lP(t.expandedStates),{type:Yp,id:t.id,contents:e,break:!!t.shouldBreak,expandedStates:t.expandedStates}}function _1(e){return wf(Number.NEGATIVE_INFINITY,e)}function fP(e){return wf({type:"root"},e)}function dP(e){return wf(-1,e)}function E1(e,t){return _f(e[0],{...t,expandedStates:e})}function S1(e){return{type:Gp,parts:e}}function Zp(e,t="",n={}){return{type:Jp,breakContents:e,flatContents:t,groupId:n.groupId}}function hP(e){return{type:Qp,contents:e}}var em={type:Xp},pP={type:Zo,hard:!0},mP={type:Zo,hard:!0,literal:!0},vu={type:Zo},$1={type:Zo,soft:!0},gt=[pP,em],tm=[mP,em];function Un(e,t){let n=[];for(let r=0;r<t.length;r++)r!==0&&n.push(e),n.push(t[r]);return n}function gP(e){return(t,n,r)=>{let i=!!(r!=null&&r.backwards);if(n===!1)return!1;let{length:s}=t,o=n;for(;o>=0&&o<s;){let u=t.charAt(o);if(e instanceof RegExp){if(!e.test(u))return o}else if(!e.includes(u))return o;i?o--:o++}return o===-1||o===s?o:!1}}var T1=gP(" 	");function yP(e,t,n){let r=!!(n!=null&&n.backwards);if(t===!1)return!1;let i=e.charAt(t);if(r){if(e.charAt(t-1)==="\r"&&i===`
`)return t-2;if(i===`
`||i==="\r"||i==="\u2028"||i==="\u2029")return t-1}else{if(i==="\r"&&e.charAt(t+1)===`
`)return t+2;if(i===`
`||i==="\r"||i==="\u2028"||i==="\u2029")return t+1}return t}var k1=yP;function vP(e,t){let n=t-1;n=T1(e,n,{backwards:!0}),n=k1(e,n,{backwards:!0}),n=T1(e,n,{backwards:!0});let r=k1(e,n,{backwards:!0});return n!==r}var bP=vP,DP=class extends Error{constructor(n,r,i="type"){super(`Unexpected ${r} node ${i}: ${JSON.stringify(n[i])}.`);lr(this,"name","UnexpectedNodeError");this.node=n}},wP=DP;function A1(e,t){let{node:n}=e;if(n.type==="root"&&t.filepath&&/(?:[/\\]|^)\.(?:prettier|stylelint|lintstaged)rc$/u.test(t.filepath))return async r=>{let i=await r(t.originalText,{parser:"json"});return i?[i,gt]:void 0}}A1.getVisitorKeys=()=>[];var _P=A1,bu=null;function Du(e){if(bu!==null&&typeof bu.property){let t=bu;return bu=Du.prototype=null,t}return bu=Du.prototype=e??Object.create(null),new Du}var EP=10;for(let e=0;e<=EP;e++)Du();function SP(e){return Du(e)}function $P(e,t="type"){SP(e);function n(r){let i=r[t],s=e[i];if(!Array.isArray(s))throw Object.assign(new Error(`Missing visitor keys for '${i}'.`),{node:r});return s}return n}var TP=$P,kP=Object.fromEntries(Object.entries({root:["children"],document:["head","body","children"],documentHead:["children"],documentBody:["children"],directive:[],alias:[],blockLiteral:[],blockFolded:["children"],plain:["children"],quoteSingle:[],quoteDouble:[],mapping:["children"],mappingItem:["key","value","children"],mappingKey:["content","children"],mappingValue:["content","children"],sequence:["children"],sequenceItem:["content","children"],flowMapping:["children"],flowMappingItem:["key","value","children"],flowSequence:["children"],flowSequenceItem:["content","children"],comment:[],tag:[],anchor:[]}).map(([e,t])=>[e,[...t,"anchor","tag","indicatorComment","leadingComments","middleComments","trailingComment","endComments"]])),AP=kP,CP=TP(AP),OP=CP;function Ef(e){return e.position.start.offset}function PP(e){return e.position.end.offset}var RP="format",NP=/^\s*#[^\S\n]*@(?:noformat|noprettier)\s*?(?:\n|$)/u,FP=/^\s*#[^\S\n]*@(?:format|prettier)\s*?(?:\n|$)/u,IP=/^\s*@(?:format|prettier)\s*$/u;function MP(e){return IP.test(e)}function LP(e){return FP.test(e)}function jP(e){return NP.test(e)}function qP(e){return`# @${RP}

${e}`}function xP(e){return Array.isArray(e)&&e.length>0}var wu=xP;function ei(e,t){return typeof(e==null?void 0:e.type)=="string"&&(!t||t.includes(e.type))}function C1(e,t,n){return t("children"in e?{...e,children:e.children.map(r=>C1(r,t,e))}:e,n)}function _u(e,t,n){Object.defineProperty(e,t,{get:n,enumerable:!1})}function BP(e,t){let n=0,r=t.length;for(let i=e.position.end.offset-1;i<r;i++){let s=t[i];if(s===`
`&&n++,n===1&&/\S/u.test(s))return!1;if(n===2)return!0}return!1}function O1(e){let{node:t}=e;switch(t.type){case"tag":case"anchor":case"comment":return!1}let n=e.stack.length;for(let r=1;r<n;r++){let i=e.stack[r],s=e.stack[r-1];if(Array.isArray(s)&&typeof i=="number"&&i!==s.length-1)return!1}return!0}function nm(e){return wu(e.children)?nm(yr(!1,e.children,-1)):e}function P1(e){return e.value.trim()==="prettier-ignore"}function WP(e){let{node:t}=e;if(t.type==="documentBody"){let n=e.parent.head;return vr(n)&&P1(yr(!1,n.endComments,-1))}return rs(t)&&P1(yr(!1,t.leadingComments,-1))}function Sf(e){return!wu(e.children)&&!UP(e)}function UP(e){return rs(e)||ea(e)||R1(e)||qr(e)||vr(e)}function rs(e){return wu(e==null?void 0:e.leadingComments)}function ea(e){return wu(e==null?void 0:e.middleComments)}function R1(e){return e==null?void 0:e.indicatorComment}function qr(e){return e==null?void 0:e.trailingComment}function vr(e){return wu(e==null?void 0:e.endComments)}function N1(e){let t=[],n;for(let r of e.split(/( +)/u))r!==" "?n===" "?t.push(r):t.push((t.pop()||"")+r):n===void 0&&t.unshift(""),n=r;return n===" "&&t.push((t.pop()||"")+" "),t[0]===""&&(t.shift(),t.unshift(" "+(t.shift()||""))),t}function VP(e,t,n){let r=t.split(`
`).map((i,s,o)=>s===0&&s===o.length-1?i:s!==0&&s!==o.length-1?i.trim():s===0?i.trimEnd():i.trimStart());return n.proseWrap==="preserve"?r.map(i=>i.length===0?[]:[i]):r.map(i=>i.length===0?[]:N1(i)).reduce((i,s,o)=>o!==0&&r[o-1].length>0&&s.length>0&&!(e==="quoteDouble"&&yr(!1,yr(!1,i,-1),-1).endsWith("\\"))?[...i.slice(0,-1),[...yr(!1,i,-1),...s]]:[...i,s],[]).map(i=>n.proseWrap==="never"?[i.join(" ")]:i)}function HP(e,{parentIndent:t,isLastDescendant:n,options:r}){let i=e.position.start.line===e.position.end.line?"":r.originalText.slice(e.position.start.offset,e.position.end.offset).match(/^[^\n]*\n(.*)$/su)[1],s;if(e.indent===null){let c=i.match(/^(?<leadingSpace> *)[^\n\r ]/mu);s=c?c.groups.leadingSpace.length:Number.POSITIVE_INFINITY}else s=e.indent-1+t;let o=i.split(`
`).map(c=>c.slice(s));if(r.proseWrap==="preserve"||e.type==="blockLiteral")return u(o.map(c=>c.length===0?[]:[c]));return u(o.map(c=>c.length===0?[]:N1(c)).reduce((c,f,d)=>d!==0&&o[d-1].length>0&&f.length>0&&!/^\s/u.test(f[0])&&!/^\s|\s$/u.test(yr(!1,c,-1))?[...c.slice(0,-1),[...yr(!1,c,-1),...f]]:[...c,f],[]).map(c=>c.reduce((f,d)=>f.length>0&&/\s$/u.test(yr(!1,f,-1))?[...f.slice(0,-1),yr(!1,f,-1)+" "+d]:[...f,d],[])).map(c=>r.proseWrap==="never"?[c.join(" ")]:c));function u(c){if(e.chomping==="keep")return yr(!1,c,-1).length===0?c.slice(0,-1):c;let f=0;for(let d=c.length-1;d>=0&&c[d].length===0;d--)f++;return f===0?c:f>=2&&!n?c.slice(0,-(f-1)):c.slice(0,-f)}}function rm(e){if(!e)return!0;switch(e.type){case"plain":case"quoteDouble":case"quoteSingle":case"alias":case"flowMapping":case"flowSequence":return!0;default:return!1}}var im=new WeakMap;function F1(e,t){let{node:n,root:r}=e,i;return im.has(r)?i=im.get(r):(i=new Set,im.set(r,i)),!i.has(n.position.end.line)&&(i.add(n.position.end.line),BP(n,t)&&!I1(e.parent))?$1:""}function I1(e){return vr(e)&&!ei(e,["documentHead","documentBody","flowMapping","flowSequence"])}function br(e,t){return wf(" ".repeat(e),t)}function KP(e,t,n){let{node:r}=e,i=e.ancestors.filter(f=>f.type==="sequence"||f.type==="mapping").length,s=O1(e),o=[r.type==="blockFolded"?">":"|"];r.indent!==null&&o.push(r.indent.toString()),r.chomping!=="clip"&&o.push(r.chomping==="keep"?"+":"-"),R1(r)&&o.push(" ",n("indicatorComment"));let u=HP(r,{parentIndent:i,isLastDescendant:s,options:t}),c=[];for(let[f,d]of u.entries())f===0&&c.push(gt),c.push(S1(Un(vu,d))),f!==u.length-1?c.push(d.length===0?gt:fP(tm)):r.chomping==="keep"&&s&&c.push(_1(d.length===0?gt:tm));return r.indent===null?o.push(dP(br(t.tabWidth,c))):o.push(_1(br(r.indent-1+i,c))),o}var zP=KP;function M1(e,t,n){let{node:r}=e,i=r.type==="flowMapping",s=i?"{":"[",o=i?"}":"]",u=$1;i&&r.children.length>0&&t.bracketSpacing&&(u=vu);let c=yr(!1,r.children,-1),f=(c==null?void 0:c.type)==="flowMappingItem"&&Sf(c.key)&&Sf(c.value);return[s,br(t.tabWidth,[u,YP(e,t,n),t.trailingComma==="none"?"":Zp(","),vr(r)?[gt,Un(gt,e.map(n,"endComments"))]:""]),f?"":u,o]}function YP(e,t,n){return e.map(({isLast:r,node:i,next:s})=>[n(),r?"":[",",vu,i.position.start.line!==s.position.start.line?F1(e,t.originalText):""]],"children")}function GP(e,t,n){var r;let{node:i,parent:s}=e,{key:o,value:u}=i,c=Sf(o),f=Sf(u);if(c&&f)return": ";let d=n("key"),h=JP(i)?" ":"";if(f)return i.type==="flowMappingItem"&&s.type==="flowMapping"?d:i.type==="mappingItem"&&sm(o.content,t)&&!qr(o.content)&&((r=s.tag)==null?void 0:r.value)!=="tag:yaml.org,2002:set"?[d,h,":"]:["? ",br(2,d)];let y=n("value");if(c)return[": ",br(2,y)];if(rs(u)||!rm(o.content))return["? ",br(2,d),gt,...e.map(()=>[n(),gt],"value","leadingComments"),": ",br(2,y)];if(QP(o.content)&&!rs(o.content)&&!ea(o.content)&&!qr(o.content)&&!vr(o)&&!rs(u.content)&&!ea(u.content)&&!vr(u)&&sm(u.content,t))return[d,h,": ",y];let w=Symbol("mappingKey"),k=_f([Zp("? "),_f(br(2,d),{id:w})]),$=[gt,": ",br(2,y)],E=[h,":"];vr(u)&&u.content&&ei(u.content,["flowMapping","flowSequence"])&&u.content.children.length===0?E.push(" "):rs(u.content)||vr(u)&&u.content&&!ei(u.content,["mapping","sequence"])||s.type==="mapping"&&qr(o.content)&&rm(u.content)||ei(u.content,["mapping","sequence"])&&u.content.tag===null&&u.content.anchor===null?E.push(gt):u.content?E.push(vu):qr(u)&&E.push(" "),E.push(y);let T=br(t.tabWidth,E);return sm(o.content,t)&&!rs(o.content)&&!ea(o.content)&&!vr(o)?E1([[d,T]]):E1([[k,Zp($,T,{groupId:w})]])}function sm(e,t){if(!e)return!0;switch(e.type){case"plain":case"quoteSingle":case"quoteDouble":break;case"alias":return!0;default:return!1}if(t.proseWrap==="preserve")return e.position.start.line===e.position.end.line;if(/\\$/mu.test(t.originalText.slice(e.position.start.offset,e.position.end.offset)))return!1;switch(t.proseWrap){case"never":return!e.value.includes(`
`);case"always":return!/[\n ]/u.test(e.value);default:return!1}}function JP(e){var t;return((t=e.key.content)==null?void 0:t.type)==="alias"}function QP(e){if(!e)return!0;switch(e.type){case"plain":case"quoteDouble":case"quoteSingle":return e.position.start.line===e.position.end.line;case"alias":return!0;default:return!1}}var XP=GP;function ZP(e){return C1(e,eR)}function eR(e){switch(e.type){case"document":_u(e,"head",()=>e.children[0]),_u(e,"body",()=>e.children[1]);break;case"documentBody":case"sequenceItem":case"flowSequenceItem":case"mappingKey":case"mappingValue":_u(e,"content",()=>e.children[0]);break;case"mappingItem":case"flowMappingItem":_u(e,"key",()=>e.children[0]),_u(e,"value",()=>e.children[1]);break}return e}var tR=ZP;function nR(e,t,n){let{node:r}=e,i=[];r.type!=="mappingValue"&&rs(r)&&i.push([Un(gt,e.map(n,"leadingComments")),gt]);let{tag:s,anchor:o}=r;s&&i.push(n("tag")),s&&o&&i.push(" "),o&&i.push(n("anchor"));let u="";return ei(r,["mapping","sequence","comment","directive","mappingItem","sequenceItem"])&&!O1(e)&&(u=F1(e,t.originalText)),(s||o)&&(ei(r,["sequence","mapping"])&&!ea(r)?i.push(gt):i.push(" ")),ea(r)&&i.push([r.middleComments.length===1?"":gt,Un(gt,e.map(n,"middleComments")),gt]),WP(e)?i.push(uP(t.originalText.slice(r.position.start.offset,r.position.end.offset).trimEnd())):i.push(_f(rR(e,t,n))),qr(r)&&!ei(r,["document","documentHead"])&&i.push(hP([r.type==="mappingValue"&&!r.content?"":" ",e.parent.type==="mappingKey"&&e.getParentNode(2).type==="mapping"&&rm(r)?"":em,n("trailingComment")])),I1(r)&&i.push(br(r.type==="sequenceItem"?2:0,[gt,Un(gt,e.map(({node:c})=>[bP(t.originalText,Ef(c))?gt:"",n()],"endComments"))])),i.push(u),i}function rR(e,t,n){let{node:r}=e;switch(r.type){case"root":{let i=[];e.each(({node:o,next:u,isFirst:c})=>{c||i.push(gt),i.push(n()),L1(o,u)?(i.push(gt,"..."),qr(o)&&i.push(" ",n("trailingComment"))):u&&!qr(u.head)&&i.push(gt,"---")},"children");let s=nm(r);return(!ei(s,["blockLiteral","blockFolded"])||s.chomping!=="keep")&&i.push(gt),i}case"document":{let i=[];return sR(e,t)==="head"&&((r.head.children.length>0||r.head.endComments.length>0)&&i.push(n("head")),qr(r.head)?i.push(["---"," ",n(["head","trailingComment"])]):i.push("---")),iR(r)&&i.push(n("body")),Un(gt,i)}case"documentHead":return Un(gt,[...e.map(n,"children"),...e.map(n,"endComments")]);case"documentBody":{let{children:i,endComments:s}=r,o="";if(i.length>0&&s.length>0){let u=nm(r);ei(u,["blockFolded","blockLiteral"])?u.chomping!=="keep"&&(o=[gt,gt]):o=gt}return[Un(gt,e.map(n,"children")),o,Un(gt,e.map(n,"endComments"))]}case"directive":return["%",Un(" ",[r.name,...r.parameters])];case"comment":return["#",r.value];case"alias":return["*",r.value];case"tag":return t.originalText.slice(r.position.start.offset,r.position.end.offset);case"anchor":return["&",r.value];case"plain":return Eu(r.type,t.originalText.slice(r.position.start.offset,r.position.end.offset),t);case"quoteDouble":case"quoteSingle":{let i="'",s='"',o=t.originalText.slice(r.position.start.offset+1,r.position.end.offset-1);if(r.type==="quoteSingle"&&o.includes("\\")||r.type==="quoteDouble"&&/\\[^"]/u.test(o)){let c=r.type==="quoteDouble"?s:i;return[c,Eu(r.type,o,t),c]}if(o.includes(s))return[i,Eu(r.type,r.type==="quoteDouble"?Kp(!1,Kp(!1,o,String.raw`\"`,s),"'",i.repeat(2)):o,t),i];if(o.includes(i))return[s,Eu(r.type,r.type==="quoteSingle"?Kp(!1,o,"''",i):o,t),s];let u=t.singleQuote?i:s;return[u,Eu(r.type,o,t),u]}case"blockFolded":case"blockLiteral":return zP(e,t,n);case"mapping":case"sequence":return Un(gt,e.map(n,"children"));case"sequenceItem":return["- ",br(2,r.content?n("content"):"")];case"mappingKey":case"mappingValue":return r.content?n("content"):"";case"mappingItem":case"flowMappingItem":return XP(e,t,n);case"flowMapping":return M1(e,t,n);case"flowSequence":return M1(e,t,n);case"flowSequenceItem":return n("content");default:throw new wP(r,"YAML")}}function iR(e){return e.body.children.length>0||vr(e.body)}function L1(e,t){return qr(e)||t&&(t.head.children.length>0||vr(t.head))}function sR(e,t){let n=e.node;if(e.isFirst&&/---(?:\s|$)/u.test(t.originalText.slice(Ef(n),Ef(n)+4))||n.head.children.length>0||vr(n.head)||qr(n.head))return"head";let r=e.next;return L1(n,r)?!1:r?"root":!1}function Eu(e,t,n){let r=VP(e,t,n);return Un(gt,r.map(i=>S1(Un(vu,i))))}function j1(e,t){if(ei(e))switch(e.type){case"comment":if(MP(e.value))return null;break;case"quoteDouble":case"quoteSingle":t.type="quote";break}}j1.ignoredProperties=new Set(["position"]);var oR={preprocess:tR,embed:_P,print:nR,massageAstNode:j1,insertPragma:qP,getVisitorKeys:OP},aR=oR,q1=[{name:"YAML",type:"data",extensions:[".yml",".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml.mysql"],tmScope:"source.yaml",aceMode:"yaml",aliases:["yml"],codemirrorMode:"yaml",codemirrorMimeType:"text/x-yaml",filenames:[".clang-format",".clang-tidy",".clangd",".gemrc","CITATION.cff","glide.lock","pixi.lock",".prettierrc",".stylelintrc",".lintstagedrc"],parsers:["yaml"],vscodeLanguageIds:["yaml","ansible","dockercompose","github-actions-workflow","home-assistant"],linguistLanguageId:407}],om={bracketSpacing:{category:"Common",type:"boolean",default:!0,description:"Print spaces between brackets.",oppositeDescription:"Do not print spaces between brackets."},singleQuote:{category:"Common",type:"boolean",default:!1,description:"Use single quotes instead of double quotes."},proseWrap:{category:"Common",type:"choice",default:"preserve",description:"How to wrap prose.",choices:[{value:"always",description:"Wrap prose if it exceeds the print width."},{value:"never",description:"Do not wrap prose."},{value:"preserve",description:"Wrap prose as-is."}]}},uR={bracketSpacing:om.bracketSpacing,singleQuote:om.singleQuote,proseWrap:om.proseWrap},x1=uR,am={};s1(am,{yaml:()=>bN});var B1=Up(l1()),Dr=Up(ZO());Dr.default.findPair,Dr.default.toJSON,Dr.default.parseMap,Dr.default.parseSeq,Dr.default.stringifyNumber,Dr.default.stringifyString,Dr.default.Type,Dr.default.YAMLError,Dr.default.YAMLReferenceError;var cR=Dr.default.YAMLSemanticError;Dr.default.YAMLSyntaxError,Dr.default.YAMLWarning;function Zn(e,t=null){"children"in e&&e.children.forEach(n=>Zn(n,e)),"anchor"in e&&e.anchor&&Zn(e.anchor,e),"tag"in e&&e.tag&&Zn(e.tag,e),"leadingComments"in e&&e.leadingComments.forEach(n=>Zn(n,e)),"middleComments"in e&&e.middleComments.forEach(n=>Zn(n,e)),"indicatorComment"in e&&e.indicatorComment&&Zn(e.indicatorComment,e),"trailingComment"in e&&e.trailingComment&&Zn(e.trailingComment,e),"endComments"in e&&e.endComments.forEach(n=>Zn(n,e)),Object.defineProperty(e,"_parent",{value:t,enumerable:!1})}function $f(e){return`${e.line}:${e.column}`}function lR(e){Zn(e);let t=fR(e),n=e.children.slice();e.comments.sort((r,i)=>r.position.start.offset-i.position.end.offset).filter(r=>!r._parent).forEach(r=>{for(;n.length>1&&r.position.start.line>n[0].position.end.line;)n.shift();dR(r,t,n[0])})}function fR(e){let t=Array.from(new Array(e.position.end.line),()=>({}));for(let n of e.comments)t[n.position.start.line-1].comment=n;return W1(t,e),t}function W1(e,t){if(t.position.start.offset!==t.position.end.offset){if("leadingComments"in t){let{start:n}=t.position,{leadingAttachableNode:r}=e[n.line-1];(!r||n.column<r.position.start.column)&&(e[n.line-1].leadingAttachableNode=t)}if("trailingComment"in t&&t.position.end.column>1&&t.type!=="document"&&t.type!=="documentHead"){let{end:n}=t.position,{trailingAttachableNode:r}=e[n.line-1];(!r||n.column>=r.position.end.column)&&(e[n.line-1].trailingAttachableNode=t)}if(t.type!=="root"&&t.type!=="document"&&t.type!=="documentHead"&&t.type!=="documentBody"){let{start:n,end:r}=t.position,i=[r.line].concat(n.line===r.line?[]:n.line);for(let s of i){let o=e[s-1].trailingNode;(!o||r.column>=o.position.end.column)&&(e[s-1].trailingNode=t)}}"children"in t&&t.children.forEach(n=>{W1(e,n)})}}function dR(e,t,n){let r=e.position.start.line,{trailingAttachableNode:i}=t[r-1];if(i){if(i.trailingComment)throw new Error(`Unexpected multiple trailing comment at ${$f(e.position.start)}`);Zn(e,i),i.trailingComment=e;return}for(let o=r;o>=n.position.start.line;o--){let{trailingNode:u}=t[o-1],c;if(u)c=u;else if(o!==r&&t[o-1].comment)c=t[o-1].comment._parent;else continue;if((c.type==="sequence"||c.type==="mapping")&&(c=c.children[0]),c.type==="mappingItem"){let[f,d]=c.children;c=U1(f)?f:d}for(;;){if(hR(c,e)){Zn(e,c),c.endComments.push(e);return}if(!c._parent)break;c=c._parent}break}for(let o=r+1;o<=n.position.end.line;o++){let{leadingAttachableNode:u}=t[o-1];if(u){Zn(e,u),u.leadingComments.push(e);return}}let s=n.children[1];Zn(e,s),s.endComments.push(e)}function hR(e,t){if(e.position.start.offset<t.position.start.offset&&e.position.end.offset>t.position.end.offset)switch(e.type){case"flowMapping":case"flowSequence":return e.children.length===0||t.position.start.line>e.children[e.children.length-1].position.end.line}if(t.position.end.offset<e.position.end.offset)return!1;switch(e.type){case"sequenceItem":return t.position.start.column>e.position.start.column;case"mappingKey":case"mappingValue":return t.position.start.column>e._parent.position.start.column&&(e.children.length===0||e.children.length===1&&e.children[0].type!=="blockFolded"&&e.children[0].type!=="blockLiteral")&&(e.type==="mappingValue"||U1(e));default:return!1}}function U1(e){return e.position.start!==e.position.end&&(e.children.length===0||e.position.start.offset!==e.children[0].position.start.offset)}function an(e,t){return{type:e,position:t}}function pR(e,t,n){return{...an("root",e),children:t,comments:n}}function Tf(e){switch(e.type){case"DOCUMENT":for(let t=e.contents.length-1;t>=0;t--)e.contents[t].type==="BLANK_LINE"?e.contents.splice(t,1):Tf(e.contents[t]);for(let t=e.directives.length-1;t>=0;t--)e.directives[t].type==="BLANK_LINE"&&e.directives.splice(t,1);break;case"FLOW_MAP":case"FLOW_SEQ":case"MAP":case"SEQ":for(let t=e.items.length-1;t>=0;t--){let n=e.items[t];"char"in n||(n.type==="BLANK_LINE"?e.items.splice(t,1):Tf(n))}break;case"MAP_KEY":case"MAP_VALUE":case"SEQ_ITEM":e.node&&Tf(e.node);break;case"ALIAS":case"BLANK_LINE":case"BLOCK_FOLDED":case"BLOCK_LITERAL":case"COMMENT":case"DIRECTIVE":case"PLAIN":case"QUOTE_DOUBLE":case"QUOTE_SINGLE":break;default:throw new Error(`Unexpected node type ${JSON.stringify(e.type)}`)}}function Gs(e,t){return{start:e,end:t}}function V1(e){return{start:e,end:e}}var ta;(function(e){e.Tag="!",e.Anchor="&",e.Comment="#"})(ta||(ta={}));function mR(e,t){return{...an("anchor",e),value:t}}function um(e,t){return{...an("comment",e),value:t}}function gR(e,t,n){return{anchor:t,tag:e,middleComments:n}}function yR(e,t){return{...an("tag",e),value:t}}function H1(e,t,n=()=>!1){let r=e.cstNode,i=[],s=null,o=null,u=null;for(let c of r.props){let f=t.text[c.origStart];switch(f){case ta.Tag:s=s||c,o=yR(t.transformRange(c),e.tag);break;case ta.Anchor:s=s||c,u=mR(t.transformRange(c),r.anchor);break;case ta.Comment:{let d=um(t.transformRange(c),t.text.slice(c.origStart+1,c.origEnd));t.comments.push(d),!n(d)&&s&&s.origEnd<=c.origStart&&c.origEnd<=r.valueRange.origStart&&i.push(d);break}default:throw new Error(`Unexpected leading character ${JSON.stringify(f)}`)}}return gR(o,u,i)}function na(){return{leadingComments:[]}}function kf(e=null){return{trailingComment:e}}function Js(){return{...na(),...kf()}}function vR(e,t,n){return{...an("alias",e),...Js(),...t,value:n}}function bR(e,t){let n=e.cstNode;return vR(t.transformRange({origStart:n.valueRange.origStart-1,origEnd:n.valueRange.origEnd}),t.transformContent(e),n.rawValue)}function DR(e){return{...e,type:"blockFolded"}}function wR(e,t,n,r,i,s){return{...an("blockValue",e),...na(),...t,chomping:n,indent:r,value:i,indicatorComment:s}}var cm;(function(e){e.CLIP="clip",e.STRIP="strip",e.KEEP="keep"})(cm||(cm={}));function K1(e,t){let n=e.cstNode,r=1,i=n.chomping==="CLIP"?0:1,s=n.header.origEnd-n.header.origStart-r-i!==0,o=t.transformRange({origStart:n.header.origStart,origEnd:n.valueRange.origEnd}),u=null,c=H1(e,t,f=>{if(!(o.start.offset<f.position.start.offset&&f.position.end.offset<o.end.offset))return!1;if(u)throw new Error(`Unexpected multiple indicator comments at ${$f(f.position.start)}`);return u=f,!0});return wR(o,c,cm[n.chomping],s?n.blockIndent:null,n.strValue,u)}function _R(e,t){return DR(K1(e,t))}function ER(e){return{...e,type:"blockLiteral"}}function SR(e,t){return ER(K1(e,t))}function $R(e,t){return um(t.transformRange(e.range),e.comment)}function TR(e,t,n){return{...an("directive",e),...Js(),name:t,parameters:n}}function lm(e,t){for(let n of e.props){let r=t.text[n.origStart];switch(r){case ta.Comment:t.comments.push(um(t.transformRange(n),t.text.slice(n.origStart+1,n.origEnd)));break;default:throw new Error(`Unexpected leading character ${JSON.stringify(r)}`)}}}function kR(e,t){return lm(e,t),TR(t.transformRange(e.range),e.name,e.parameters)}function AR(e,t,n,r){return{...an("document",e),...kf(r),children:[t,n]}}function Qs(e=[]){return{endComments:e}}function CR(e,t,n){return{...an("documentBody",e),...Qs(n),children:t?[t]:[]}}function is(e){return e[e.length-1]}function z1(e,t){let n=e.match(t);return n?n.index:-1}function OR(e,t,n){let r=e.cstNode,{comments:i,endComments:s,documentTrailingComment:o,documentHeadTrailingComment:u}=PR(r,t,n),c=t.transformNode(e.contents),{position:f,documentEndPoint:d}=RR(r,c,t);return t.comments.push(...i,...s),{documentBody:CR(f,c,s),documentEndPoint:d,documentTrailingComment:o,documentHeadTrailingComment:u}}function PR(e,t,n){let r=[],i=[],s=[],o=[],u=!1;for(let c=e.contents.length-1;c>=0;c--){let f=e.contents[c];if(f.type==="COMMENT"){let d=t.transformNode(f);n&&n.line===d.position.start.line?o.unshift(d):u?r.unshift(d):d.position.start.offset>=e.valueRange.origEnd?s.unshift(d):r.unshift(d)}else u=!0}if(s.length>1)throw new Error(`Unexpected multiple document trailing comments at ${$f(s[1].position.start)}`);if(o.length>1)throw new Error(`Unexpected multiple documentHead trailing comments at ${$f(o[1].position.start)}`);return{comments:r,endComments:i,documentTrailingComment:is(s)||null,documentHeadTrailingComment:is(o)||null}}function RR(e,t,n){let r=z1(n.text.slice(e.valueRange.origEnd),/^\.\.\./),i=r===-1?e.valueRange.origEnd:Math.max(0,e.valueRange.origEnd-1);n.text[i-1]==="\r"&&i--;let s=n.transformRange({origStart:t!==null?t.position.start.offset:i,origEnd:i}),o=r===-1?s.end:n.transformOffset(e.valueRange.origEnd+3);return{position:s,documentEndPoint:o}}function NR(e,t,n,r){return{...an("documentHead",e),...Qs(n),...kf(r),children:t}}function FR(e,t){let n=e.cstNode,{directives:r,comments:i,endComments:s}=IR(n,t),{position:o,endMarkerPoint:u}=MR(n,r,t);return t.comments.push(...i,...s),{createDocumentHeadWithTrailingComment:c=>(c&&t.comments.push(c),NR(o,r,s,c)),documentHeadEndMarkerPoint:u}}function IR(e,t){let n=[],r=[],i=[],s=!1;for(let o=e.directives.length-1;o>=0;o--){let u=t.transformNode(e.directives[o]);u.type==="comment"?s?r.unshift(u):i.unshift(u):(s=!0,n.unshift(u))}return{directives:n,comments:r,endComments:i}}function MR(e,t,n){let r=z1(n.text.slice(0,e.valueRange.origStart),/---\s*$/);r>0&&!/[\r\n]/.test(n.text[r-1])&&(r=-1);let i=r===-1?{origStart:e.valueRange.origStart,origEnd:e.valueRange.origStart}:{origStart:r,origEnd:r+3};return t.length!==0&&(i.origStart=t[0].position.start.offset),{position:n.transformRange(i),endMarkerPoint:r===-1?null:n.transformOffset(r)}}function LR(e,t){let{createDocumentHeadWithTrailingComment:n,documentHeadEndMarkerPoint:r}=FR(e,t),{documentBody:i,documentEndPoint:s,documentTrailingComment:o,documentHeadTrailingComment:u}=OR(e,t,r),c=n(u);return o&&t.comments.push(o),AR(Gs(c.position.start,s),c,i,o)}function Y1(e,t,n){return{...an("flowCollection",e),...Js(),...Qs(),...t,children:n}}function jR(e,t,n){return{...Y1(e,t,n),type:"flowMapping"}}function G1(e,t,n){return{...an("flowMappingItem",e),...na(),children:[t,n]}}function Af(e,t){let n=[];for(let r of e)r&&"type"in r&&r.type==="COMMENT"?t.comments.push(t.transformNode(r)):n.push(r);return n}function J1(e){let[t,n]=["?",":"].map(r=>{let i=e.find(s=>"char"in s&&s.char===r);return i?{origStart:i.origOffset,origEnd:i.origOffset+1}:null});return{additionalKeyRange:t,additionalValueRange:n}}function Q1(e,t){let n=t;return r=>e.slice(n,n=r)}function X1(e){let t=[],n=Q1(e,1),r=!1;for(let i=1;i<e.length-1;i++){let s=e[i];if("char"in s&&s.char===","){t.push(n(i)),n(i+1),r=!1;continue}r=!0}return r&&t.push(n(e.length-1)),t}function Z1(e,t){return{...an("mappingKey",e),...kf(),...Qs(),children:t?[t]:[]}}function ew(e,t){return{...an("mappingValue",e),...Js(),...Qs(),children:t?[t]:[]}}function fm(e,t,n,r,i){let s=t.transformNode(e.key),o=t.transformNode(e.value),u=s||r?Z1(t.transformRange({origStart:r?r.origStart:s.position.start.offset,origEnd:s?s.position.end.offset:r.origStart+1}),s):null,c=o||i?ew(t.transformRange({origStart:i?i.origStart:o.position.start.offset,origEnd:o?o.position.end.offset:i.origStart+1}),o):null;return n(Gs(u?u.position.start:c.position.start,c?c.position.end:u.position.end),u||Z1(V1(c.position.start),null),c||ew(V1(u.position.end),null))}function qR(e,t){let n=Af(e.cstNode.items,t),r=X1(n),i=e.items.map((u,c)=>{let f=r[c],{additionalKeyRange:d,additionalValueRange:h}=J1(f);return fm(u,t,G1,d,h)}),s=n[0],o=is(n);return jR(t.transformRange({origStart:s.origOffset,origEnd:o.origOffset+1}),t.transformContent(e),i)}function xR(e,t,n){return{...Y1(e,t,n),type:"flowSequence"}}function BR(e,t){return{...an("flowSequenceItem",e),children:[t]}}function WR(e,t){let n=Af(e.cstNode.items,t),r=X1(n),i=e.items.map((u,c)=>{if(u.type!=="PAIR"){let f=t.transformNode(u);return BR(Gs(f.position.start,f.position.end),f)}else{let f=r[c],{additionalKeyRange:d,additionalValueRange:h}=J1(f);return fm(u,t,G1,d,h)}}),s=n[0],o=is(n);return xR(t.transformRange({origStart:s.origOffset,origEnd:o.origOffset+1}),t.transformContent(e),i)}function UR(e,t,n){return{...an("mapping",e),...na(),...t,children:n}}function VR(e,t,n){return{...an("mappingItem",e),...na(),children:[t,n]}}function HR(e,t){let n=e.cstNode;n.items.filter(o=>o.type==="MAP_KEY"||o.type==="MAP_VALUE").forEach(o=>lm(o,t));let r=Af(n.items,t),i=KR(r),s=e.items.map((o,u)=>{let c=i[u],[f,d]=c[0].type==="MAP_VALUE"?[null,c[0].range]:[c[0].range,c.length===1?null:c[1].range];return fm(o,t,VR,f,d)});return UR(Gs(s[0].position.start,is(s).position.end),t.transformContent(e),s)}function KR(e){let t=[],n=Q1(e,0),r=!1;for(let i=0;i<e.length;i++){if(e[i].type==="MAP_VALUE"){t.push(n(i+1)),r=!1;continue}r&&t.push(n(i)),r=!0}return r&&t.push(n(1/0)),t}function zR(e,t,n){return{...an("plain",e),...Js(),...t,value:n}}function YR(e,t,n){for(let r=t;r>=0;r--)if(n.test(e[r]))return r;return-1}function GR(e,t){let n=e.cstNode;return zR(t.transformRange({origStart:n.valueRange.origStart,origEnd:YR(t.text,n.valueRange.origEnd-1,/\S/)+1}),t.transformContent(e),n.strValue)}function JR(e){return{...e,type:"quoteDouble"}}function QR(e,t,n){return{...an("quoteValue",e),...t,...Js(),value:n}}function tw(e,t){let n=e.cstNode;return QR(t.transformRange(n.valueRange),t.transformContent(e),n.strValue)}function XR(e,t){return JR(tw(e,t))}function ZR(e){return{...e,type:"quoteSingle"}}function eN(e,t){return ZR(tw(e,t))}function tN(e,t,n){return{...an("sequence",e),...na(),...Qs(),...t,children:n}}function nN(e,t){return{...an("sequenceItem",e),...Js(),...Qs(),children:t?[t]:[]}}function rN(e,t){let n=Af(e.cstNode.items,t).map((r,i)=>{lm(r,t);let s=t.transformNode(e.items[i]);return nN(Gs(t.transformOffset(r.valueRange.origStart),s===null?t.transformOffset(r.valueRange.origStart+1):s.position.end),s)});return tN(Gs(n[0].position.start,is(n).position.end),t.transformContent(e),n)}function iN(e,t){if(e===null||e.type===void 0&&e.value===null)return null;switch(e.type){case"ALIAS":return bR(e,t);case"BLOCK_FOLDED":return _R(e,t);case"BLOCK_LITERAL":return SR(e,t);case"COMMENT":return $R(e,t);case"DIRECTIVE":return kR(e,t);case"DOCUMENT":return LR(e,t);case"FLOW_MAP":return qR(e,t);case"FLOW_SEQ":return WR(e,t);case"MAP":return HR(e,t);case"PLAIN":return GR(e,t);case"QUOTE_DOUBLE":return XR(e,t);case"QUOTE_SINGLE":return eN(e,t);case"SEQ":return rN(e,t);default:throw new Error(`Unexpected node type ${e.type}`)}}var dm,ra,Su,ia,hm,pm,sN=class{constructor(t,n){Hp(this,ia),o1(this,"text"),o1(this,"comments",[]),Hp(this,ra),Hp(this,Su),this.text=n,a1(this,ra,t)}setOrigRanges(){if(!gu(this,ra).setOrigRanges())for(let t of gu(this,ra))t.setOrigRanges([],0)}transformOffset(t){return Df(this,ia,hm).call(this,{origStart:t,origEnd:t}).start}transformRange(t){let{start:n,end:r}=Df(this,ia,hm).call(this,t);return Gs(n,r)}transformNode(t){return iN(t,this)}transformContent(t){return H1(t,this)}};ra=new WeakMap,Su=new WeakMap,ia=new WeakSet,hm=function(e){if(!dm){let[s]=gu(this,ra),o=Object.getPrototypeOf(Object.getPrototypeOf(s));dm=Object.getOwnPropertyDescriptor(o,"rangeAsLinePos").get}gu(this,Su)??a1(this,Su,{root:{context:{src:this.text}}});let{start:{line:t,col:n},end:{line:r,col:i}}=dm.call({range:{start:Df(this,ia,pm).call(this,e.origStart),end:Df(this,ia,pm).call(this,e.origEnd)},context:gu(this,Su)});return{start:{offset:e.origStart,line:t,column:n},end:{offset:e.origEnd,line:r,column:i}}},pm=function(e){return e<0?0:e>this.text.length?this.text.length:e};var oN=sN;function aN(e,t,n){let r=new SyntaxError(e);return r.name="YAMLSyntaxError",r.source=t,r.position=n,r}function uN(e,t){let n=e.source.range||e.source.valueRange;return aN(e.message,t.text,t.transformRange(n))}function nw(e){if("children"in e){if(e.children.length===1){let t=e.children[0];if(t.type==="plain"&&t.tag===null&&t.anchor===null&&t.value==="")return e.children.splice(0,1),e}e.children.forEach(nw)}return e}function rw(e,t,n,r){let i=t(e);return s=>{r(i,s)&&n(e,i=s)}}function iw(e){if(e===null||!("children"in e))return;let t=e.children;if(t.forEach(iw),e.type==="document"){let[s,o]=e.children;s.position.start.offset===s.position.end.offset?s.position.start=s.position.end=o.position.start:o.position.start.offset===o.position.end.offset&&(o.position.start=o.position.end=s.position.end)}let n=rw(e.position,cN,lN,hN),r=rw(e.position,fN,dN,pN);"endComments"in e&&e.endComments.length!==0&&(n(e.endComments[0].position.start),r(is(e.endComments).position.end));let i=t.filter(s=>s!==null);if(i.length!==0){let s=i[0],o=is(i);n(s.position.start),r(o.position.end),"leadingComments"in s&&s.leadingComments.length!==0&&n(s.leadingComments[0].position.start),"tag"in s&&s.tag&&n(s.tag.position.start),"anchor"in s&&s.anchor&&n(s.anchor.position.start),"trailingComment"in o&&o.trailingComment&&r(o.trailingComment.position.end)}}function cN(e){return e.start}function lN(e,t){e.start=t}function fN(e){return e.end}function dN(e,t){e.end=t}function hN(e,t){return t.offset<e.offset}function pN(e,t){return t.offset>e.offset}function mN(e){let t=B1.default.parseCST(e),n=new oN(t,e);n.setOrigRanges();let r=t.map(s=>new B1.default.Document({merge:!1,keepCstNodes:!0}).parse(s));for(let s of r)for(let o of s.errors)if(!(o instanceof cR&&o.message==='Map keys must be unique; "<<" is repeated'))throw uN(o,n);r.forEach(s=>Tf(s.cstNode));let i=pR(n.transformRange({origStart:0,origEnd:e.length}),r.map(s=>n.transformNode(s)),n.comments);return lR(i),iw(i),nw(i),i}function gN(e,t){let n=new SyntaxError(e+" ("+t.loc.start.line+":"+t.loc.start.column+")");return Object.assign(n,t)}var yN=gN;function vN(e){try{let t=mN(e);return delete t.comments,t}catch(t){throw t!=null&&t.position?yN(t.message,{loc:t.position,cause:t}):t}}var bN={astFormat:"yaml",parse:vN,hasPragma:LP,hasIgnorePragma:jP,locStart:Ef,locEnd:PP},sw={yaml:aR},DN=Up(l1()),ow=DN.default.parse,wN=f1,_N=Object.freeze({__proto__:null,__parsePrettierYamlConfig:ow,default:wN,languages:q1,options:x1,parsers:am,printers:sw}),EN=Object.create,mm=Object.defineProperty,SN=Object.getOwnPropertyDescriptor,$N=Object.getOwnPropertyNames,TN=Object.getPrototypeOf,kN=Object.prototype.hasOwnProperty,aw=e=>{throw TypeError(e)},AN=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),gm=(e,t)=>{for(var n in t)mm(e,n,{get:t[n],enumerable:!0})},CN=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of $N(t))!kN.call(e,i)&&i!==n&&mm(e,i,{get:()=>t[i],enumerable:!(r=SN(t,i))||r.enumerable});return e},ON=(e,t,n)=>(n=e!=null?EN(TN(e)):{},CN(mm(n,"default",{value:e,enumerable:!0}),e)),PN=(e,t,n)=>t.has(e)||aw("Cannot "+n),RN=(e,t,n)=>t.has(e)?aw("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),$u=(e,t,n)=>(PN(e,t,"access private method"),n),NN=AN(e=>{Object.defineProperty(e,"__esModule",{value:!0});function t(){return new Proxy({},{get:()=>s=>s})}var n=/\r\n|[\n\r\u2028\u2029]/;function r(s,o,u){let c=Object.assign({column:0,line:-1},s.start),f=Object.assign({},c,s.end),{linesAbove:d=2,linesBelow:h=3}=u||{},y=c.line,w=c.column,k=f.line,$=f.column,E=Math.max(y-(d+1),0),T=Math.min(o.length,k+h);y===-1&&(E=0),k===-1&&(T=o.length);let D=k-y,p={};if(D)for(let b=0;b<=D;b++){let m=b+y;if(!w)p[m]=!0;else if(b===0){let v=o[m-1].length;p[m]=[w,v-w+1]}else if(b===D)p[m]=[0,$];else{let v=o[m-b].length;p[m]=[0,v]}}else w===$?w?p[y]=[w,0]:p[y]=!0:p[y]=[w,$-w];return{start:E,end:T,markerLines:p}}function i(s,o,u={}){let c=t(),f=s.split(n),{start:d,end:h,markerLines:y}=r(o,f,u),w=o.start&&typeof o.start.column=="number",k=String(h).length,$=s.split(n,h).slice(d,h).map((E,T)=>{let D=d+1+T,p=` ${` ${D}`.slice(-k)} |`,b=y[D],m=!y[D+1];if(b){let v="";if(Array.isArray(b)){let _=E.slice(0,Math.max(b[0]-1,0)).replace(/[^\t]/g," "),P=b[1]||1;v=[`
 `,c.gutter(p.replace(/\d/g," "))," ",_,c.marker("^").repeat(P)].join(""),m&&u.message&&(v+=" "+c.message(u.message))}return[c.marker(">"),c.gutter(p),E.length>0?` ${E}`:"",v].join("")}else return` ${c.gutter(p)}${E.length>0?` ${E}`:""}`}).join(`
`);return u.message&&!w&&($=`${" ".repeat(k+1)}${u.message}
${$}`),$}e.codeFrameColumns=i}),FN={};gm(FN,{__debug:()=>zI,check:()=>HI,doc:()=>b_,format:()=>Hm,formatWithCursor:()=>__,getSupportInfo:()=>KI,util:()=>D_,version:()=>bI});var IN=(e,t,n,r)=>{if(!(e&&t==null))return t.replaceAll?t.replaceAll(n,r):n.global?t.replace(n,r):t.split(n).join(r)},Cf=IN,MN=class{diff(e,t,n={}){let r;typeof n=="function"?(r=n,n={}):"callback"in n&&(r=n.callback);let i=this.castInput(e,n),s=this.castInput(t,n),o=this.removeEmpty(this.tokenize(i,n)),u=this.removeEmpty(this.tokenize(s,n));return this.diffWithOptionsObj(o,u,n,r)}diffWithOptionsObj(e,t,n,r){var i;let s=T=>{if(T=this.postProcess(T,n),r){setTimeout(function(){r(T)},0);return}else return T},o=t.length,u=e.length,c=1,f=o+u;n.maxEditLength!=null&&(f=Math.min(f,n.maxEditLength));let d=(i=n.timeout)!==null&&i!==void 0?i:1/0,h=Date.now()+d,y=[{oldPos:-1,lastComponent:void 0}],w=this.extractCommon(y[0],t,e,0,n);if(y[0].oldPos+1>=u&&w+1>=o)return s(this.buildValues(y[0].lastComponent,t,e));let k=-1/0,$=1/0,E=()=>{for(let T=Math.max(k,-c);T<=Math.min($,c);T+=2){let D,p=y[T-1],b=y[T+1];p&&(y[T-1]=void 0);let m=!1;if(b){let _=b.oldPos-T;m=b&&0<=_&&_<o}let v=p&&p.oldPos+1<u;if(!m&&!v){y[T]=void 0;continue}if(!v||m&&p.oldPos<b.oldPos?D=this.addToPath(b,!0,!1,0,n):D=this.addToPath(p,!1,!0,1,n),w=this.extractCommon(D,t,e,T,n),D.oldPos+1>=u&&w+1>=o)return s(this.buildValues(D.lastComponent,t,e))||!0;y[T]=D,D.oldPos+1>=u&&($=Math.min($,T-1)),w+1>=o&&(k=Math.max(k,T+1))}c++};if(r)(function T(){setTimeout(function(){if(c>f||Date.now()>h)return r(void 0);E()||T()},0)})();else for(;c<=f&&Date.now()<=h;){let T=E();if(T)return T}}addToPath(e,t,n,r,i){let s=e.lastComponent;return s&&!i.oneChangePerToken&&s.added===t&&s.removed===n?{oldPos:e.oldPos+r,lastComponent:{count:s.count+1,added:t,removed:n,previousComponent:s.previousComponent}}:{oldPos:e.oldPos+r,lastComponent:{count:1,added:t,removed:n,previousComponent:s}}}extractCommon(e,t,n,r,i){let s=t.length,o=n.length,u=e.oldPos,c=u-r,f=0;for(;c+1<s&&u+1<o&&this.equals(n[u+1],t[c+1],i);)c++,u++,f++,i.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return f&&!i.oneChangePerToken&&(e.lastComponent={count:f,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=u,c}equals(e,t,n){return n.comparator?n.comparator(e,t):e===t||!!n.ignoreCase&&e.toLowerCase()===t.toLowerCase()}removeEmpty(e){let t=[];for(let n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}castInput(e,t){return e}tokenize(e,t){return Array.from(e)}join(e){return e.join("")}postProcess(e,t){return e}get useLongestToken(){return!1}buildValues(e,t,n){let r=[],i;for(;e;)r.push(e),i=e.previousComponent,delete e.previousComponent,e=i;r.reverse();let s=r.length,o=0,u=0,c=0;for(;o<s;o++){let f=r[o];if(f.removed)f.value=this.join(n.slice(c,c+f.count)),c+=f.count;else{if(!f.added&&this.useLongestToken){let d=t.slice(u,u+f.count);d=d.map(function(h,y){let w=n[c+y];return w.length>h.length?w:h}),f.value=this.join(d)}else f.value=this.join(t.slice(u,u+f.count));u+=f.count,f.added||(c+=f.count)}}return r}},LN=class extends MN{tokenize(e){return e.slice()}join(e){return e}removeEmpty(e){return e}},jN=new LN;function qN(e,t,n){return jN.diff(e,t,n)}function xN(e){let t=e.indexOf("\r");return t!==-1?e.charAt(t+1)===`
`?"crlf":"cr":"lf"}function ym(e){switch(e){case"cr":return"\r";case"crlf":return`\r
`;default:return`
`}}function uw(e,t){let n;switch(t){case`
`:n=/\n/gu;break;case"\r":n=/\r/gu;break;case`\r
`:n=/\r\n/gu;break;default:throw new Error(`Unexpected "eol" ${JSON.stringify(t)}.`)}let r=e.match(n);return r?r.length:0}function BN(e){return Cf(!1,e,/\r\n?/gu,`
`)}var Xs="string",ki="array",ss="cursor",Ai="indent",Ci="align",Oi="trim",Vn="group",ti="fill",er="if-break",Pi="indent-if-break",Ri="line-suffix",Ni="line-suffix-boundary",_n="line",ni="label",wr="break-parent",cw=new Set([ss,Ai,Ci,Oi,Vn,ti,er,Pi,Ri,Ni,_n,ni,wr]),WN=(e,t,n)=>{if(!(e&&t==null))return Array.isArray(t)||typeof t=="string"?t[n<0?t.length+n:n]:t.at(n)},gn=WN;function UN(e){let t=e.length;for(;t>0&&(e[t-1]==="\r"||e[t-1]===`
`);)t--;return t<e.length?e.slice(0,t):e}function VN(e){if(typeof e=="string")return Xs;if(Array.isArray(e))return ki;if(!e)return;let{type:t}=e;if(cw.has(t))return t}var Zs=VN,HN=e=>new Intl.ListFormat("en-US",{type:"disjunction"}).format(e);function KN(e){let t=e===null?"null":typeof e;if(t!=="string"&&t!=="object")return`Unexpected doc '${t}', 
Expected it to be 'string' or 'object'.`;if(Zs(e))throw new Error("doc is valid.");let n=Object.prototype.toString.call(e);if(n!=="[object Object]")return`Unexpected doc '${n}'.`;let r=HN([...cw].map(i=>`'${i}'`));return`Unexpected doc.type '${e.type}'.
Expected it to be ${r}.`}var zN=class extends Error{constructor(t){super(KN(t));lr(this,"name","InvalidDocError");this.doc=t}},sa=zN,lw={};function YN(e,t,n,r){let i=[e];for(;i.length>0;){let s=i.pop();if(s===lw){n(i.pop());continue}n&&i.push(s,lw);let o=Zs(s);if(!o)throw new sa(s);if((t==null?void 0:t(s))!==!1)switch(o){case ki:case ti:{let u=o===ki?s:s.parts;for(let c=u.length,f=c-1;f>=0;--f)i.push(u[f]);break}case er:i.push(s.flatContents,s.breakContents);break;case Vn:if(r&&s.expandedStates)for(let u=s.expandedStates.length,c=u-1;c>=0;--c)i.push(s.expandedStates[c]);else i.push(s.contents);break;case Ci:case Ai:case Pi:case ni:case Ri:i.push(s.contents);break;case Xs:case ss:case Oi:case Ni:case _n:case wr:break;default:throw new sa(s)}}}var vm=YN;function Of(e,t){if(typeof e=="string")return t(e);let n=new Map;return r(e);function r(s){if(n.has(s))return n.get(s);let o=i(s);return n.set(s,o),o}function i(s){switch(Zs(s)){case ki:return t(s.map(r));case ti:return t({...s,parts:s.parts.map(r)});case er:return t({...s,breakContents:r(s.breakContents),flatContents:r(s.flatContents)});case Vn:{let{expandedStates:o,contents:u}=s;return o?(o=o.map(r),u=o[0]):u=r(u),t({...s,contents:u,expandedStates:o})}case Ci:case Ai:case Pi:case ni:case Ri:return t({...s,contents:r(s.contents)});case Xs:case ss:case Oi:case Ni:case _n:case wr:return t(s);default:throw new sa(s)}}}function bm(e,t,n){let r=n,i=!1;function s(o){if(i)return!1;let u=t(o);u!==void 0&&(i=!0,r=u)}return vm(e,s),r}function GN(e){if(e.type===Vn&&e.break||e.type===_n&&e.hard||e.type===wr)return!0}function JN(e){return bm(e,GN,!1)}function fw(e){if(e.length>0){let t=gn(!1,e,-1);!t.expandedStates&&!t.break&&(t.break="propagated")}return null}function QN(e){let t=new Set,n=[];function r(s){if(s.type===wr&&fw(n),s.type===Vn){if(n.push(s),t.has(s))return!1;t.add(s)}}function i(s){s.type===Vn&&n.pop().break&&fw(n)}vm(e,r,i,!0)}function XN(e){return e.type===_n&&!e.hard?e.soft?"":" ":e.type===er?e.flatContents:e}function ZN(e){return Of(e,XN)}function dw(e){for(e=[...e];e.length>=2&&gn(!1,e,-2).type===_n&&gn(!1,e,-1).type===wr;)e.length-=2;if(e.length>0){let t=Tu(gn(!1,e,-1));e[e.length-1]=t}return e}function Tu(e){switch(Zs(e)){case Ai:case Pi:case Vn:case Ri:case ni:{let t=Tu(e.contents);return{...e,contents:t}}case er:return{...e,breakContents:Tu(e.breakContents),flatContents:Tu(e.flatContents)};case ti:return{...e,parts:dw(e.parts)};case ki:return dw(e);case Xs:return UN(e);case Ci:case ss:case Oi:case Ni:case _n:case wr:break;default:throw new sa(e)}return e}function hw(e){return Tu(t2(e))}function e2(e){switch(Zs(e)){case ti:if(e.parts.every(t=>t===""))return"";break;case Vn:if(!e.contents&&!e.id&&!e.break&&!e.expandedStates)return"";if(e.contents.type===Vn&&e.contents.id===e.id&&e.contents.break===e.break&&e.contents.expandedStates===e.expandedStates)return e.contents;break;case Ci:case Ai:case Pi:case Ri:if(!e.contents)return"";break;case er:if(!e.flatContents&&!e.breakContents)return"";break;case ki:{let t=[];for(let n of e){if(!n)continue;let[r,...i]=Array.isArray(n)?n:[n];typeof r=="string"&&typeof gn(!1,t,-1)=="string"?t[t.length-1]+=r:t.push(r),t.push(...i)}return t.length===0?"":t.length===1?t[0]:t}case Xs:case ss:case Oi:case Ni:case _n:case ni:case wr:break;default:throw new sa(e)}return e}function t2(e){return Of(e,t=>e2(t))}function n2(e,t=yw){return Of(e,n=>typeof n=="string"?vw(t,n.split(`
`)):n)}function r2(e){if(e.type===_n)return!0}function i2(e){return bm(e,r2,!1)}function Pf(e,t){return e.type===ni?{...e,contents:t(e.contents)}:t(e)}var s2=()=>{},o2=s2;function Rf(e){return{type:Ai,contents:e}}function oa(e,t){return{type:Ci,contents:t,n:e}}function pw(e,t={}){return o2(t.expandedStates),{type:Vn,id:t.id,contents:e,break:!!t.shouldBreak,expandedStates:t.expandedStates}}function a2(e){return oa(Number.NEGATIVE_INFINITY,e)}function u2(e){return oa({type:"root"},e)}function c2(e){return oa(-1,e)}function l2(e,t){return pw(e[0],{...t,expandedStates:e})}function f2(e){return{type:ti,parts:e}}function d2(e,t="",n={}){return{type:er,breakContents:e,flatContents:t,groupId:n.groupId}}function h2(e,t){return{type:Pi,contents:e,groupId:t.groupId,negate:t.negate}}function Dm(e){return{type:Ri,contents:e}}var p2={type:Ni},Nf={type:wr},m2={type:Oi},wm={type:_n,hard:!0},mw={type:_n,hard:!0,literal:!0},gw={type:_n},g2={type:_n,soft:!0},eo=[wm,Nf],yw=[mw,Nf],to={type:ss};function vw(e,t){let n=[];for(let r=0;r<t.length;r++)r!==0&&n.push(e),n.push(t[r]);return n}function bw(e,t,n){let r=e;if(t>0){for(let i=0;i<Math.floor(t/n);++i)r=Rf(r);r=oa(t%n,r),r=oa(Number.NEGATIVE_INFINITY,r)}return r}function y2(e,t){return e?{type:ni,label:e,contents:t}:t}function Fi(e){var t;if(!e)return"";if(Array.isArray(e)){let n=[];for(let r of e)if(Array.isArray(r))n.push(...Fi(r));else{let i=Fi(r);i!==""&&n.push(i)}return n}return e.type===er?{...e,breakContents:Fi(e.breakContents),flatContents:Fi(e.flatContents)}:e.type===Vn?{...e,contents:Fi(e.contents),expandedStates:(t=e.expandedStates)==null?void 0:t.map(Fi)}:e.type===ti?{type:"fill",parts:e.parts.map(Fi)}:e.contents?{...e,contents:Fi(e.contents)}:e}function v2(e){let t=Object.create(null),n=new Set;return r(Fi(e));function r(s,o,u){var c,f;if(typeof s=="string")return JSON.stringify(s);if(Array.isArray(s)){let d=s.map(r).filter(Boolean);return d.length===1?d[0]:`[${d.join(", ")}]`}if(s.type===_n){let d=((c=u==null?void 0:u[o+1])==null?void 0:c.type)===wr;return s.literal?d?"literalline":"literallineWithoutBreakParent":s.hard?d?"hardline":"hardlineWithoutBreakParent":s.soft?"softline":"line"}if(s.type===wr)return((f=u==null?void 0:u[o-1])==null?void 0:f.type)===_n&&u[o-1].hard?void 0:"breakParent";if(s.type===Oi)return"trim";if(s.type===Ai)return"indent("+r(s.contents)+")";if(s.type===Ci)return s.n===Number.NEGATIVE_INFINITY?"dedentToRoot("+r(s.contents)+")":s.n<0?"dedent("+r(s.contents)+")":s.n.type==="root"?"markAsRoot("+r(s.contents)+")":"align("+JSON.stringify(s.n)+", "+r(s.contents)+")";if(s.type===er)return"ifBreak("+r(s.breakContents)+(s.flatContents?", "+r(s.flatContents):"")+(s.groupId?(s.flatContents?"":', ""')+`, { groupId: ${i(s.groupId)} }`:"")+")";if(s.type===Pi){let d=[];s.negate&&d.push("negate: true"),s.groupId&&d.push(`groupId: ${i(s.groupId)}`);let h=d.length>0?`, { ${d.join(", ")} }`:"";return`indentIfBreak(${r(s.contents)}${h})`}if(s.type===Vn){let d=[];s.break&&s.break!=="propagated"&&d.push("shouldBreak: true"),s.id&&d.push(`id: ${i(s.id)}`);let h=d.length>0?`, { ${d.join(", ")} }`:"";return s.expandedStates?`conditionalGroup([${s.expandedStates.map(y=>r(y)).join(",")}]${h})`:`group(${r(s.contents)}${h})`}if(s.type===ti)return`fill([${s.parts.map(d=>r(d)).join(", ")}])`;if(s.type===Ri)return"lineSuffix("+r(s.contents)+")";if(s.type===Ni)return"lineSuffixBoundary";if(s.type===ni)return`label(${JSON.stringify(s.label)}, ${r(s.contents)})`;if(s.type===ss)return"cursor";throw new Error("Unknown doc type "+s.type)}function i(s){if(typeof s!="symbol")return JSON.stringify(String(s));if(s in t)return t[s];let o=s.description||"symbol";for(let u=0;;u++){let c=o+(u>0?` #${u}`:"");if(!n.has(c))return n.add(c),t[s]=`Symbol.for(${JSON.stringify(c)})`}}}var b2=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC2\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g;function D2(e){return e===12288||e>=65281&&e<=65376||e>=65504&&e<=65510}function w2(e){return e>=4352&&e<=4447||e===8986||e===8987||e===9001||e===9002||e>=9193&&e<=9196||e===9200||e===9203||e===9725||e===9726||e===9748||e===9749||e>=9776&&e<=9783||e>=9800&&e<=9811||e===9855||e>=9866&&e<=9871||e===9875||e===9889||e===9898||e===9899||e===9917||e===9918||e===9924||e===9925||e===9934||e===9940||e===9962||e===9970||e===9971||e===9973||e===9978||e===9981||e===9989||e===9994||e===9995||e===10024||e===10060||e===10062||e>=10067&&e<=10069||e===10071||e>=10133&&e<=10135||e===10160||e===10175||e===11035||e===11036||e===11088||e===11093||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12287||e>=12289&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12591||e>=12593&&e<=12686||e>=12688&&e<=12773||e>=12783&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=94176&&e<=94180||e===94192||e===94193||e>=94208&&e<=100343||e>=100352&&e<=101589||e>=101631&&e<=101640||e>=110576&&e<=110579||e>=110581&&e<=110587||e===110589||e===110590||e>=110592&&e<=110882||e===110898||e>=110928&&e<=110930||e===110933||e>=110948&&e<=110951||e>=110960&&e<=111355||e>=119552&&e<=119638||e>=119648&&e<=119670||e===126980||e===127183||e===127374||e>=127377&&e<=127386||e>=127488&&e<=127490||e>=127504&&e<=127547||e>=127552&&e<=127560||e===127568||e===127569||e>=127584&&e<=127589||e>=127744&&e<=127776||e>=127789&&e<=127797||e>=127799&&e<=127868||e>=127870&&e<=127891||e>=127904&&e<=127946||e>=127951&&e<=127955||e>=127968&&e<=127984||e===127988||e>=127992&&e<=128062||e===128064||e>=128066&&e<=128252||e>=128255&&e<=128317||e>=128331&&e<=128334||e>=128336&&e<=128359||e===128378||e===128405||e===128406||e===128420||e>=128507&&e<=128591||e>=128640&&e<=128709||e===128716||e>=128720&&e<=128722||e>=128725&&e<=128727||e>=128732&&e<=128735||e===128747||e===128748||e>=128756&&e<=128764||e>=128992&&e<=129003||e===129008||e>=129292&&e<=129338||e>=129340&&e<=129349||e>=129351&&e<=129535||e>=129648&&e<=129660||e>=129664&&e<=129673||e>=129679&&e<=129734||e>=129742&&e<=129756||e>=129759&&e<=129769||e>=129776&&e<=129784||e>=131072&&e<=196605||e>=196608&&e<=262141}var _2=e=>!(D2(e)||w2(e)),E2=/[^\x20-\x7F]/u;function S2(e){if(!e)return 0;if(!E2.test(e))return e.length;e=e.replace(b2(),"  ");let t=0;for(let n of e){let r=n.codePointAt(0);r<=31||r>=127&&r<=159||r>=768&&r<=879||(t+=_2(r)?1:2)}return t}var _m=S2,Hn=Symbol("MODE_BREAK"),ri=Symbol("MODE_FLAT"),aa=Symbol("cursor"),Em=Symbol("DOC_FILL_PRINTED_LENGTH");function Dw(){return{value:"",length:0,queue:[]}}function $2(e,t){return Sm(e,{type:"indent"},t)}function T2(e,t,n){return t===Number.NEGATIVE_INFINITY?e.root||Dw():t<0?Sm(e,{type:"dedent"},n):t?t.type==="root"?{...e,root:e}:Sm(e,{type:typeof t=="string"?"stringAlign":"numberAlign",n:t},n):e}function Sm(e,t,n){let r=t.type==="dedent"?e.queue.slice(0,-1):[...e.queue,t],i="",s=0,o=0,u=0;for(let k of r)switch(k.type){case"indent":d(),n.useTabs?c(1):f(n.tabWidth);break;case"stringAlign":d(),i+=k.n,s+=k.n.length;break;case"numberAlign":o+=1,u+=k.n;break;default:throw new Error(`Unexpected type '${k.type}'`)}return y(),{...e,value:i,length:s,queue:r};function c(k){i+="	".repeat(k),s+=n.tabWidth*k}function f(k){i+=" ".repeat(k),s+=k}function d(){n.useTabs?h():y()}function h(){o>0&&c(o),w()}function y(){u>0&&f(u),w()}function w(){o=0,u=0}}function $m(e){let t=0,n=0,r=e.length;e:for(;r--;){let i=e[r];if(i===aa){n++;continue}for(let s=i.length-1;s>=0;s--){let o=i[s];if(o===" "||o==="	")t++;else{e[r]=i.slice(0,s+1);break e}}}if(t>0||n>0)for(e.length=r+1;n-- >0;)e.push(aa);return t}function Ff(e,t,n,r,i,s){if(n===Number.POSITIVE_INFINITY)return!0;let o=t.length,u=[e],c=[];for(;n>=0;){if(u.length===0){if(o===0)return!0;u.push(t[--o]);continue}let{mode:f,doc:d}=u.pop(),h=Zs(d);switch(h){case Xs:c.push(d),n-=_m(d);break;case ki:case ti:{let y=h===ki?d:d.parts,w=d[Em]??0;for(let k=y.length-1;k>=w;k--)u.push({mode:f,doc:y[k]});break}case Ai:case Ci:case Pi:case ni:u.push({mode:f,doc:d.contents});break;case Oi:n+=$m(c);break;case Vn:{if(s&&d.break)return!1;let y=d.break?Hn:f,w=d.expandedStates&&y===Hn?gn(!1,d.expandedStates,-1):d.contents;u.push({mode:y,doc:w});break}case er:{let y=(d.groupId?i[d.groupId]||ri:f)===Hn?d.breakContents:d.flatContents;y&&u.push({mode:f,doc:y});break}case _n:if(f===Hn||d.hard)return!0;d.soft||(c.push(" "),n--);break;case Ri:r=!0;break;case Ni:if(r)return!1;break}}return!1}function If(e,t){let n={},r=t.printWidth,i=ym(t.endOfLine),s=0,o=[{ind:Dw(),mode:Hn,doc:e}],u=[],c=!1,f=[],d=0;for(QN(e);o.length>0;){let{ind:y,mode:w,doc:k}=o.pop();switch(Zs(k)){case Xs:{let $=i!==`
`?Cf(!1,k,`
`,i):k;u.push($),o.length>0&&(s+=_m($));break}case ki:for(let $=k.length-1;$>=0;$--)o.push({ind:y,mode:w,doc:k[$]});break;case ss:if(d>=2)throw new Error("There are too many 'cursor' in doc.");u.push(aa),d++;break;case Ai:o.push({ind:$2(y,t),mode:w,doc:k.contents});break;case Ci:o.push({ind:T2(y,k.n,t),mode:w,doc:k.contents});break;case Oi:s-=$m(u);break;case Vn:switch(w){case ri:if(!c){o.push({ind:y,mode:k.break?Hn:ri,doc:k.contents});break}case Hn:{c=!1;let $={ind:y,mode:ri,doc:k.contents},E=r-s,T=f.length>0;if(!k.break&&Ff($,o,E,T,n))o.push($);else if(k.expandedStates){let D=gn(!1,k.expandedStates,-1);if(k.break){o.push({ind:y,mode:Hn,doc:D});break}else for(let p=1;p<k.expandedStates.length+1;p++)if(p>=k.expandedStates.length){o.push({ind:y,mode:Hn,doc:D});break}else{let b=k.expandedStates[p],m={ind:y,mode:ri,doc:b};if(Ff(m,o,E,T,n)){o.push(m);break}}}else o.push({ind:y,mode:Hn,doc:k.contents});break}}k.id&&(n[k.id]=gn(!1,o,-1).mode);break;case ti:{let $=r-s,E=k[Em]??0,{parts:T}=k,D=T.length-E;if(D===0)break;let p=T[E+0],b=T[E+1],m={ind:y,mode:ri,doc:p},v={ind:y,mode:Hn,doc:p},_=Ff(m,[],$,f.length>0,n,!0);if(D===1){_?o.push(m):o.push(v);break}let P={ind:y,mode:ri,doc:b},R={ind:y,mode:Hn,doc:b};if(D===2){_?o.push(P,m):o.push(R,v);break}let N=T[E+2],F={ind:y,mode:w,doc:{...k,[Em]:E+2}};Ff({ind:y,mode:ri,doc:[p,b,N]},[],$,f.length>0,n,!0)?o.push(F,P,m):_?o.push(F,R,m):o.push(F,R,v);break}case er:case Pi:{let $=k.groupId?n[k.groupId]:w;if($===Hn){let E=k.type===er?k.breakContents:k.negate?k.contents:Rf(k.contents);E&&o.push({ind:y,mode:w,doc:E})}if($===ri){let E=k.type===er?k.flatContents:k.negate?Rf(k.contents):k.contents;E&&o.push({ind:y,mode:w,doc:E})}break}case Ri:f.push({ind:y,mode:w,doc:k.contents});break;case Ni:f.length>0&&o.push({ind:y,mode:w,doc:wm});break;case _n:switch(w){case ri:if(k.hard)c=!0;else{k.soft||(u.push(" "),s+=1);break}case Hn:if(f.length>0){o.push({ind:y,mode:w,doc:k},...f.reverse()),f.length=0;break}k.literal?y.root?(u.push(i,y.root.value),s=y.root.length):(u.push(i),s=0):(s-=$m(u),u.push(i+y.value),s=y.length);break}break;case ni:o.push({ind:y,mode:w,doc:k.contents});break;case wr:break;default:throw new sa(k)}o.length===0&&f.length>0&&(o.push(...f.reverse()),f.length=0)}let h=u.indexOf(aa);if(h!==-1){let y=u.indexOf(aa,h+1);if(y===-1)return{formatted:u.filter(E=>E!==aa).join("")};let w=u.slice(0,h).join(""),k=u.slice(h+1,y).join(""),$=u.slice(y+1).join("");return{formatted:w+k+$,cursorNodeStart:w.length,cursorNodeText:k}}return{formatted:u.join("")}}function k2(e,t,n=0){let r=0;for(let i=n;i<e.length;++i)e[i]==="	"?r=r+t-r%t:r++;return r}var Tm=k2,no,km,Mf,A2=class{constructor(e){RN(this,no),this.stack=[e]}get key(){let{stack:e,siblings:t}=this;return gn(!1,e,t===null?-2:-4)??null}get index(){return this.siblings===null?null:gn(!1,this.stack,-2)}get node(){return gn(!1,this.stack,-1)}get parent(){return this.getNode(1)}get grandparent(){return this.getNode(2)}get isInArray(){return this.siblings!==null}get siblings(){let{stack:e}=this,t=gn(!1,e,-3);return Array.isArray(t)?t:null}get next(){let{siblings:e}=this;return e===null?null:e[this.index+1]}get previous(){let{siblings:e}=this;return e===null?null:e[this.index-1]}get isFirst(){return this.index===0}get isLast(){let{siblings:e,index:t}=this;return e!==null&&t===e.length-1}get isRoot(){return this.stack.length===1}get root(){return this.stack[0]}get ancestors(){return[...$u(this,no,Mf).call(this)]}getName(){let{stack:e}=this,{length:t}=e;return t>1?gn(!1,e,-2):null}getValue(){return gn(!1,this.stack,-1)}getNode(e=0){let t=$u(this,no,km).call(this,e);return t===-1?null:this.stack[t]}getParentNode(e=0){return this.getNode(e+1)}call(e,...t){let{stack:n}=this,{length:r}=n,i=gn(!1,n,-1);for(let s of t)i=i[s],n.push(s,i);try{return e(this)}finally{n.length=r}}callParent(e,t=0){let n=$u(this,no,km).call(this,t+1),r=this.stack.splice(n+1);try{return e(this)}finally{this.stack.push(...r)}}each(e,...t){let{stack:n}=this,{length:r}=n,i=gn(!1,n,-1);for(let s of t)i=i[s],n.push(s,i);try{for(let s=0;s<i.length;++s)n.push(s,i[s]),e(this,s,i),n.length-=2}finally{n.length=r}}map(e,...t){let n=[];return this.each((r,i,s)=>{n[i]=e(r,i,s)},...t),n}match(...e){let t=this.stack.length-1,n=null,r=this.stack[t--];for(let i of e){if(r===void 0)return!1;let s=null;if(typeof n=="number"&&(s=n,n=this.stack[t--],r=this.stack[t--]),i&&!i(r,n,s))return!1;n=this.stack[t--],r=this.stack[t--]}return!0}findAncestor(e){for(let t of $u(this,no,Mf).call(this))if(e(t))return t}hasAncestor(e){for(let t of $u(this,no,Mf).call(this))if(e(t))return!0;return!1}};no=new WeakSet,km=function(e){let{stack:t}=this;for(let n=t.length-1;n>=0;n-=2)if(!Array.isArray(t[n])&&--e<0)return n;return-1},Mf=function*(){let{stack:e}=this;for(let t=e.length-3;t>=0;t-=2){let n=e[t];Array.isArray(n)||(yield n)}};var C2=A2,ww=new Proxy(()=>{},{get:()=>ww}),Am=ww;function O2(e){return e!==null&&typeof e=="object"}var P2=O2;function*Lf(e,t){let{getVisitorKeys:n,filter:r=()=>!0}=t,i=s=>P2(s)&&r(s);for(let s of n(e)){let o=e[s];if(Array.isArray(o))for(let u of o)i(u)&&(yield u);else i(o)&&(yield o)}}function*R2(e,t){let n=[e];for(let r=0;r<n.length;r++){let i=n[r];for(let s of Lf(i,t))yield s,n.push(s)}}function N2(e,t){return Lf(e,t).next().done}function ku(e){return(t,n,r)=>{let i=!!(r!=null&&r.backwards);if(n===!1)return!1;let{length:s}=t,o=n;for(;o>=0&&o<s;){let u=t.charAt(o);if(e instanceof RegExp){if(!e.test(u))return o}else if(!e.includes(u))return o;i?o--:o++}return o===-1||o===s?o:!1}}var F2=ku(/\s/u),os=ku(" 	"),_w=ku(",; 	"),Ew=ku(/[^\n\r]/u);function I2(e,t,n){let r=!!(n!=null&&n.backwards);if(t===!1)return!1;let i=e.charAt(t);if(r){if(e.charAt(t-1)==="\r"&&i===`
`)return t-2;if(i===`
`||i==="\r"||i==="\u2028"||i==="\u2029")return t-1}else{if(i==="\r"&&e.charAt(t+1)===`
`)return t+2;if(i===`
`||i==="\r"||i==="\u2028"||i==="\u2029")return t+1}return t}var ro=I2;function M2(e,t,n={}){let r=os(e,n.backwards?t-1:t,n),i=ro(e,r,n);return r!==i}var as=M2;function L2(e){return Array.isArray(e)&&e.length>0}var j2=L2,Sw=new Set(["tokens","comments","parent","enclosingNode","precedingNode","followingNode"]),q2=e=>Object.keys(e).filter(t=>!Sw.has(t));function x2(e){return e?t=>e(t,Sw):q2}var jf=x2;function B2(e){let t=e.type||e.kind||"(unknown type)",n=String(e.name||e.id&&(typeof e.id=="object"?e.id.name:e.id)||e.key&&(typeof e.key=="object"?e.key.name:e.key)||e.value&&(typeof e.value=="object"?"":String(e.value))||e.operator||"");return n.length>20&&(n=n.slice(0,19)+"…"),t+(n?" "+n:"")}function Cm(e,t){(e.comments??(e.comments=[])).push(t),t.printed=!1,t.nodeDescription=B2(e)}function Au(e,t){t.leading=!0,t.trailing=!1,Cm(e,t)}function io(e,t,n){t.leading=!1,t.trailing=!1,n&&(t.marker=n),Cm(e,t)}function Cu(e,t){t.leading=!1,t.trailing=!0,Cm(e,t)}var Om=new WeakMap;function Pm(e,t){if(Om.has(e))return Om.get(e);let{printer:{getCommentChildNodes:n,canAttachComment:r,getVisitorKeys:i},locStart:s,locEnd:o}=t;if(!r)return[];let u=((n==null?void 0:n(e,t))??[...Lf(e,{getVisitorKeys:jf(i)})]).flatMap(c=>r(c)?[c]:Pm(c,t));return u.sort((c,f)=>s(c)-s(f)||o(c)-o(f)),Om.set(e,u),u}function $w(e,t,n,r){let{locStart:i,locEnd:s}=n,o=i(t),u=s(t),c=Pm(e,n),f,d,h=0,y=c.length;for(;h<y;){let w=h+y>>1,k=c[w],$=i(k),E=s(k);if($<=o&&u<=E)return $w(k,t,n,k);if(E<=o){f=k,h=w+1;continue}if(u<=$){d=k,y=w;continue}throw new Error("Comment location overlaps with node location")}if((r==null?void 0:r.type)==="TemplateLiteral"){let{quasis:w}=r,k=Nm(w,t,n);f&&Nm(w,f,n)!==k&&(f=null),d&&Nm(w,d,n)!==k&&(d=null)}return{enclosingNode:r,precedingNode:f,followingNode:d}}var Rm=()=>!1;function W2(e,t){let{comments:n}=e;if(delete e.comments,!j2(n)||!t.printer.canAttachComment)return;let r=[],{printer:{experimentalFeatures:{avoidAstMutation:i=!1}={},handleComments:s={}},originalText:o}=t,{ownLine:u=Rm,endOfLine:c=Rm,remaining:f=Rm}=s,d=n.map((h,y)=>({...$w(e,h,t),comment:h,text:o,options:t,ast:e,isLastComment:n.length-1===y}));for(let[h,y]of d.entries()){let{comment:w,precedingNode:k,enclosingNode:$,followingNode:E,text:T,options:D,ast:p,isLastComment:b}=y,m;if(i?m=[y]:(w.enclosingNode=$,w.precedingNode=k,w.followingNode=E,m=[w,T,D,p,b]),U2(T,D,d,h))w.placement="ownLine",u(...m)||(E?Au(E,w):k?Cu(k,w):io($||p,w));else if(V2(T,D,d,h))w.placement="endOfLine",c(...m)||(k?Cu(k,w):E?Au(E,w):io($||p,w));else if(w.placement="remaining",!f(...m))if(k&&E){let v=r.length;v>0&&r[v-1].followingNode!==E&&kw(r,D),r.push(y)}else k?Cu(k,w):E?Au(E,w):io($||p,w)}if(kw(r,t),!i)for(let h of n)delete h.precedingNode,delete h.enclosingNode,delete h.followingNode}var Tw=e=>!/[\S\n\u2028\u2029]/u.test(e);function U2(e,t,n,r){let{comment:i,precedingNode:s}=n[r],{locStart:o,locEnd:u}=t,c=o(i);if(s)for(let f=r-1;f>=0;f--){let{comment:d,precedingNode:h}=n[f];if(h!==s||!Tw(e.slice(u(d),c)))break;c=o(d)}return as(e,c,{backwards:!0})}function V2(e,t,n,r){let{comment:i,followingNode:s}=n[r],{locStart:o,locEnd:u}=t,c=u(i);if(s)for(let f=r+1;f<n.length;f++){let{comment:d,followingNode:h}=n[f];if(h!==s||!Tw(e.slice(c,o(d))))break;c=u(d)}return as(e,c)}function kw(e,t){var n,r;let i=e.length;if(i===0)return;let{precedingNode:s,followingNode:o}=e[0],u=t.locStart(o),c;for(c=i;c>0;--c){let{comment:f,precedingNode:d,followingNode:h}=e[c-1];Am.strictEqual(d,s),Am.strictEqual(h,o);let y=t.originalText.slice(t.locEnd(f),u);if(((r=(n=t.printer).isGap)==null?void 0:r.call(n,y,t))??/^[\s(]*$/u.test(y))u=t.locStart(f);else break}for(let[f,{comment:d}]of e.entries())f<c?Cu(s,d):Au(o,d);for(let f of[s,o])f.comments&&f.comments.length>1&&f.comments.sort((d,h)=>t.locStart(d)-t.locStart(h));e.length=0}function Nm(e,t,n){let r=n.locStart(t)-1;for(let i=1;i<e.length;++i)if(r<n.locStart(e[i]))return i-1;return 0}function H2(e,t){let n=t-1;n=os(e,n,{backwards:!0}),n=ro(e,n,{backwards:!0}),n=os(e,n,{backwards:!0});let r=ro(e,n,{backwards:!0});return n!==r}var Fm=H2;function Aw(e,t){let n=e.node;return n.printed=!0,t.printer.printComment(e,t)}function K2(e,t){var n;let r=e.node,i=[Aw(e,t)],{printer:s,originalText:o,locStart:u,locEnd:c}=t;if((n=s.isBlockComment)!=null&&n.call(s,r)){let d=as(o,c(r))?as(o,u(r),{backwards:!0})?eo:gw:" ";i.push(d)}else i.push(eo);let f=ro(o,os(o,c(r)));return f!==!1&&as(o,f)&&i.push(eo),i}function z2(e,t,n){var r;let i=e.node,s=Aw(e,t),{printer:o,originalText:u,locStart:c}=t,f=(r=o.isBlockComment)==null?void 0:r.call(o,i);if(n!=null&&n.hasLineSuffix&&!(n!=null&&n.isBlock)||as(u,c(i),{backwards:!0})){let d=Fm(u,c(i));return{doc:Dm([eo,d?eo:"",s]),isBlock:f,hasLineSuffix:!0}}return!f||n!=null&&n.hasLineSuffix?{doc:[Dm([" ",s]),Nf],isBlock:f,hasLineSuffix:!0}:{doc:[" ",s],isBlock:f,hasLineSuffix:!1}}function Y2(e,t){let n=e.node;if(!n)return{};let r=t[Symbol.for("printedComments")];if((n.comments||[]).filter(u=>!r.has(u)).length===0)return{leading:"",trailing:""};let i=[],s=[],o;return e.each(()=>{let u=e.node;if(r!=null&&r.has(u))return;let{leading:c,trailing:f}=u;c?i.push(K2(e,t)):f&&(o=z2(e,t,o),s.push(o.doc))},"comments"),{leading:i,trailing:s}}function G2(e,t,n){let{leading:r,trailing:i}=Y2(e,n);return!r&&!i?t:Pf(t,s=>[r,s,i])}function J2(e){let{[Symbol.for("comments")]:t,[Symbol.for("printedComments")]:n}=e;for(let r of t){if(!r.printed&&!n.has(r))throw new Error('Comment "'+r.value.trim()+'" was not printed. Please report this error!');delete r.printed}}var Cw=class extends Error{constructor(){super(...arguments);lr(this,"name","ConfigError")}},Ow=class extends Error{constructor(){super(...arguments);lr(this,"name","UndefinedParserError")}},Q2={checkIgnorePragma:{category:"Special",type:"boolean",default:!1,description:"Check whether the file's first docblock comment contains '@noprettier' or '@noformat' to determine if it should be formatted.",cliCategory:"Other"},cursorOffset:{category:"Special",type:"int",default:-1,range:{start:-1,end:1/0,step:1},description:"Print (to stderr) where a cursor at the given position would move to after formatting.",cliCategory:"Editor"},endOfLine:{category:"Global",type:"choice",default:"lf",description:"Which end of line characters to apply.",choices:[{value:"lf",description:"Line Feed only (\\n), common on Linux and macOS as well as inside git repos"},{value:"crlf",description:"Carriage Return + Line Feed characters (\\r\\n), common on Windows"},{value:"cr",description:"Carriage Return character only (\\r), used very rarely"},{value:"auto",description:`Maintain existing
(mixed values within one file are normalised by looking at what's used after the first line)`}]},filepath:{category:"Special",type:"path",description:"Specify the input filepath. This will be used to do parser inference.",cliName:"stdin-filepath",cliCategory:"Other",cliDescription:"Path to the file to pretend that stdin comes from."},insertPragma:{category:"Special",type:"boolean",default:!1,description:"Insert @format pragma into file's first docblock comment.",cliCategory:"Other"},parser:{category:"Global",type:"choice",default:void 0,description:"Which parser to use.",exception:e=>typeof e=="string"||typeof e=="function",choices:[{value:"flow",description:"Flow"},{value:"babel",description:"JavaScript"},{value:"babel-flow",description:"Flow"},{value:"babel-ts",description:"TypeScript"},{value:"typescript",description:"TypeScript"},{value:"acorn",description:"JavaScript"},{value:"espree",description:"JavaScript"},{value:"meriyah",description:"JavaScript"},{value:"css",description:"CSS"},{value:"less",description:"Less"},{value:"scss",description:"SCSS"},{value:"json",description:"JSON"},{value:"json5",description:"JSON5"},{value:"jsonc",description:"JSON with Comments"},{value:"json-stringify",description:"JSON.stringify"},{value:"graphql",description:"GraphQL"},{value:"markdown",description:"Markdown"},{value:"mdx",description:"MDX"},{value:"vue",description:"Vue"},{value:"yaml",description:"YAML"},{value:"glimmer",description:"Ember / Handlebars"},{value:"html",description:"HTML"},{value:"angular",description:"Angular"},{value:"lwc",description:"Lightning Web Components"},{value:"mjml",description:"MJML"}]},plugins:{type:"path",array:!0,default:[{value:[]}],category:"Global",description:"Add a plugin. Multiple plugins can be passed as separate `--plugin`s.",exception:e=>typeof e=="string"||typeof e=="object",cliName:"plugin",cliCategory:"Config"},printWidth:{category:"Global",type:"int",default:80,description:"The line length where Prettier will try wrap.",range:{start:0,end:1/0,step:1}},rangeEnd:{category:"Special",type:"int",default:1/0,range:{start:0,end:1/0,step:1},description:`Format code ending at a given character offset (exclusive).
The range will extend forwards to the end of the selected statement.`,cliCategory:"Editor"},rangeStart:{category:"Special",type:"int",default:0,range:{start:0,end:1/0,step:1},description:`Format code starting at a given character offset.
The range will extend backwards to the start of the first line containing the selected statement.`,cliCategory:"Editor"},requirePragma:{category:"Special",type:"boolean",default:!1,description:"Require either '@prettier' or '@format' to be present in the file's first docblock comment in order for it to be formatted.",cliCategory:"Other"},tabWidth:{type:"int",category:"Global",default:2,description:"Number of spaces per indentation level.",range:{start:0,end:1/0,step:1}},useTabs:{category:"Global",type:"boolean",default:!1,description:"Indent with tabs instead of spaces."},embeddedLanguageFormatting:{category:"Global",type:"choice",default:"auto",description:"Control how Prettier formats quoted code embedded in the file.",choices:[{value:"auto",description:"Format embedded code if Prettier can automatically identify it."},{value:"off",description:"Never automatically format embedded code."}]}};function Pw({plugins:e=[],showDeprecated:t=!1}={}){let n=e.flatMap(i=>i.languages??[]),r=[];for(let i of Z2(Object.assign({},...e.map(({options:s})=>s),Q2)))!t&&i.deprecated||(Array.isArray(i.choices)&&(t||(i.choices=i.choices.filter(s=>!s.deprecated)),i.name==="parser"&&(i.choices=[...i.choices,...X2(i.choices,n,e)])),i.pluginDefaults=Object.fromEntries(e.filter(s=>{var o;return((o=s.defaultOptions)==null?void 0:o[i.name])!==void 0}).map(s=>[s.name,s.defaultOptions[i.name]])),r.push(i));return{languages:n,options:r}}function*X2(e,t,n){let r=new Set(e.map(i=>i.value));for(let i of t)if(i.parsers){for(let s of i.parsers)if(!r.has(s)){r.add(s);let o=n.find(c=>c.parsers&&Object.prototype.hasOwnProperty.call(c.parsers,s)),u=i.name;o!=null&&o.name&&(u+=` (plugin: ${o.name})`),yield{value:s,description:u}}}}function Z2(e){let t=[];for(let[n,r]of Object.entries(e)){let i={name:n,...r};Array.isArray(i.default)&&(i.default=gn(!1,i.default,-1).value),t.push(i)}return t}var eF=(e,t)=>{if(!(e&&t==null))return t.toReversed||!Array.isArray(t)?t.toReversed():[...t].reverse()},tF=eF,Rw,Nw,Fw,Iw,Mw,nF=((Rw=globalThis.Deno)==null?void 0:Rw.build.os)==="windows"||((Fw=(Nw=globalThis.navigator)==null?void 0:Nw.platform)==null?void 0:Fw.startsWith("Win"))||((Mw=(Iw=globalThis.process)==null?void 0:Iw.platform)==null?void 0:Mw.startsWith("win"))||!1;function Lw(e){if(e=e instanceof URL?e:new URL(e),e.protocol!=="file:")throw new TypeError(`URL must be a file URL: received "${e.protocol}"`);return e}function rF(e){return e=Lw(e),decodeURIComponent(e.pathname.replace(/%(?![0-9A-Fa-f]{2})/g,"%25"))}function iF(e){e=Lw(e);let t=decodeURIComponent(e.pathname.replace(/\//g,"\\").replace(/%(?![0-9A-Fa-f]{2})/g,"%25")).replace(/^\\*([A-Za-z]:)(\\|$)/,"$1\\");return e.hostname!==""&&(t=`\\\\${e.hostname}${t}`),t}function sF(e){return nF?iF(e):rF(e)}var oF=sF,aF=e=>String(e).split(/[/\\]/u).pop();function jw(e,t){if(!t)return;let n=aF(t).toLowerCase();return e.find(({filenames:r})=>r==null?void 0:r.some(i=>i.toLowerCase()===n))??e.find(({extensions:r})=>r==null?void 0:r.some(i=>n.endsWith(i)))}function uF(e,t){if(t)return e.find(({name:n})=>n.toLowerCase()===t)??e.find(({aliases:n})=>n==null?void 0:n.includes(t))??e.find(({extensions:n})=>n==null?void 0:n.includes(`.${t}`))}function qw(e,t){if(t){if(String(t).startsWith("file:"))try{t=oF(t)}catch{return}if(typeof t=="string")return e.find(({isSupported:n})=>n==null?void 0:n({filepath:t}))}}function cF(e,t){let n=tF(!1,e.plugins).flatMap(i=>i.languages??[]),r=uF(n,t.language)??jw(n,t.physicalFile)??jw(n,t.file)??qw(n,t.physicalFile)??qw(n,t.file)??(t.physicalFile,void 0);return r==null?void 0:r.parsers[0]}var lF=cF,ua={key:e=>/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(e)?e:JSON.stringify(e),value(e){if(e===null||typeof e!="object")return JSON.stringify(e);if(Array.isArray(e))return`[${e.map(n=>ua.value(n)).join(", ")}]`;let t=Object.keys(e);return t.length===0?"{}":`{ ${t.map(n=>`${ua.key(n)}: ${ua.value(e[n])}`).join(", ")} }`},pair:({key:e,value:t})=>ua.value({[e]:t})},xw=new Proxy(String,{get:()=>xw}),ii=xw,fF=(e,t,{descriptor:n})=>{let r=[`${ii.yellow(typeof e=="string"?n.key(e):n.pair(e))} is deprecated`];return t&&r.push(`we now treat it as ${ii.blue(typeof t=="string"?n.key(t):n.pair(t))}`),r.join("; ")+"."},Bw=Symbol.for("vnopts.VALUE_NOT_EXIST"),qf=Symbol.for("vnopts.VALUE_UNCHANGED"),Ww=" ".repeat(2),dF=(e,t,n)=>{let{text:r,list:i}=n.normalizeExpectedResult(n.schemas[e].expected(n)),s=[];return r&&s.push(Uw(e,t,r,n.descriptor)),i&&s.push([Uw(e,t,i.title,n.descriptor)].concat(i.values.map(o=>Vw(o,n.loggerPrintWidth))).join(`
`)),Hw(s,n.loggerPrintWidth)};function Uw(e,t,n,r){return[`Invalid ${ii.red(r.key(e))} value.`,`Expected ${ii.blue(n)},`,`but received ${t===Bw?ii.gray("nothing"):ii.red(r.value(t))}.`].join(" ")}function Vw({text:e,list:t},n){let r=[];return e&&r.push(`- ${ii.blue(e)}`),t&&r.push([`- ${ii.blue(t.title)}:`].concat(t.values.map(i=>Vw(i,n-Ww.length).replace(/^|\n/g,`$&${Ww}`))).join(`
`)),Hw(r,n)}function Hw(e,t){if(e.length===1)return e[0];let[n,r]=e,[i,s]=e.map(o=>o.split(`
`,1)[0].length);return i>t&&i>s?r:n}var Im=[],Kw=[];function hF(e,t){if(e===t)return 0;let n=e;e.length>t.length&&(e=t,t=n);let r=e.length,i=t.length;for(;r>0&&e.charCodeAt(~-r)===t.charCodeAt(~-i);)r--,i--;let s=0;for(;s<r&&e.charCodeAt(s)===t.charCodeAt(s);)s++;if(r-=s,i-=s,r===0)return i;let o,u,c,f,d=0,h=0;for(;d<r;)Kw[d]=e.charCodeAt(s+d),Im[d]=++d;for(;h<i;)for(o=t.charCodeAt(s+h),c=h++,u=h,d=0;d<r;d++)f=o===Kw[d]?c:c+1,c=Im[d],u=Im[d]=c>u?f>u?u+1:f:f>c?c+1:f;return u}var zw=(e,t,{descriptor:n,logger:r,schemas:i})=>{let s=[`Ignored unknown option ${ii.yellow(n.pair({key:e,value:t}))}.`],o=Object.keys(i).sort().find(u=>hF(e,u)<3);o&&s.push(`Did you mean ${ii.blue(n.key(o))}?`),r.warn(s.join(" "))},pF=["default","expected","validate","deprecated","forward","redirect","overlap","preprocess","postprocess"];function mF(e,t){let n=new e(t),r=Object.create(n);for(let i of pF)i in t&&(r[i]=gF(t[i],n,us.prototype[i].length));return r}var us=class{static create(e){return mF(this,e)}constructor(e){this.name=e.name}default(e){}expected(e){return"nothing"}validate(e,t){return!1}deprecated(e,t){return!1}forward(e,t){}redirect(e,t){}overlap(e,t,n){return e}preprocess(e,t){return e}postprocess(e,t){return qf}};function gF(e,t,n){return typeof e=="function"?(...r)=>e(...r.slice(0,n-1),t,...r.slice(n-1)):()=>e}var yF=class extends us{constructor(e){super(e),this._sourceName=e.sourceName}expected(e){return e.schemas[this._sourceName].expected(e)}validate(e,t){return t.schemas[this._sourceName].validate(e,t)}redirect(e,t){return this._sourceName}},vF=class extends us{expected(){return"anything"}validate(){return!0}},bF=class extends us{constructor({valueSchema:e,name:t=e.name,...n}){super({...n,name:t}),this._valueSchema=e}expected(e){let{text:t,list:n}=e.normalizeExpectedResult(this._valueSchema.expected(e));return{text:t&&`an array of ${t}`,list:n&&{title:"an array of the following values",values:[{list:n}]}}}validate(e,t){if(!Array.isArray(e))return!1;let n=[];for(let r of e){let i=t.normalizeValidateResult(this._valueSchema.validate(r,t),r);i!==!0&&n.push(i.value)}return n.length===0?!0:{value:n}}deprecated(e,t){let n=[];for(let r of e){let i=t.normalizeDeprecatedResult(this._valueSchema.deprecated(r,t),r);i!==!1&&n.push(...i.map(({value:s})=>({value:[s]})))}return n}forward(e,t){let n=[];for(let r of e){let i=t.normalizeForwardResult(this._valueSchema.forward(r,t),r);n.push(...i.map(Yw))}return n}redirect(e,t){let n=[],r=[];for(let i of e){let s=t.normalizeRedirectResult(this._valueSchema.redirect(i,t),i);"remain"in s&&n.push(s.remain),r.push(...s.redirect.map(Yw))}return n.length===0?{redirect:r}:{redirect:r,remain:n}}overlap(e,t){return e.concat(t)}};function Yw({from:e,to:t}){return{from:[e],to:t}}var DF=class extends us{expected(){return"true or false"}validate(e){return typeof e=="boolean"}};function wF(e,t){let n=Object.create(null);for(let r of e){let i=r[t];if(n[i])throw new Error(`Duplicate ${t} ${JSON.stringify(i)}`);n[i]=r}return n}function _F(e,t){let n=new Map;for(let r of e){let i=r[t];if(n.has(i))throw new Error(`Duplicate ${t} ${JSON.stringify(i)}`);n.set(i,r)}return n}function EF(){let e=Object.create(null);return t=>{let n=JSON.stringify(t);return e[n]?!0:(e[n]=!0,!1)}}function SF(e,t){let n=[],r=[];for(let i of e)t(i)?n.push(i):r.push(i);return[n,r]}function $F(e){return e===Math.floor(e)}function TF(e,t){if(e===t)return 0;let n=typeof e,r=typeof t,i=["undefined","object","boolean","number","string"];return n!==r?i.indexOf(n)-i.indexOf(r):n!=="string"?Number(e)-Number(t):e.localeCompare(t)}function kF(e){return(...t)=>{let n=e(...t);return typeof n=="string"?new Error(n):n}}function Gw(e){return e===void 0?{}:e}function Jw(e){if(typeof e=="string")return{text:e};let{text:t,list:n}=e;return AF((t||n)!==void 0,"Unexpected `expected` result, there should be at least one field."),n?{text:t,list:{title:n.title,values:n.values.map(Jw)}}:{text:t}}function Qw(e,t){return e===!0?!0:e===!1?{value:t}:e}function Xw(e,t,n=!1){return e===!1?!1:e===!0?n?!0:[{value:t}]:"value"in e?[e]:e.length===0?!1:e}function Zw(e,t){return typeof e=="string"||"key"in e?{from:t,to:e}:"from"in e?{from:e.from,to:e.to}:{from:t,to:e.to}}function Mm(e,t){return e===void 0?[]:Array.isArray(e)?e.map(n=>Zw(n,t)):[Zw(e,t)]}function e_(e,t){let n=Mm(typeof e=="object"&&"redirect"in e?e.redirect:e,t);return n.length===0?{remain:t,redirect:n}:typeof e=="object"&&"remain"in e?{remain:e.remain,redirect:n}:{redirect:n}}function AF(e,t){if(!e)throw new Error(t)}var CF=class extends us{constructor(e){super(e),this._choices=_F(e.choices.map(t=>t&&typeof t=="object"?t:{value:t}),"value")}expected({descriptor:e}){let t=Array.from(this._choices.keys()).map(i=>this._choices.get(i)).filter(({hidden:i})=>!i).map(i=>i.value).sort(TF).map(e.value),n=t.slice(0,-2),r=t.slice(-2);return{text:n.concat(r.join(" or ")).join(", "),list:{title:"one of the following values",values:t}}}validate(e){return this._choices.has(e)}deprecated(e){let t=this._choices.get(e);return t&&t.deprecated?{value:e}:!1}forward(e){let t=this._choices.get(e);return t?t.forward:void 0}redirect(e){let t=this._choices.get(e);return t?t.redirect:void 0}},OF=class extends us{expected(){return"a number"}validate(e,t){return typeof e=="number"}},PF=class extends OF{expected(){return"an integer"}validate(e,t){return t.normalizeValidateResult(super.validate(e,t),e)===!0&&$F(e)}},t_=class extends us{expected(){return"a string"}validate(e){return typeof e=="string"}},RF=ua,NF=zw,FF=dF,IF=fF,MF=class{constructor(e,t){let{logger:n=console,loggerPrintWidth:r=80,descriptor:i=RF,unknown:s=NF,invalid:o=FF,deprecated:u=IF,missing:c=()=>!1,required:f=()=>!1,preprocess:d=y=>y,postprocess:h=()=>qf}=t||{};this._utils={descriptor:i,logger:n||{warn:()=>{}},loggerPrintWidth:r,schemas:wF(e,"name"),normalizeDefaultResult:Gw,normalizeExpectedResult:Jw,normalizeDeprecatedResult:Xw,normalizeForwardResult:Mm,normalizeRedirectResult:e_,normalizeValidateResult:Qw},this._unknownHandler=s,this._invalidHandler=kF(o),this._deprecatedHandler=u,this._identifyMissing=(y,w)=>!(y in w)||c(y,w),this._identifyRequired=f,this._preprocess=d,this._postprocess=h,this.cleanHistory()}cleanHistory(){this._hasDeprecationWarned=EF()}normalize(e){let t={},n=[this._preprocess(e,this._utils)],r=()=>{for(;n.length!==0;){let i=n.shift(),s=this._applyNormalization(i,t);n.push(...s)}};r();for(let i of Object.keys(this._utils.schemas)){let s=this._utils.schemas[i];if(!(i in t)){let o=Gw(s.default(this._utils));"value"in o&&n.push({[i]:o.value})}}r();for(let i of Object.keys(this._utils.schemas)){if(!(i in t))continue;let s=this._utils.schemas[i],o=t[i],u=s.postprocess(o,this._utils);u!==qf&&(this._applyValidation(u,i,s),t[i]=u)}return this._applyPostprocess(t),this._applyRequiredCheck(t),t}_applyNormalization(e,t){let n=[],{knownKeys:r,unknownKeys:i}=this._partitionOptionKeys(e);for(let s of r){let o=this._utils.schemas[s],u=o.preprocess(e[s],this._utils);this._applyValidation(u,s,o);let c=({from:h,to:y})=>{n.push(typeof y=="string"?{[y]:h}:{[y.key]:y.value})},f=({value:h,redirectTo:y})=>{let w=Xw(o.deprecated(h,this._utils),u,!0);if(w!==!1)if(w===!0)this._hasDeprecationWarned(s)||this._utils.logger.warn(this._deprecatedHandler(s,y,this._utils));else for(let{value:k}of w){let $={key:s,value:k};if(!this._hasDeprecationWarned($)){let E=typeof y=="string"?{key:y,value:k}:y;this._utils.logger.warn(this._deprecatedHandler($,E,this._utils))}}};Mm(o.forward(u,this._utils),u).forEach(c);let d=e_(o.redirect(u,this._utils),u);if(d.redirect.forEach(c),"remain"in d){let h=d.remain;t[s]=s in t?o.overlap(t[s],h,this._utils):h,f({value:h})}for(let{from:h,to:y}of d.redirect)f({value:h,redirectTo:y})}for(let s of i){let o=e[s];this._applyUnknownHandler(s,o,t,(u,c)=>{n.push({[u]:c})})}return n}_applyRequiredCheck(e){for(let t of Object.keys(this._utils.schemas))if(this._identifyMissing(t,e)&&this._identifyRequired(t))throw this._invalidHandler(t,Bw,this._utils)}_partitionOptionKeys(e){let[t,n]=SF(Object.keys(e).filter(r=>!this._identifyMissing(r,e)),r=>r in this._utils.schemas);return{knownKeys:t,unknownKeys:n}}_applyValidation(e,t,n){let r=Qw(n.validate(e,this._utils),e);if(r!==!0)throw this._invalidHandler(t,r.value,this._utils)}_applyUnknownHandler(e,t,n,r){let i=this._unknownHandler(e,t,this._utils);if(i)for(let s of Object.keys(i)){if(this._identifyMissing(s,i))continue;let o=i[s];s in this._utils.schemas?r(s,o):n[s]=o}}_applyPostprocess(e){let t=this._postprocess(e,this._utils);if(t!==qf){if(t.delete)for(let n of t.delete)delete e[n];if(t.override){let{knownKeys:n,unknownKeys:r}=this._partitionOptionKeys(t.override);for(let i of n){let s=t.override[i];this._applyValidation(s,i,this._utils.schemas[i]),e[i]=s}for(let i of r){let s=t.override[i];this._applyUnknownHandler(i,s,e,(o,u)=>{let c=this._utils.schemas[o];this._applyValidation(u,o,c),e[o]=u})}}}}},Lm;function LF(e,t,{logger:n=!1,isCLI:r=!1,passThrough:i=!1,FlagSchema:s,descriptor:o}={}){if(r){if(!s)throw new Error("'FlagSchema' option is required.");if(!o)throw new Error("'descriptor' option is required.")}else o=ua;let u=i?Array.isArray(i)?(y,w)=>i.includes(y)?{[y]:w}:void 0:(y,w)=>({[y]:w}):(y,w,k)=>{let{_:$,...E}=k.schemas;return zw(y,w,{...k,schemas:E})},c=jF(t,{isCLI:r,FlagSchema:s}),f=new MF(c,{logger:n,unknown:u,descriptor:o}),d=n!==!1;d&&Lm&&(f._hasDeprecationWarned=Lm);let h=f.normalize(e);return d&&(Lm=f._hasDeprecationWarned),h}function jF(e,{isCLI:t,FlagSchema:n}){let r=[];t&&r.push(vF.create({name:"_"}));for(let i of e)r.push(qF(i,{isCLI:t,optionInfos:e,FlagSchema:n})),i.alias&&t&&r.push(yF.create({name:i.alias,sourceName:i.name}));return r}function qF(e,{isCLI:t,optionInfos:n,FlagSchema:r}){let{name:i}=e,s={name:i},o,u={};switch(e.type){case"int":o=PF,t&&(s.preprocess=Number);break;case"string":o=t_;break;case"choice":o=CF,s.choices=e.choices.map(c=>c!=null&&c.redirect?{...c,redirect:{to:{key:e.name,value:c.redirect}}}:c);break;case"boolean":o=DF;break;case"flag":o=r,s.flags=n.flatMap(c=>[c.alias,c.description&&c.name,c.oppositeDescription&&`no-${c.name}`].filter(Boolean));break;case"path":o=t_;break;default:throw new Error(`Unexpected type ${e.type}`)}if(e.exception?s.validate=(c,f,d)=>e.exception(c)||f.validate(c,d):s.validate=(c,f,d)=>c===void 0||f.validate(c,d),e.redirect&&(u.redirect=c=>c?{to:typeof e.redirect=="string"?e.redirect:{key:e.redirect.option,value:e.redirect.value}}:void 0),e.deprecated&&(u.deprecated=!0),t&&!e.array){let c=s.preprocess||(f=>f);s.preprocess=(f,d,h)=>d.preprocess(c(Array.isArray(f)?gn(!1,f,-1):f),h)}return e.array?bF.create({...t?{preprocess:c=>Array.isArray(c)?c:[c]}:{},...u,valueSchema:o.create(s)}):o.create({...s,...u})}var xF=LF,BF=(e,t,n)=>{if(!(e&&t==null)){if(t.findLast)return t.findLast(n);for(let r=t.length-1;r>=0;r--){let i=t[r];if(n(i,r,t))return i}}},n_=BF;function r_(e,t){if(!t)throw new Error("parserName is required.");let n=n_(!1,e,i=>i.parsers&&Object.prototype.hasOwnProperty.call(i.parsers,t));if(n)return n;let r=`Couldn't resolve parser "${t}".`;throw r+=" Plugins must be explicitly added to the standalone bundle.",new Cw(r)}function WF(e,t){if(!t)throw new Error("astFormat is required.");let n=n_(!1,e,i=>i.printers&&Object.prototype.hasOwnProperty.call(i.printers,t));if(n)return n;let r=`Couldn't find plugin for AST format "${t}".`;throw r+=" Plugins must be explicitly added to the standalone bundle.",new Cw(r)}function jm({plugins:e,parser:t}){let n=r_(e,t);return i_(n,t)}function i_(e,t){let n=e.parsers[t];return typeof n=="function"?n():n}function UF(e,t){let n=e.printers[t];return typeof n=="function"?n():n}var s_={astFormat:"estree",printer:{},originalText:void 0,locStart:null,locEnd:null};async function VF(e,t={}){var n;let r={...e};if(!r.parser)if(r.filepath){if(r.parser=lF(r,{physicalFile:r.filepath}),!r.parser)throw new Ow(`No parser could be inferred for file "${r.filepath}".`)}else throw new Ow("No parser and no file path given, couldn't infer a parser.");let i=Pw({plugins:e.plugins,showDeprecated:!0}).options,s={...s_,...Object.fromEntries(i.filter(y=>y.default!==void 0).map(y=>[y.name,y.default]))},o=r_(r.plugins,r.parser),u=await i_(o,r.parser);r.astFormat=u.astFormat,r.locEnd=u.locEnd,r.locStart=u.locStart;let c=(n=o.printers)!=null&&n[u.astFormat]?o:WF(r.plugins,u.astFormat),f=await UF(c,u.astFormat);r.printer=f;let d=c.defaultOptions?Object.fromEntries(Object.entries(c.defaultOptions).filter(([,y])=>y!==void 0)):{},h={...s,...d};for(let[y,w]of Object.entries(h))(r[y]===null||r[y]===void 0)&&(r[y]=w);return r.parser==="json"&&(r.trailingComma="none"),xF(r,i,{passThrough:Object.keys(s_),...t})}var ca=VF,HF=ON(NN());async function KF(e,t){let n=await jm(t),r=n.preprocess?n.preprocess(e,t):e;t.originalText=r;let i;try{i=await n.parse(r,t,t)}catch(s){zF(s,e)}return{text:r,ast:i}}function zF(e,t){let{loc:n}=e;if(n){let r=(0,HF.codeFrameColumns)(t,n,{highlightCode:!0});throw e.message+=`
`+r,e.codeFrame=r,e}throw e}var Ou=KF;async function YF(e,t,n,r,i){let{embeddedLanguageFormatting:s,printer:{embed:o,hasPrettierIgnore:u=()=>!1,getVisitorKeys:c}}=n;if(!o||s!=="auto")return;if(o.length>2)throw new Error("printer.embed has too many parameters. The API changed in Prettier v3. Please update your plugin. See https://prettier.io/docs/plugins#optional-embed");let f=jf(o.getVisitorKeys??c),d=[];w();let h=e.stack;for(let{print:k,node:$,pathStack:E}of d)try{e.stack=E;let T=await k(y,t,e,n);T&&i.set($,T)}catch(T){if(globalThis.PRETTIER_DEBUG)throw T}e.stack=h;function y(k,$){return GF(k,$,n,r)}function w(){let{node:k}=e;if(k===null||typeof k!="object"||u(e))return;for(let E of f(k))Array.isArray(k[E])?e.each(w,E):e.call(w,E);let $=o(e,n);if($){if(typeof $=="function"){d.push({print:$,node:k,pathStack:[...e.stack]});return}i.set(k,$)}}}async function GF(e,t,n,r){let i=await ca({...n,...t,parentParser:n.parser,originalText:e,cursorOffset:void 0,rangeStart:void 0,rangeEnd:void 0},{passThrough:!0}),{ast:s}=await Ou(e,i),o=await r(s,i);return hw(o)}function JF(e,t){let{originalText:n,[Symbol.for("comments")]:r,locStart:i,locEnd:s,[Symbol.for("printedComments")]:o}=t,{node:u}=e,c=i(u),f=s(u);for(let d of r)i(d)>=c&&s(d)<=f&&o.add(d);return n.slice(c,f)}var QF=JF;async function xf(e,t){({ast:e}=await a_(e,t));let n=new Map,r=new C2(e),i=new Map;await YF(r,o,t,xf,i);let s=await o_(r,t,o,void 0,i);if(J2(t),t.cursorOffset>=0){if(t.nodeAfterCursor&&!t.nodeBeforeCursor)return[to,s];if(t.nodeBeforeCursor&&!t.nodeAfterCursor)return[s,to]}return s;function o(c,f){return c===void 0||c===r?u(f):Array.isArray(c)?r.call(()=>u(f),...c):r.call(()=>u(f),c)}function u(c){let f=r.node;if(f==null)return"";let d=f&&typeof f=="object"&&c===void 0;if(d&&n.has(f))return n.get(f);let h=o_(r,t,o,c,i);return d&&n.set(f,h),h}}function o_(e,t,n,r,i){var s;let{node:o}=e,{printer:u}=t,c;switch((s=u.hasPrettierIgnore)!=null&&s.call(u,e)?c=QF(e,t):i.has(o)?c=i.get(o):c=u.print(e,t,n,r),o){case t.cursorNode:c=Pf(c,f=>[to,f,to]);break;case t.nodeBeforeCursor:c=Pf(c,f=>[f,to]);break;case t.nodeAfterCursor:c=Pf(c,f=>[to,f]);break}return u.printComment&&(!u.willPrintOwnComments||!u.willPrintOwnComments(e,t))&&(c=G2(e,c,t)),c}async function a_(e,t){let n=e.comments??[];t[Symbol.for("comments")]=n,t[Symbol.for("printedComments")]=new Set,W2(e,t);let{printer:{preprocess:r}}=t;return e=r?await r(e,t):e,{ast:e,comments:n}}function XF(e,t){let{cursorOffset:n,locStart:r,locEnd:i}=t,s=jf(t.printer.getVisitorKeys),o=w=>r(w)<=n&&i(w)>=n,u=e,c=[e];for(let w of R2(e,{getVisitorKeys:s,filter:o}))c.push(w),u=w;if(N2(u,{getVisitorKeys:s}))return{cursorNode:u};let f,d,h=-1,y=Number.POSITIVE_INFINITY;for(;c.length>0&&(f===void 0||d===void 0);){u=c.pop();let w=f!==void 0,k=d!==void 0;for(let $ of Lf(u,{getVisitorKeys:s})){if(!w){let E=i($);E<=n&&E>h&&(f=$,h=E)}if(!k){let E=r($);E>=n&&E<y&&(d=$,y=E)}}}return{nodeBeforeCursor:f,nodeAfterCursor:d}}var u_=XF;function ZF(e,t){let{printer:{massageAstNode:n,getVisitorKeys:r}}=t;if(!n)return e;let i=jf(r),s=n.ignoredProperties??new Set;return o(e);function o(u,c){if(!(u!==null&&typeof u=="object"))return u;if(Array.isArray(u))return u.map(y=>o(y,c)).filter(Boolean);let f={},d=new Set(i(u));for(let y in u)!Object.prototype.hasOwnProperty.call(u,y)||s.has(y)||(d.has(y)?f[y]=o(u[y],u):f[y]=u[y]);let h=n(u,f,c);if(h!==null)return h??f}}var eI=ZF,tI=(e,t,n)=>{if(!(e&&t==null)){if(t.findLastIndex)return t.findLastIndex(n);for(let r=t.length-1;r>=0;r--){let i=t[r];if(n(i,r,t))return r}return-1}},nI=tI,rI=({parser:e})=>e==="json"||e==="json5"||e==="jsonc"||e==="json-stringify";function iI(e,t){let n=[e.node,...e.parentNodes],r=new Set([t.node,...t.parentNodes]);return n.find(i=>l_.has(i.type)&&r.has(i))}function c_(e){let t=nI(!1,e,n=>n.type!=="Program"&&n.type!=="File");return t===-1?e:e.slice(0,t+1)}function sI(e,t,{locStart:n,locEnd:r}){let i=e.node,s=t.node;if(i===s)return{startNode:i,endNode:s};let o=n(e.node);for(let c of c_(t.parentNodes))if(n(c)>=o)s=c;else break;let u=r(t.node);for(let c of c_(e.parentNodes)){if(r(c)<=u)i=c;else break;if(i===s)break}return{startNode:i,endNode:s}}function qm(e,t,n,r,i=[],s){let{locStart:o,locEnd:u}=n,c=o(e),f=u(e);if(!(t>f||t<c||s==="rangeEnd"&&t===c||s==="rangeStart"&&t===f)){for(let d of Pm(e,n)){let h=qm(d,t,n,r,[e,...i],s);if(h)return h}if(!r||r(e,i[0]))return{node:e,parentNodes:i}}}function oI(e,t){return t!=="DeclareExportDeclaration"&&e!=="TypeParameterDeclaration"&&(e==="Directive"||e==="TypeAlias"||e==="TSExportAssignment"||e.startsWith("Declare")||e.startsWith("TSDeclare")||e.endsWith("Statement")||e.endsWith("Declaration"))}var l_=new Set(["JsonRoot","ObjectExpression","ArrayExpression","StringLiteral","NumericLiteral","BooleanLiteral","NullLiteral","UnaryExpression","TemplateLiteral"]),aI=new Set(["OperationDefinition","FragmentDefinition","VariableDefinition","TypeExtensionDefinition","ObjectTypeDefinition","FieldDefinition","DirectiveDefinition","EnumTypeDefinition","EnumValueDefinition","InputValueDefinition","InputObjectTypeDefinition","SchemaDefinition","OperationTypeDefinition","InterfaceTypeDefinition","UnionTypeDefinition","ScalarTypeDefinition"]);function f_(e,t,n){if(!t)return!1;switch(e.parser){case"flow":case"hermes":case"babel":case"babel-flow":case"babel-ts":case"typescript":case"acorn":case"espree":case"meriyah":case"oxc":case"oxc-ts":case"__babel_estree":return oI(t.type,n==null?void 0:n.type);case"json":case"json5":case"jsonc":case"json-stringify":return l_.has(t.type);case"graphql":return aI.has(t.kind);case"vue":return t.tag!=="root"}return!1}function uI(e,t,n){let{rangeStart:r,rangeEnd:i,locStart:s,locEnd:o}=t;Am.ok(i>r);let u=e.slice(r,i).search(/\S/u),c=u===-1;if(!c)for(r+=u;i>r&&!/\S/u.test(e[i-1]);--i);let f=qm(n,r,t,(w,k)=>f_(t,w,k),[],"rangeStart"),d=c?f:qm(n,i,t,w=>f_(t,w),[],"rangeEnd");if(!f||!d)return{rangeStart:0,rangeEnd:0};let h,y;if(rI(t)){let w=iI(f,d);h=w,y=w}else({startNode:h,endNode:y}=sI(f,d,t));return{rangeStart:Math.min(s(h),s(y)),rangeEnd:Math.max(o(h),o(y))}}var d_="\uFEFF",h_=Symbol("cursor");async function p_(e,t,n=0){if(!e||e.trim().length===0)return{formatted:"",cursorOffset:-1,comments:[]};let{ast:r,text:i}=await Ou(e,t);t.cursorOffset>=0&&(t={...t,...u_(r,t)});let s=await xf(r,t);n>0&&(s=bw([eo,s],n,t.tabWidth));let o=If(s,t);if(n>0){let c=o.formatted.trim();o.cursorNodeStart!==void 0&&(o.cursorNodeStart-=o.formatted.indexOf(c),o.cursorNodeStart<0&&(o.cursorNodeStart=0,o.cursorNodeText=o.cursorNodeText.trimStart()),o.cursorNodeStart+o.cursorNodeText.length>c.length&&(o.cursorNodeText=o.cursorNodeText.trimEnd())),o.formatted=c+ym(t.endOfLine)}let u=t[Symbol.for("comments")];if(t.cursorOffset>=0){let c,f,d,h;if((t.cursorNode||t.nodeBeforeCursor||t.nodeAfterCursor)&&o.cursorNodeText)if(d=o.cursorNodeStart,h=o.cursorNodeText,t.cursorNode)c=t.locStart(t.cursorNode),f=i.slice(c,t.locEnd(t.cursorNode));else{if(!t.nodeBeforeCursor&&!t.nodeAfterCursor)throw new Error("Cursor location must contain at least one of cursorNode, nodeBeforeCursor, nodeAfterCursor");c=t.nodeBeforeCursor?t.locEnd(t.nodeBeforeCursor):0;let T=t.nodeAfterCursor?t.locStart(t.nodeAfterCursor):i.length;f=i.slice(c,T)}else c=0,f=i,d=0,h=o.formatted;let y=t.cursorOffset-c;if(f===h)return{formatted:o.formatted,cursorOffset:d+y,comments:u};let w=f.split("");w.splice(y,0,h_);let k=h.split(""),$=qN(w,k),E=d;for(let T of $)if(T.removed){if(T.value.includes(h_))break}else E+=T.count;return{formatted:o.formatted,cursorOffset:E,comments:u}}return{formatted:o.formatted,cursorOffset:-1,comments:u}}async function cI(e,t){let{ast:n,text:r}=await Ou(e,t),{rangeStart:i,rangeEnd:s}=uI(r,t,n),o=r.slice(i,s),u=Math.min(i,r.lastIndexOf(`
`,i)+1),c=r.slice(u,i).match(/^\s*/u)[0],f=Tm(c,t.tabWidth),d=await p_(o,{...t,rangeStart:0,rangeEnd:Number.POSITIVE_INFINITY,cursorOffset:t.cursorOffset>i&&t.cursorOffset<=s?t.cursorOffset-i:-1,endOfLine:"lf"},f),h=d.formatted.trimEnd(),{cursorOffset:y}=t;y>s?y+=h.length-o.length:d.cursorOffset>=0&&(y=d.cursorOffset+i);let w=r.slice(0,i)+h+r.slice(s);if(t.endOfLine!=="lf"){let k=ym(t.endOfLine);y>=0&&k===`\r
`&&(y+=uw(w.slice(0,y),`
`)),w=Cf(!1,w,`
`,k)}return{formatted:w,cursorOffset:y,comments:d.comments}}function xm(e,t,n){return typeof t!="number"||Number.isNaN(t)||t<0||t>e.length?n:t}function m_(e,t){let{cursorOffset:n,rangeStart:r,rangeEnd:i}=t;return n=xm(e,n,-1),r=xm(e,r,0),i=xm(e,i,e.length),{...t,cursorOffset:n,rangeStart:r,rangeEnd:i}}function g_(e,t){let{cursorOffset:n,rangeStart:r,rangeEnd:i,endOfLine:s}=m_(e,t),o=e.charAt(0)===d_;if(o&&(e=e.slice(1),n--,r--,i--),s==="auto"&&(s=xN(e)),e.includes("\r")){let u=c=>uw(e.slice(0,Math.max(c,0)),`\r
`);n-=u(n),r-=u(r),i-=u(i),e=BN(e)}return{hasBOM:o,text:e,options:m_(e,{...t,cursorOffset:n,rangeStart:r,rangeEnd:i,endOfLine:s})}}async function y_(e,t){let n=await jm(t);return!n.hasPragma||n.hasPragma(e)}async function lI(e,t){var n;let r=await jm(t);return(n=r.hasIgnorePragma)==null?void 0:n.call(r,e)}async function v_(e,t){let{hasBOM:n,text:r,options:i}=g_(e,await ca(t));if(i.rangeStart>=i.rangeEnd&&r!==""||i.requirePragma&&!await y_(r,i)||i.checkIgnorePragma&&await lI(r,i))return{formatted:e,cursorOffset:t.cursorOffset,comments:[]};let s;return i.rangeStart>0||i.rangeEnd<r.length?s=await cI(r,i):(!i.requirePragma&&i.insertPragma&&i.printer.insertPragma&&!await y_(r,i)&&(r=i.printer.insertPragma(r)),s=await p_(r,i)),n&&(s.formatted=d_+s.formatted,s.cursorOffset>=0&&s.cursorOffset++),s}async function fI(e,t,n){let{text:r,options:i}=g_(e,await ca(t)),s=await Ou(r,i);return n&&(n.preprocessForPrint&&(s.ast=await a_(s.ast,i)),n.massage&&(s.ast=eI(s.ast,i))),s}async function dI(e,t){t=await ca(t);let n=await xf(e,t);return If(n,t)}async function hI(e,t){let n=v2(e),{formatted:r}=await v_(n,{...t,parser:"__js_expression"});return r}async function pI(e,t){t=await ca(t);let{ast:n}=await Ou(e,t);return t.cursorOffset>=0&&(t={...t,...u_(n,t)}),xf(n,t)}async function mI(e,t){return If(e,await ca(t))}var b_={};gm(b_,{builders:()=>gI,printer:()=>yI,utils:()=>vI});var gI={join:vw,line:gw,softline:g2,hardline:eo,literalline:yw,group:pw,conditionalGroup:l2,fill:f2,lineSuffix:Dm,lineSuffixBoundary:p2,cursor:to,breakParent:Nf,ifBreak:d2,trim:m2,indent:Rf,indentIfBreak:h2,align:oa,addAlignmentToDoc:bw,markAsRoot:u2,dedentToRoot:a2,dedent:c2,hardlineWithoutBreakParent:wm,literallineWithoutBreakParent:mw,label:y2,concat:e=>e},yI={printDocToString:If},vI={willBreak:JN,traverseDoc:vm,findInDoc:bm,mapDoc:Of,removeLines:ZN,stripTrailingHardline:hw,replaceEndOfLine:n2,canBreak:i2},bI="3.6.2",D_={};gm(D_,{addDanglingComment:()=>io,addLeadingComment:()=>Au,addTrailingComment:()=>Cu,getAlignmentSize:()=>Tm,getIndentSize:()=>$I,getMaxContinuousCount:()=>AI,getNextNonSpaceNonCommentCharacter:()=>OI,getNextNonSpaceNonCommentCharacterIndex:()=>xI,getPreferredQuote:()=>RI,getStringWidth:()=>_m,hasNewline:()=>as,hasNewlineInRange:()=>FI,hasSpaces:()=>MI,isNextLineEmpty:()=>VI,isNextLineEmptyAfterIndex:()=>Vm,isPreviousLineEmpty:()=>WI,makeString:()=>jI,skip:()=>ku,skipEverythingButNewLine:()=>Ew,skipInlineComment:()=>Bm,skipNewline:()=>ro,skipSpaces:()=>os,skipToLineEnd:()=>_w,skipTrailingComment:()=>Wm,skipWhitespace:()=>F2});function DI(e,t){if(t===!1)return!1;if(e.charAt(t)==="/"&&e.charAt(t+1)==="*"){for(let n=t+2;n<e.length;++n)if(e.charAt(n)==="*"&&e.charAt(n+1)==="/")return n+2}return t}var Bm=DI;function wI(e,t){return t===!1?!1:e.charAt(t)==="/"&&e.charAt(t+1)==="/"?Ew(e,t):t}var Wm=wI;function _I(e,t){let n=null,r=t;for(;r!==n;)n=r,r=os(e,r),r=Bm(e,r),r=Wm(e,r),r=ro(e,r);return r}var Um=_I;function EI(e,t){let n=null,r=t;for(;r!==n;)n=r,r=_w(e,r),r=Bm(e,r),r=os(e,r);return r=Wm(e,r),r=ro(e,r),r!==!1&&as(e,r)}var Vm=EI;function SI(e,t){let n=e.lastIndexOf(`
`);return n===-1?0:Tm(e.slice(n+1).match(/^[\t ]*/u)[0],t)}var $I=SI;function TI(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function kI(e,t){let n=e.match(new RegExp(`(${TI(t)})+`,"gu"));return n===null?0:n.reduce((r,i)=>Math.max(r,i.length/t.length),0)}var AI=kI;function CI(e,t){let n=Um(e,t);return n===!1?"":e.charAt(n)}var OI=CI,Bf="'",w_='"';function PI(e,t){let n=t===!0||t===Bf?Bf:w_,r=n===Bf?w_:Bf,i=0,s=0;for(let o of e)o===n?i++:o===r&&s++;return i>s?r:n}var RI=PI;function NI(e,t,n){for(let r=t;r<n;++r)if(e.charAt(r)===`
`)return!0;return!1}var FI=NI;function II(e,t,n={}){return os(e,n.backwards?t-1:t,n)!==t}var MI=II;function LI(e,t,n){let r=t==='"'?"'":'"',i=Cf(!1,e,/\\(.)|(["'])/gsu,(s,o,u)=>o===r?o:u===t?"\\"+u:u||(n&&/^[^\n\r"'0-7\\bfnrt-vx\u2028\u2029]$/u.test(o)?o:"\\"+o));return t+i+t}var jI=LI;function qI(e,t,n){return Um(e,n(t))}function xI(e,t){return arguments.length===2||typeof t=="number"?Um(e,t):qI(...arguments)}function BI(e,t,n){return Fm(e,n(t))}function WI(e,t){return arguments.length===2||typeof t=="number"?Fm(e,t):BI(...arguments)}function UI(e,t,n){return Vm(e,n(t))}function VI(e,t){return arguments.length===2||typeof t=="number"?Vm(e,t):UI(...arguments)}function so(e,t=1){return async(...n)=>{let r=n[t]??{},i=r.plugins??[];return n[t]={...r,plugins:Array.isArray(i)?i:Object.values(i)},e(...n)}}var __=so(v_);async function Hm(e,t){let{formatted:n}=await __(e,{...t,cursorOffset:-1});return n}async function HI(e,t){return await Hm(e,t)===e}var KI=so(Pw,0),zI={parse:so(fI),formatAST:so(dI),formatDoc:so(hI),printToDoc:so(pI),printDocToString:so(mI)};class YI{constructor(){this.formatterEnabled=!0}configure(t){t&&(this.formatterEnabled=t.format)}async format(t,n={}){if(!this.formatterEnabled)return[];try{const r=t.getText(),i={parser:"yaml",plugins:[_N],tabWidth:n.tabWidth||n.tabSize,singleQuote:n.singleQuote,bracketSpacing:n.bracketSpacing,proseWrap:n.proseWrap==="always"?"always":n.proseWrap==="never"?"never":"preserve",printWidth:n.printWidth},s=await Hm(r,i);return[Pt.replace(Be.create(tn.create(0,0),t.positionAt(r.length)),s)]}catch{return[]}}}class GI{constructor(t){this.telemetry=t}findLinks(t){var n;try{const r=gr.getYamlDocument(t),i=[];for(const s of r.documents)i.push(NA(t,s));return Promise.all(i).then(s=>[].concat(...s))}catch(r){(n=this.telemetry)==null||n.sendError("yaml.documentLink.error",r)}}}function JI(e,t){if(!e)return;const n=[],r=gr.getYamlDocument(e);for(const s of r.documents)r.documents.length>1&&n.push(Wf(e,s.root)),s.visit(o=>{var u;if(o.type==="object"&&((u=o.parent)==null?void 0:u.type)==="array"&&n.push(Wf(e,o)),o.type==="property"&&o.valueNode)switch(o.valueNode.type){case"array":case"object":n.push(Wf(e,o));break;case"string":{const c=e.positionAt(o.offset),f=e.positionAt(o.valueNode.offset+o.valueNode.length);c.line!==f.line&&n.push(Wf(e,o));break}default:return!0}return!0});const i=t&&t.rangeLimit;return typeof i!="number"||n.length<=i?n:(t&&t.onRangeLimitExceeded&&t.onRangeLimitExceeded(e.uri),n.slice(0,t.rangeLimit))}function Wf(e,t){const n=e.positionAt(t.offset);let r=e.positionAt(t.offset+t.length);const i=e.getText(Be.create(n,r)),s=i.length-i.trimRight().length;return s>0&&(r=e.positionAt(t.offset+t.length-s)),dc.create(n.line,r.line,n.character,r.character)}var Uf;(function(e){e.JUMP_TO_SCHEMA="jumpToSchema"})(Uf||(Uf={}));class QI{constructor(t){this.indentation=t}write(t){if(t.internalNode.srcToken.type!=="flow-collection")return null;const n=t.internalNode.srcToken,r=n.start.type==="flow-map-start"?"block-map":"block-seq",i=t.parent.type,s={type:r,offset:n.offset,indent:n.indent,items:[]};for(const o of n.items)qs(o,({key:u,sep:c,value:f})=>{if(r==="block-map"){const d=[{type:"space",indent:0,offset:u.offset,source:this.indentation}];i==="property"&&d.unshift({type:"newline",indent:0,offset:u.offset,source:`
`}),s.items.push({start:d,key:u,sep:c,value:f})}else r==="block-seq"&&s.items.push({start:[{type:"newline",indent:0,offset:f.offset,source:`
`},{type:"space",indent:0,offset:f.offset,source:this.indentation},{type:"seq-item-ind",indent:0,offset:f.offset,source:"-"},{type:"space",indent:0,offset:f.offset,source:" "}],value:f});if(f.type==="flow-collection")return jt.SKIP});return gv(s)}}var Pu={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var XI=Pu.exports,E_;function ZI(){return E_||(E_=1,(function(e,t){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",u="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,d="__lodash_placeholder__",h=1,y=2,w=4,k=1,$=2,E=1,T=2,D=4,p=8,b=16,m=32,v=64,_=128,P=256,R=512,N=30,F="...",j=800,I=16,X=1,oe=2,ue=3,he=1/0,$e=9007199254740991,We=17976931348623157e292,ge=NaN,U=4294967295,ae=U-1,re=U>>>1,x=[["ary",_],["bind",E],["bindKey",T],["curry",p],["curryRight",b],["flip",R],["partial",m],["partialRight",v],["rearg",P]],Q="[object Arguments]",fe="[object Array]",Te="[object AsyncFunction]",ke="[object Boolean]",Fe="[object Date]",we="[object DOMException]",V="[object Error]",J="[object Function]",de="[object GeneratorFunction]",ne="[object Map]",Se="[object Number]",Ne="[object Null]",xe="[object Object]",Ft="[object Promise]",kt="[object Proxy]",dt="[object RegExp]",ze="[object Set]",It="[object String]",At="[object Symbol]",Xt="[object Undefined]",yt="[object WeakMap]",Y="[object WeakSet]",B="[object ArrayBuffer]",q="[object DataView]",W="[object Float32Array]",C="[object Float64Array]",S="[object Int8Array]",A="[object Int16Array]",M="[object Int32Array]",z="[object Uint8Array]",Z="[object Uint8ClampedArray]",se="[object Uint16Array]",Ee="[object Uint32Array]",je=/\b__p \+= '';/g,Pe=/\b(__p \+=) '' \+/g,qe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ce=/&(?:amp|lt|gt|quot|#39);/g,at=/[&<>"']/g,qt=RegExp(Ce.source),et=RegExp(at.source),vt=/<%-([\s\S]+?)%>/g,rt=/<%([\s\S]+?)%>/g,Zt=/<%=([\s\S]+?)%>/g,rr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,si=/^\w*$/,fa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cs=/[\\^$.*+?()[\]{}|]/g,oi=RegExp(cs.source),Li=/^\s+/,G=/\s/,Kt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,zt=/\{\n\/\* \[wrapped with (.+)\] \*/,Ke=/,? & /,te=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,be=/[()=,{}\[\]\/\s]/,Ae=/\\(\\)?/g,Ie=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Rt=/\w*$/,Ct=/^[-+]0x[0-9a-f]+$/i,Nt=/^0b[01]+$/i,Yt=/^\[object .+?Constructor\]$/,ht=/^0o[0-7]+$/i,xt=/^(?:0|[1-9]\d*)$/,bt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Wt=/($^)/,En=/['\n\r\u2028\u2029\\]/g,Mn="\\ud800-\\udfff",Gm="\\u0300-\\u036f",PM="\\ufe20-\\ufe2f",RM="\\u20d0-\\u20ff",pE=Gm+PM+RM,mE="\\u2700-\\u27bf",gE="a-z\\xdf-\\xf6\\xf8-\\xff",NM="\\xac\\xb1\\xd7\\xf7",FM="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",IM="\\u2000-\\u206f",MM=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",yE="A-Z\\xc0-\\xd6\\xd8-\\xde",vE="\\ufe0e\\ufe0f",bE=NM+FM+IM+MM,Jm="['’]",LM="["+Mn+"]",DE="["+bE+"]",zf="["+pE+"]",wE="\\d+",jM="["+mE+"]",_E="["+gE+"]",EE="[^"+Mn+bE+wE+mE+gE+yE+"]",Qm="\\ud83c[\\udffb-\\udfff]",qM="(?:"+zf+"|"+Qm+")",SE="[^"+Mn+"]",Xm="(?:\\ud83c[\\udde6-\\uddff]){2}",Zm="[\\ud800-\\udbff][\\udc00-\\udfff]",da="["+yE+"]",$E="\\u200d",TE="(?:"+_E+"|"+EE+")",xM="(?:"+da+"|"+EE+")",kE="(?:"+Jm+"(?:d|ll|m|re|s|t|ve))?",AE="(?:"+Jm+"(?:D|LL|M|RE|S|T|VE))?",CE=qM+"?",OE="["+vE+"]?",BM="(?:"+$E+"(?:"+[SE,Xm,Zm].join("|")+")"+OE+CE+")*",WM="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",UM="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",PE=OE+CE+BM,VM="(?:"+[jM,Xm,Zm].join("|")+")"+PE,HM="(?:"+[SE+zf+"?",zf,Xm,Zm,LM].join("|")+")",KM=RegExp(Jm,"g"),zM=RegExp(zf,"g"),eg=RegExp(Qm+"(?="+Qm+")|"+HM+PE,"g"),YM=RegExp([da+"?"+_E+"+"+kE+"(?="+[DE,da,"$"].join("|")+")",xM+"+"+AE+"(?="+[DE,da+TE,"$"].join("|")+")",da+"?"+TE+"+"+kE,da+"+"+AE,UM,WM,wE,VM].join("|"),"g"),GM=RegExp("["+$E+Mn+pE+vE+"]"),JM=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,QM=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],XM=-1,Bt={};Bt[W]=Bt[C]=Bt[S]=Bt[A]=Bt[M]=Bt[z]=Bt[Z]=Bt[se]=Bt[Ee]=!0,Bt[Q]=Bt[fe]=Bt[B]=Bt[ke]=Bt[q]=Bt[Fe]=Bt[V]=Bt[J]=Bt[ne]=Bt[Se]=Bt[xe]=Bt[dt]=Bt[ze]=Bt[It]=Bt[yt]=!1;var Lt={};Lt[Q]=Lt[fe]=Lt[B]=Lt[q]=Lt[ke]=Lt[Fe]=Lt[W]=Lt[C]=Lt[S]=Lt[A]=Lt[M]=Lt[ne]=Lt[Se]=Lt[xe]=Lt[dt]=Lt[ze]=Lt[It]=Lt[At]=Lt[z]=Lt[Z]=Lt[se]=Lt[Ee]=!0,Lt[V]=Lt[J]=Lt[yt]=!1;var ZM={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},eL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tL={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},nL={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},rL=parseFloat,iL=parseInt,RE=typeof Vr=="object"&&Vr&&Vr.Object===Object&&Vr,sL=typeof self=="object"&&self&&self.Object===Object&&self,Sn=RE||sL||Function("return this")(),tg=t&&!t.nodeType&&t,fo=tg&&!0&&e&&!e.nodeType&&e,NE=fo&&fo.exports===tg,ng=NE&&RE.process,_r=(function(){try{var ce=fo&&fo.require&&fo.require("util").types;return ce||ng&&ng.binding&&ng.binding("util")}catch{}})(),FE=_r&&_r.isArrayBuffer,IE=_r&&_r.isDate,ME=_r&&_r.isMap,LE=_r&&_r.isRegExp,jE=_r&&_r.isSet,qE=_r&&_r.isTypedArray;function ir(ce,ye,me){switch(me.length){case 0:return ce.call(ye);case 1:return ce.call(ye,me[0]);case 2:return ce.call(ye,me[0],me[1]);case 3:return ce.call(ye,me[0],me[1],me[2])}return ce.apply(ye,me)}function oL(ce,ye,me,Re){for(var Xe=-1,Dt=ce==null?0:ce.length;++Xe<Dt;){var dn=ce[Xe];ye(Re,dn,me(dn),ce)}return Re}function Er(ce,ye){for(var me=-1,Re=ce==null?0:ce.length;++me<Re&&ye(ce[me],me,ce)!==!1;);return ce}function aL(ce,ye){for(var me=ce==null?0:ce.length;me--&&ye(ce[me],me,ce)!==!1;);return ce}function xE(ce,ye){for(var me=-1,Re=ce==null?0:ce.length;++me<Re;)if(!ye(ce[me],me,ce))return!1;return!0}function ls(ce,ye){for(var me=-1,Re=ce==null?0:ce.length,Xe=0,Dt=[];++me<Re;){var dn=ce[me];ye(dn,me,ce)&&(Dt[Xe++]=dn)}return Dt}function Yf(ce,ye){var me=ce==null?0:ce.length;return!!me&&ha(ce,ye,0)>-1}function rg(ce,ye,me){for(var Re=-1,Xe=ce==null?0:ce.length;++Re<Xe;)if(me(ye,ce[Re]))return!0;return!1}function Ut(ce,ye){for(var me=-1,Re=ce==null?0:ce.length,Xe=Array(Re);++me<Re;)Xe[me]=ye(ce[me],me,ce);return Xe}function fs(ce,ye){for(var me=-1,Re=ye.length,Xe=ce.length;++me<Re;)ce[Xe+me]=ye[me];return ce}function ig(ce,ye,me,Re){var Xe=-1,Dt=ce==null?0:ce.length;for(Re&&Dt&&(me=ce[++Xe]);++Xe<Dt;)me=ye(me,ce[Xe],Xe,ce);return me}function uL(ce,ye,me,Re){var Xe=ce==null?0:ce.length;for(Re&&Xe&&(me=ce[--Xe]);Xe--;)me=ye(me,ce[Xe],Xe,ce);return me}function sg(ce,ye){for(var me=-1,Re=ce==null?0:ce.length;++me<Re;)if(ye(ce[me],me,ce))return!0;return!1}var cL=og("length");function lL(ce){return ce.split("")}function fL(ce){return ce.match(te)||[]}function BE(ce,ye,me){var Re;return me(ce,function(Xe,Dt,dn){if(ye(Xe,Dt,dn))return Re=Dt,!1}),Re}function Gf(ce,ye,me,Re){for(var Xe=ce.length,Dt=me+(Re?1:-1);Re?Dt--:++Dt<Xe;)if(ye(ce[Dt],Dt,ce))return Dt;return-1}function ha(ce,ye,me){return ye===ye?EL(ce,ye,me):Gf(ce,WE,me)}function dL(ce,ye,me,Re){for(var Xe=me-1,Dt=ce.length;++Xe<Dt;)if(Re(ce[Xe],ye))return Xe;return-1}function WE(ce){return ce!==ce}function UE(ce,ye){var me=ce==null?0:ce.length;return me?ug(ce,ye)/me:ge}function og(ce){return function(ye){return ye==null?n:ye[ce]}}function ag(ce){return function(ye){return ce==null?n:ce[ye]}}function VE(ce,ye,me,Re,Xe){return Xe(ce,function(Dt,dn,Mt){me=Re?(Re=!1,Dt):ye(me,Dt,dn,Mt)}),me}function hL(ce,ye){var me=ce.length;for(ce.sort(ye);me--;)ce[me]=ce[me].value;return ce}function ug(ce,ye){for(var me,Re=-1,Xe=ce.length;++Re<Xe;){var Dt=ye(ce[Re]);Dt!==n&&(me=me===n?Dt:me+Dt)}return me}function cg(ce,ye){for(var me=-1,Re=Array(ce);++me<ce;)Re[me]=ye(me);return Re}function pL(ce,ye){return Ut(ye,function(me){return[me,ce[me]]})}function HE(ce){return ce&&ce.slice(0,GE(ce)+1).replace(Li,"")}function sr(ce){return function(ye){return ce(ye)}}function lg(ce,ye){return Ut(ye,function(me){return ce[me]})}function Ku(ce,ye){return ce.has(ye)}function KE(ce,ye){for(var me=-1,Re=ce.length;++me<Re&&ha(ye,ce[me],0)>-1;);return me}function zE(ce,ye){for(var me=ce.length;me--&&ha(ye,ce[me],0)>-1;);return me}function mL(ce,ye){for(var me=ce.length,Re=0;me--;)ce[me]===ye&&++Re;return Re}var gL=ag(ZM),yL=ag(eL);function vL(ce){return"\\"+nL[ce]}function bL(ce,ye){return ce==null?n:ce[ye]}function pa(ce){return GM.test(ce)}function DL(ce){return JM.test(ce)}function wL(ce){for(var ye,me=[];!(ye=ce.next()).done;)me.push(ye.value);return me}function fg(ce){var ye=-1,me=Array(ce.size);return ce.forEach(function(Re,Xe){me[++ye]=[Xe,Re]}),me}function YE(ce,ye){return function(me){return ce(ye(me))}}function ds(ce,ye){for(var me=-1,Re=ce.length,Xe=0,Dt=[];++me<Re;){var dn=ce[me];(dn===ye||dn===d)&&(ce[me]=d,Dt[Xe++]=me)}return Dt}function Jf(ce){var ye=-1,me=Array(ce.size);return ce.forEach(function(Re){me[++ye]=Re}),me}function _L(ce){var ye=-1,me=Array(ce.size);return ce.forEach(function(Re){me[++ye]=[Re,Re]}),me}function EL(ce,ye,me){for(var Re=me-1,Xe=ce.length;++Re<Xe;)if(ce[Re]===ye)return Re;return-1}function SL(ce,ye,me){for(var Re=me+1;Re--;)if(ce[Re]===ye)return Re;return Re}function ma(ce){return pa(ce)?TL(ce):cL(ce)}function xr(ce){return pa(ce)?kL(ce):lL(ce)}function GE(ce){for(var ye=ce.length;ye--&&G.test(ce.charAt(ye)););return ye}var $L=ag(tL);function TL(ce){for(var ye=eg.lastIndex=0;eg.test(ce);)++ye;return ye}function kL(ce){return ce.match(eg)||[]}function AL(ce){return ce.match(YM)||[]}var CL=(function ce(ye){ye=ye==null?Sn:ga.defaults(Sn.Object(),ye,ga.pick(Sn,QM));var me=ye.Array,Re=ye.Date,Xe=ye.Error,Dt=ye.Function,dn=ye.Math,Mt=ye.Object,dg=ye.RegExp,OL=ye.String,Sr=ye.TypeError,Qf=me.prototype,PL=Dt.prototype,ya=Mt.prototype,Xf=ye["__core-js_shared__"],Zf=PL.toString,Ot=ya.hasOwnProperty,RL=0,JE=(function(){var a=/[^.]+$/.exec(Xf&&Xf.keys&&Xf.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})(),ed=ya.toString,NL=Zf.call(Mt),FL=Sn._,IL=dg("^"+Zf.call(Ot).replace(cs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),td=NE?ye.Buffer:n,hs=ye.Symbol,nd=ye.Uint8Array,QE=td?td.allocUnsafe:n,rd=YE(Mt.getPrototypeOf,Mt),XE=Mt.create,ZE=ya.propertyIsEnumerable,id=Qf.splice,eS=hs?hs.isConcatSpreadable:n,zu=hs?hs.iterator:n,ho=hs?hs.toStringTag:n,sd=(function(){try{var a=vo(Mt,"defineProperty");return a({},"",{}),a}catch{}})(),ML=ye.clearTimeout!==Sn.clearTimeout&&ye.clearTimeout,LL=Re&&Re.now!==Sn.Date.now&&Re.now,jL=ye.setTimeout!==Sn.setTimeout&&ye.setTimeout,od=dn.ceil,ad=dn.floor,hg=Mt.getOwnPropertySymbols,qL=td?td.isBuffer:n,tS=ye.isFinite,xL=Qf.join,BL=YE(Mt.keys,Mt),hn=dn.max,Tn=dn.min,WL=Re.now,UL=ye.parseInt,nS=dn.random,VL=Qf.reverse,pg=vo(ye,"DataView"),Yu=vo(ye,"Map"),mg=vo(ye,"Promise"),va=vo(ye,"Set"),Gu=vo(ye,"WeakMap"),Ju=vo(Mt,"create"),ud=Gu&&new Gu,ba={},HL=bo(pg),KL=bo(Yu),zL=bo(mg),YL=bo(va),GL=bo(Gu),cd=hs?hs.prototype:n,Qu=cd?cd.valueOf:n,rS=cd?cd.toString:n;function H(a){if(en(a)&&!Ze(a)&&!(a instanceof ft)){if(a instanceof $r)return a;if(Ot.call(a,"__wrapped__"))return i$(a)}return new $r(a)}var Da=(function(){function a(){}return function(l){if(!Gt(l))return{};if(XE)return XE(l);a.prototype=l;var g=new a;return a.prototype=n,g}})();function ld(){}function $r(a,l){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=n}H.templateSettings={escape:vt,evaluate:rt,interpolate:Zt,variable:"",imports:{_:H}},H.prototype=ld.prototype,H.prototype.constructor=H,$r.prototype=Da(ld.prototype),$r.prototype.constructor=$r;function ft(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=U,this.__views__=[]}function JL(){var a=new ft(this.__wrapped__);return a.__actions__=Kn(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Kn(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Kn(this.__views__),a}function QL(){if(this.__filtered__){var a=new ft(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function XL(){var a=this.__wrapped__.value(),l=this.__dir__,g=Ze(a),O=l<0,L=g?a.length:0,K=lq(0,L,this.__views__),ee=K.start,ie=K.end,le=ie-ee,ve=O?ie:ee-1,De=this.__iteratees__,_e=De.length,Oe=0,Me=Tn(le,this.__takeCount__);if(!g||!O&&L==le&&Me==le)return kS(a,this.__actions__);var Ve=[];e:for(;le--&&Oe<Me;){ve+=l;for(var it=-1,He=a[ve];++it<_e;){var ut=De[it],pt=ut.iteratee,ur=ut.type,qn=pt(He);if(ur==oe)He=qn;else if(!qn){if(ur==X)continue e;break e}}Ve[Oe++]=He}return Ve}ft.prototype=Da(ld.prototype),ft.prototype.constructor=ft;function po(a){var l=-1,g=a==null?0:a.length;for(this.clear();++l<g;){var O=a[l];this.set(O[0],O[1])}}function ZL(){this.__data__=Ju?Ju(null):{},this.size=0}function ej(a){var l=this.has(a)&&delete this.__data__[a];return this.size-=l?1:0,l}function tj(a){var l=this.__data__;if(Ju){var g=l[a];return g===c?n:g}return Ot.call(l,a)?l[a]:n}function nj(a){var l=this.__data__;return Ju?l[a]!==n:Ot.call(l,a)}function rj(a,l){var g=this.__data__;return this.size+=this.has(a)?0:1,g[a]=Ju&&l===n?c:l,this}po.prototype.clear=ZL,po.prototype.delete=ej,po.prototype.get=tj,po.prototype.has=nj,po.prototype.set=rj;function ji(a){var l=-1,g=a==null?0:a.length;for(this.clear();++l<g;){var O=a[l];this.set(O[0],O[1])}}function ij(){this.__data__=[],this.size=0}function sj(a){var l=this.__data__,g=fd(l,a);if(g<0)return!1;var O=l.length-1;return g==O?l.pop():id.call(l,g,1),--this.size,!0}function oj(a){var l=this.__data__,g=fd(l,a);return g<0?n:l[g][1]}function aj(a){return fd(this.__data__,a)>-1}function uj(a,l){var g=this.__data__,O=fd(g,a);return O<0?(++this.size,g.push([a,l])):g[O][1]=l,this}ji.prototype.clear=ij,ji.prototype.delete=sj,ji.prototype.get=oj,ji.prototype.has=aj,ji.prototype.set=uj;function qi(a){var l=-1,g=a==null?0:a.length;for(this.clear();++l<g;){var O=a[l];this.set(O[0],O[1])}}function cj(){this.size=0,this.__data__={hash:new po,map:new(Yu||ji),string:new po}}function lj(a){var l=Ed(this,a).delete(a);return this.size-=l?1:0,l}function fj(a){return Ed(this,a).get(a)}function dj(a){return Ed(this,a).has(a)}function hj(a,l){var g=Ed(this,a),O=g.size;return g.set(a,l),this.size+=g.size==O?0:1,this}qi.prototype.clear=cj,qi.prototype.delete=lj,qi.prototype.get=fj,qi.prototype.has=dj,qi.prototype.set=hj;function mo(a){var l=-1,g=a==null?0:a.length;for(this.__data__=new qi;++l<g;)this.add(a[l])}function pj(a){return this.__data__.set(a,c),this}function mj(a){return this.__data__.has(a)}mo.prototype.add=mo.prototype.push=pj,mo.prototype.has=mj;function Br(a){var l=this.__data__=new ji(a);this.size=l.size}function gj(){this.__data__=new ji,this.size=0}function yj(a){var l=this.__data__,g=l.delete(a);return this.size=l.size,g}function vj(a){return this.__data__.get(a)}function bj(a){return this.__data__.has(a)}function Dj(a,l){var g=this.__data__;if(g instanceof ji){var O=g.__data__;if(!Yu||O.length<i-1)return O.push([a,l]),this.size=++g.size,this;g=this.__data__=new qi(O)}return g.set(a,l),this.size=g.size,this}Br.prototype.clear=gj,Br.prototype.delete=yj,Br.prototype.get=vj,Br.prototype.has=bj,Br.prototype.set=Dj;function iS(a,l){var g=Ze(a),O=!g&&Do(a),L=!g&&!O&&vs(a),K=!g&&!O&&!L&&Sa(a),ee=g||O||L||K,ie=ee?cg(a.length,OL):[],le=ie.length;for(var ve in a)(l||Ot.call(a,ve))&&!(ee&&(ve=="length"||L&&(ve=="offset"||ve=="parent")||K&&(ve=="buffer"||ve=="byteLength"||ve=="byteOffset")||Ui(ve,le)))&&ie.push(ve);return ie}function sS(a){var l=a.length;return l?a[Tg(0,l-1)]:n}function wj(a,l){return Sd(Kn(a),go(l,0,a.length))}function _j(a){return Sd(Kn(a))}function gg(a,l,g){(g!==n&&!Wr(a[l],g)||g===n&&!(l in a))&&xi(a,l,g)}function Xu(a,l,g){var O=a[l];(!(Ot.call(a,l)&&Wr(O,g))||g===n&&!(l in a))&&xi(a,l,g)}function fd(a,l){for(var g=a.length;g--;)if(Wr(a[g][0],l))return g;return-1}function Ej(a,l,g,O){return ps(a,function(L,K,ee){l(O,L,g(L),ee)}),O}function oS(a,l){return a&&ui(l,yn(l),a)}function Sj(a,l){return a&&ui(l,Yn(l),a)}function xi(a,l,g){l=="__proto__"&&sd?sd(a,l,{configurable:!0,enumerable:!0,value:g,writable:!0}):a[l]=g}function yg(a,l){for(var g=-1,O=l.length,L=me(O),K=a==null;++g<O;)L[g]=K?n:Qg(a,l[g]);return L}function go(a,l,g){return a===a&&(g!==n&&(a=a<=g?a:g),l!==n&&(a=a>=l?a:l)),a}function Tr(a,l,g,O,L,K){var ee,ie=l&h,le=l&y,ve=l&w;if(g&&(ee=L?g(a,O,L,K):g(a)),ee!==n)return ee;if(!Gt(a))return a;var De=Ze(a);if(De){if(ee=dq(a),!ie)return Kn(a,ee)}else{var _e=kn(a),Oe=_e==J||_e==de;if(vs(a))return OS(a,ie);if(_e==xe||_e==Q||Oe&&!L){if(ee=le||Oe?{}:GS(a),!ie)return le?tq(a,Sj(ee,a)):eq(a,oS(ee,a))}else{if(!Lt[_e])return L?a:{};ee=hq(a,_e,ie)}}K||(K=new Br);var Me=K.get(a);if(Me)return Me;K.set(a,ee),S$(a)?a.forEach(function(He){ee.add(Tr(He,l,g,He,a,K))}):_$(a)&&a.forEach(function(He,ut){ee.set(ut,Tr(He,l,g,ut,a,K))});var Ve=ve?le?Lg:Mg:le?Yn:yn,it=De?n:Ve(a);return Er(it||a,function(He,ut){it&&(ut=He,He=a[ut]),Xu(ee,ut,Tr(He,l,g,ut,a,K))}),ee}function $j(a){var l=yn(a);return function(g){return aS(g,a,l)}}function aS(a,l,g){var O=g.length;if(a==null)return!O;for(a=Mt(a);O--;){var L=g[O],K=l[L],ee=a[L];if(ee===n&&!(L in a)||!K(ee))return!1}return!0}function uS(a,l,g){if(typeof a!="function")throw new Sr(o);return sc(function(){a.apply(n,g)},l)}function Zu(a,l,g,O){var L=-1,K=Yf,ee=!0,ie=a.length,le=[],ve=l.length;if(!ie)return le;g&&(l=Ut(l,sr(g))),O?(K=rg,ee=!1):l.length>=i&&(K=Ku,ee=!1,l=new mo(l));e:for(;++L<ie;){var De=a[L],_e=g==null?De:g(De);if(De=O||De!==0?De:0,ee&&_e===_e){for(var Oe=ve;Oe--;)if(l[Oe]===_e)continue e;le.push(De)}else K(l,_e,O)||le.push(De)}return le}var ps=IS(ai),cS=IS(bg,!0);function Tj(a,l){var g=!0;return ps(a,function(O,L,K){return g=!!l(O,L,K),g}),g}function dd(a,l,g){for(var O=-1,L=a.length;++O<L;){var K=a[O],ee=l(K);if(ee!=null&&(ie===n?ee===ee&&!ar(ee):g(ee,ie)))var ie=ee,le=K}return le}function kj(a,l,g,O){var L=a.length;for(g=nt(g),g<0&&(g=-g>L?0:L+g),O=O===n||O>L?L:nt(O),O<0&&(O+=L),O=g>O?0:T$(O);g<O;)a[g++]=l;return a}function lS(a,l){var g=[];return ps(a,function(O,L,K){l(O,L,K)&&g.push(O)}),g}function $n(a,l,g,O,L){var K=-1,ee=a.length;for(g||(g=mq),L||(L=[]);++K<ee;){var ie=a[K];l>0&&g(ie)?l>1?$n(ie,l-1,g,O,L):fs(L,ie):O||(L[L.length]=ie)}return L}var vg=MS(),fS=MS(!0);function ai(a,l){return a&&vg(a,l,yn)}function bg(a,l){return a&&fS(a,l,yn)}function hd(a,l){return ls(l,function(g){return Vi(a[g])})}function yo(a,l){l=gs(l,a);for(var g=0,O=l.length;a!=null&&g<O;)a=a[ci(l[g++])];return g&&g==O?a:n}function dS(a,l,g){var O=l(a);return Ze(a)?O:fs(O,g(a))}function Ln(a){return a==null?a===n?Xt:Ne:ho&&ho in Mt(a)?cq(a):_q(a)}function Dg(a,l){return a>l}function Aj(a,l){return a!=null&&Ot.call(a,l)}function Cj(a,l){return a!=null&&l in Mt(a)}function Oj(a,l,g){return a>=Tn(l,g)&&a<hn(l,g)}function wg(a,l,g){for(var O=g?rg:Yf,L=a[0].length,K=a.length,ee=K,ie=me(K),le=1/0,ve=[];ee--;){var De=a[ee];ee&&l&&(De=Ut(De,sr(l))),le=Tn(De.length,le),ie[ee]=!g&&(l||L>=120&&De.length>=120)?new mo(ee&&De):n}De=a[0];var _e=-1,Oe=ie[0];e:for(;++_e<L&&ve.length<le;){var Me=De[_e],Ve=l?l(Me):Me;if(Me=g||Me!==0?Me:0,!(Oe?Ku(Oe,Ve):O(ve,Ve,g))){for(ee=K;--ee;){var it=ie[ee];if(!(it?Ku(it,Ve):O(a[ee],Ve,g)))continue e}Oe&&Oe.push(Ve),ve.push(Me)}}return ve}function Pj(a,l,g,O){return ai(a,function(L,K,ee){l(O,g(L),K,ee)}),O}function ec(a,l,g){l=gs(l,a),a=ZS(a,l);var O=a==null?a:a[ci(Ar(l))];return O==null?n:ir(O,a,g)}function hS(a){return en(a)&&Ln(a)==Q}function Rj(a){return en(a)&&Ln(a)==B}function Nj(a){return en(a)&&Ln(a)==Fe}function tc(a,l,g,O,L){return a===l?!0:a==null||l==null||!en(a)&&!en(l)?a!==a&&l!==l:Fj(a,l,g,O,tc,L)}function Fj(a,l,g,O,L,K){var ee=Ze(a),ie=Ze(l),le=ee?fe:kn(a),ve=ie?fe:kn(l);le=le==Q?xe:le,ve=ve==Q?xe:ve;var De=le==xe,_e=ve==xe,Oe=le==ve;if(Oe&&vs(a)){if(!vs(l))return!1;ee=!0,De=!1}if(Oe&&!De)return K||(K=new Br),ee||Sa(a)?KS(a,l,g,O,L,K):aq(a,l,le,g,O,L,K);if(!(g&k)){var Me=De&&Ot.call(a,"__wrapped__"),Ve=_e&&Ot.call(l,"__wrapped__");if(Me||Ve){var it=Me?a.value():a,He=Ve?l.value():l;return K||(K=new Br),L(it,He,g,O,K)}}return Oe?(K||(K=new Br),uq(a,l,g,O,L,K)):!1}function Ij(a){return en(a)&&kn(a)==ne}function _g(a,l,g,O){var L=g.length,K=L,ee=!O;if(a==null)return!K;for(a=Mt(a);L--;){var ie=g[L];if(ee&&ie[2]?ie[1]!==a[ie[0]]:!(ie[0]in a))return!1}for(;++L<K;){ie=g[L];var le=ie[0],ve=a[le],De=ie[1];if(ee&&ie[2]){if(ve===n&&!(le in a))return!1}else{var _e=new Br;if(O)var Oe=O(ve,De,le,a,l,_e);if(!(Oe===n?tc(De,ve,k|$,O,_e):Oe))return!1}}return!0}function pS(a){if(!Gt(a)||yq(a))return!1;var l=Vi(a)?IL:Yt;return l.test(bo(a))}function Mj(a){return en(a)&&Ln(a)==dt}function Lj(a){return en(a)&&kn(a)==ze}function jj(a){return en(a)&&Od(a.length)&&!!Bt[Ln(a)]}function mS(a){return typeof a=="function"?a:a==null?Gn:typeof a=="object"?Ze(a)?vS(a[0],a[1]):yS(a):L$(a)}function Eg(a){if(!ic(a))return BL(a);var l=[];for(var g in Mt(a))Ot.call(a,g)&&g!="constructor"&&l.push(g);return l}function qj(a){if(!Gt(a))return wq(a);var l=ic(a),g=[];for(var O in a)O=="constructor"&&(l||!Ot.call(a,O))||g.push(O);return g}function Sg(a,l){return a<l}function gS(a,l){var g=-1,O=zn(a)?me(a.length):[];return ps(a,function(L,K,ee){O[++g]=l(L,K,ee)}),O}function yS(a){var l=qg(a);return l.length==1&&l[0][2]?QS(l[0][0],l[0][1]):function(g){return g===a||_g(g,a,l)}}function vS(a,l){return Bg(a)&&JS(l)?QS(ci(a),l):function(g){var O=Qg(g,a);return O===n&&O===l?Xg(g,a):tc(l,O,k|$)}}function pd(a,l,g,O,L){a!==l&&vg(l,function(K,ee){if(L||(L=new Br),Gt(K))xj(a,l,ee,g,pd,O,L);else{var ie=O?O(Ug(a,ee),K,ee+"",a,l,L):n;ie===n&&(ie=K),gg(a,ee,ie)}},Yn)}function xj(a,l,g,O,L,K,ee){var ie=Ug(a,g),le=Ug(l,g),ve=ee.get(le);if(ve){gg(a,g,ve);return}var De=K?K(ie,le,g+"",a,l,ee):n,_e=De===n;if(_e){var Oe=Ze(le),Me=!Oe&&vs(le),Ve=!Oe&&!Me&&Sa(le);De=le,Oe||Me||Ve?Ze(ie)?De=ie:cn(ie)?De=Kn(ie):Me?(_e=!1,De=OS(le,!0)):Ve?(_e=!1,De=PS(le,!0)):De=[]:oc(le)||Do(le)?(De=ie,Do(ie)?De=k$(ie):(!Gt(ie)||Vi(ie))&&(De=GS(le))):_e=!1}_e&&(ee.set(le,De),L(De,le,O,K,ee),ee.delete(le)),gg(a,g,De)}function bS(a,l){var g=a.length;if(g)return l+=l<0?g:0,Ui(l,g)?a[l]:n}function DS(a,l,g){l.length?l=Ut(l,function(K){return Ze(K)?function(ee){return yo(ee,K.length===1?K[0]:K)}:K}):l=[Gn];var O=-1;l=Ut(l,sr(Ue()));var L=gS(a,function(K,ee,ie){var le=Ut(l,function(ve){return ve(K)});return{criteria:le,index:++O,value:K}});return hL(L,function(K,ee){return Zj(K,ee,g)})}function Bj(a,l){return wS(a,l,function(g,O){return Xg(a,O)})}function wS(a,l,g){for(var O=-1,L=l.length,K={};++O<L;){var ee=l[O],ie=yo(a,ee);g(ie,ee)&&nc(K,gs(ee,a),ie)}return K}function Wj(a){return function(l){return yo(l,a)}}function $g(a,l,g,O){var L=O?dL:ha,K=-1,ee=l.length,ie=a;for(a===l&&(l=Kn(l)),g&&(ie=Ut(a,sr(g)));++K<ee;)for(var le=0,ve=l[K],De=g?g(ve):ve;(le=L(ie,De,le,O))>-1;)ie!==a&&id.call(ie,le,1),id.call(a,le,1);return a}function _S(a,l){for(var g=a?l.length:0,O=g-1;g--;){var L=l[g];if(g==O||L!==K){var K=L;Ui(L)?id.call(a,L,1):Cg(a,L)}}return a}function Tg(a,l){return a+ad(nS()*(l-a+1))}function Uj(a,l,g,O){for(var L=-1,K=hn(od((l-a)/(g||1)),0),ee=me(K);K--;)ee[O?K:++L]=a,a+=g;return ee}function kg(a,l){var g="";if(!a||l<1||l>$e)return g;do l%2&&(g+=a),l=ad(l/2),l&&(a+=a);while(l);return g}function ot(a,l){return Vg(XS(a,l,Gn),a+"")}function Vj(a){return sS($a(a))}function Hj(a,l){var g=$a(a);return Sd(g,go(l,0,g.length))}function nc(a,l,g,O){if(!Gt(a))return a;l=gs(l,a);for(var L=-1,K=l.length,ee=K-1,ie=a;ie!=null&&++L<K;){var le=ci(l[L]),ve=g;if(le==="__proto__"||le==="constructor"||le==="prototype")return a;if(L!=ee){var De=ie[le];ve=O?O(De,le,ie):n,ve===n&&(ve=Gt(De)?De:Ui(l[L+1])?[]:{})}Xu(ie,le,ve),ie=ie[le]}return a}var ES=ud?function(a,l){return ud.set(a,l),a}:Gn,Kj=sd?function(a,l){return sd(a,"toString",{configurable:!0,enumerable:!1,value:ey(l),writable:!0})}:Gn;function zj(a){return Sd($a(a))}function kr(a,l,g){var O=-1,L=a.length;l<0&&(l=-l>L?0:L+l),g=g>L?L:g,g<0&&(g+=L),L=l>g?0:g-l>>>0,l>>>=0;for(var K=me(L);++O<L;)K[O]=a[O+l];return K}function Yj(a,l){var g;return ps(a,function(O,L,K){return g=l(O,L,K),!g}),!!g}function md(a,l,g){var O=0,L=a==null?O:a.length;if(typeof l=="number"&&l===l&&L<=re){for(;O<L;){var K=O+L>>>1,ee=a[K];ee!==null&&!ar(ee)&&(g?ee<=l:ee<l)?O=K+1:L=K}return L}return Ag(a,l,Gn,g)}function Ag(a,l,g,O){var L=0,K=a==null?0:a.length;if(K===0)return 0;l=g(l);for(var ee=l!==l,ie=l===null,le=ar(l),ve=l===n;L<K;){var De=ad((L+K)/2),_e=g(a[De]),Oe=_e!==n,Me=_e===null,Ve=_e===_e,it=ar(_e);if(ee)var He=O||Ve;else ve?He=Ve&&(O||Oe):ie?He=Ve&&Oe&&(O||!Me):le?He=Ve&&Oe&&!Me&&(O||!it):Me||it?He=!1:He=O?_e<=l:_e<l;He?L=De+1:K=De}return Tn(K,ae)}function SS(a,l){for(var g=-1,O=a.length,L=0,K=[];++g<O;){var ee=a[g],ie=l?l(ee):ee;if(!g||!Wr(ie,le)){var le=ie;K[L++]=ee===0?0:ee}}return K}function $S(a){return typeof a=="number"?a:ar(a)?ge:+a}function or(a){if(typeof a=="string")return a;if(Ze(a))return Ut(a,or)+"";if(ar(a))return rS?rS.call(a):"";var l=a+"";return l=="0"&&1/a==-he?"-0":l}function ms(a,l,g){var O=-1,L=Yf,K=a.length,ee=!0,ie=[],le=ie;if(g)ee=!1,L=rg;else if(K>=i){var ve=l?null:sq(a);if(ve)return Jf(ve);ee=!1,L=Ku,le=new mo}else le=l?[]:ie;e:for(;++O<K;){var De=a[O],_e=l?l(De):De;if(De=g||De!==0?De:0,ee&&_e===_e){for(var Oe=le.length;Oe--;)if(le[Oe]===_e)continue e;l&&le.push(_e),ie.push(De)}else L(le,_e,g)||(le!==ie&&le.push(_e),ie.push(De))}return ie}function Cg(a,l){return l=gs(l,a),a=ZS(a,l),a==null||delete a[ci(Ar(l))]}function TS(a,l,g,O){return nc(a,l,g(yo(a,l)),O)}function gd(a,l,g,O){for(var L=a.length,K=O?L:-1;(O?K--:++K<L)&&l(a[K],K,a););return g?kr(a,O?0:K,O?K+1:L):kr(a,O?K+1:0,O?L:K)}function kS(a,l){var g=a;return g instanceof ft&&(g=g.value()),ig(l,function(O,L){return L.func.apply(L.thisArg,fs([O],L.args))},g)}function Og(a,l,g){var O=a.length;if(O<2)return O?ms(a[0]):[];for(var L=-1,K=me(O);++L<O;)for(var ee=a[L],ie=-1;++ie<O;)ie!=L&&(K[L]=Zu(K[L]||ee,a[ie],l,g));return ms($n(K,1),l,g)}function AS(a,l,g){for(var O=-1,L=a.length,K=l.length,ee={};++O<L;){var ie=O<K?l[O]:n;g(ee,a[O],ie)}return ee}function Pg(a){return cn(a)?a:[]}function Rg(a){return typeof a=="function"?a:Gn}function gs(a,l){return Ze(a)?a:Bg(a,l)?[a]:r$(St(a))}var Gj=ot;function ys(a,l,g){var O=a.length;return g=g===n?O:g,!l&&g>=O?a:kr(a,l,g)}var CS=ML||function(a){return Sn.clearTimeout(a)};function OS(a,l){if(l)return a.slice();var g=a.length,O=QE?QE(g):new a.constructor(g);return a.copy(O),O}function Ng(a){var l=new a.constructor(a.byteLength);return new nd(l).set(new nd(a)),l}function Jj(a,l){var g=l?Ng(a.buffer):a.buffer;return new a.constructor(g,a.byteOffset,a.byteLength)}function Qj(a){var l=new a.constructor(a.source,Rt.exec(a));return l.lastIndex=a.lastIndex,l}function Xj(a){return Qu?Mt(Qu.call(a)):{}}function PS(a,l){var g=l?Ng(a.buffer):a.buffer;return new a.constructor(g,a.byteOffset,a.length)}function RS(a,l){if(a!==l){var g=a!==n,O=a===null,L=a===a,K=ar(a),ee=l!==n,ie=l===null,le=l===l,ve=ar(l);if(!ie&&!ve&&!K&&a>l||K&&ee&&le&&!ie&&!ve||O&&ee&&le||!g&&le||!L)return 1;if(!O&&!K&&!ve&&a<l||ve&&g&&L&&!O&&!K||ie&&g&&L||!ee&&L||!le)return-1}return 0}function Zj(a,l,g){for(var O=-1,L=a.criteria,K=l.criteria,ee=L.length,ie=g.length;++O<ee;){var le=RS(L[O],K[O]);if(le){if(O>=ie)return le;var ve=g[O];return le*(ve=="desc"?-1:1)}}return a.index-l.index}function NS(a,l,g,O){for(var L=-1,K=a.length,ee=g.length,ie=-1,le=l.length,ve=hn(K-ee,0),De=me(le+ve),_e=!O;++ie<le;)De[ie]=l[ie];for(;++L<ee;)(_e||L<K)&&(De[g[L]]=a[L]);for(;ve--;)De[ie++]=a[L++];return De}function FS(a,l,g,O){for(var L=-1,K=a.length,ee=-1,ie=g.length,le=-1,ve=l.length,De=hn(K-ie,0),_e=me(De+ve),Oe=!O;++L<De;)_e[L]=a[L];for(var Me=L;++le<ve;)_e[Me+le]=l[le];for(;++ee<ie;)(Oe||L<K)&&(_e[Me+g[ee]]=a[L++]);return _e}function Kn(a,l){var g=-1,O=a.length;for(l||(l=me(O));++g<O;)l[g]=a[g];return l}function ui(a,l,g,O){var L=!g;g||(g={});for(var K=-1,ee=l.length;++K<ee;){var ie=l[K],le=O?O(g[ie],a[ie],ie,g,a):n;le===n&&(le=a[ie]),L?xi(g,ie,le):Xu(g,ie,le)}return g}function eq(a,l){return ui(a,xg(a),l)}function tq(a,l){return ui(a,zS(a),l)}function yd(a,l){return function(g,O){var L=Ze(g)?oL:Ej,K=l?l():{};return L(g,a,Ue(O,2),K)}}function wa(a){return ot(function(l,g){var O=-1,L=g.length,K=L>1?g[L-1]:n,ee=L>2?g[2]:n;for(K=a.length>3&&typeof K=="function"?(L--,K):n,ee&&jn(g[0],g[1],ee)&&(K=L<3?n:K,L=1),l=Mt(l);++O<L;){var ie=g[O];ie&&a(l,ie,O,K)}return l})}function IS(a,l){return function(g,O){if(g==null)return g;if(!zn(g))return a(g,O);for(var L=g.length,K=l?L:-1,ee=Mt(g);(l?K--:++K<L)&&O(ee[K],K,ee)!==!1;);return g}}function MS(a){return function(l,g,O){for(var L=-1,K=Mt(l),ee=O(l),ie=ee.length;ie--;){var le=ee[a?ie:++L];if(g(K[le],le,K)===!1)break}return l}}function nq(a,l,g){var O=l&E,L=rc(a);function K(){var ee=this&&this!==Sn&&this instanceof K?L:a;return ee.apply(O?g:this,arguments)}return K}function LS(a){return function(l){l=St(l);var g=pa(l)?xr(l):n,O=g?g[0]:l.charAt(0),L=g?ys(g,1).join(""):l.slice(1);return O[a]()+L}}function _a(a){return function(l){return ig(I$(F$(l).replace(KM,"")),a,"")}}function rc(a){return function(){var l=arguments;switch(l.length){case 0:return new a;case 1:return new a(l[0]);case 2:return new a(l[0],l[1]);case 3:return new a(l[0],l[1],l[2]);case 4:return new a(l[0],l[1],l[2],l[3]);case 5:return new a(l[0],l[1],l[2],l[3],l[4]);case 6:return new a(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new a(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var g=Da(a.prototype),O=a.apply(g,l);return Gt(O)?O:g}}function rq(a,l,g){var O=rc(a);function L(){for(var K=arguments.length,ee=me(K),ie=K,le=Ea(L);ie--;)ee[ie]=arguments[ie];var ve=K<3&&ee[0]!==le&&ee[K-1]!==le?[]:ds(ee,le);if(K-=ve.length,K<g)return WS(a,l,vd,L.placeholder,n,ee,ve,n,n,g-K);var De=this&&this!==Sn&&this instanceof L?O:a;return ir(De,this,ee)}return L}function jS(a){return function(l,g,O){var L=Mt(l);if(!zn(l)){var K=Ue(g,3);l=yn(l),g=function(ie){return K(L[ie],ie,L)}}var ee=a(l,g,O);return ee>-1?L[K?l[ee]:ee]:n}}function qS(a){return Wi(function(l){var g=l.length,O=g,L=$r.prototype.thru;for(a&&l.reverse();O--;){var K=l[O];if(typeof K!="function")throw new Sr(o);if(L&&!ee&&_d(K)=="wrapper")var ee=new $r([],!0)}for(O=ee?O:g;++O<g;){K=l[O];var ie=_d(K),le=ie=="wrapper"?jg(K):n;le&&Wg(le[0])&&le[1]==(_|p|m|P)&&!le[4].length&&le[9]==1?ee=ee[_d(le[0])].apply(ee,le[3]):ee=K.length==1&&Wg(K)?ee[ie]():ee.thru(K)}return function(){var ve=arguments,De=ve[0];if(ee&&ve.length==1&&Ze(De))return ee.plant(De).value();for(var _e=0,Oe=g?l[_e].apply(this,ve):De;++_e<g;)Oe=l[_e].call(this,Oe);return Oe}})}function vd(a,l,g,O,L,K,ee,ie,le,ve){var De=l&_,_e=l&E,Oe=l&T,Me=l&(p|b),Ve=l&R,it=Oe?n:rc(a);function He(){for(var ut=arguments.length,pt=me(ut),ur=ut;ur--;)pt[ur]=arguments[ur];if(Me)var qn=Ea(He),cr=mL(pt,qn);if(O&&(pt=NS(pt,O,L,Me)),K&&(pt=FS(pt,K,ee,Me)),ut-=cr,Me&&ut<ve){var ln=ds(pt,qn);return WS(a,l,vd,He.placeholder,g,pt,ln,ie,le,ve-ut)}var Ur=_e?g:this,Ki=Oe?Ur[a]:a;return ut=pt.length,ie?pt=Eq(pt,ie):Ve&&ut>1&&pt.reverse(),De&&le<ut&&(pt.length=le),this&&this!==Sn&&this instanceof He&&(Ki=it||rc(Ki)),Ki.apply(Ur,pt)}return He}function xS(a,l){return function(g,O){return Pj(g,a,l(O),{})}}function bd(a,l){return function(g,O){var L;if(g===n&&O===n)return l;if(g!==n&&(L=g),O!==n){if(L===n)return O;typeof g=="string"||typeof O=="string"?(g=or(g),O=or(O)):(g=$S(g),O=$S(O)),L=a(g,O)}return L}}function Fg(a){return Wi(function(l){return l=Ut(l,sr(Ue())),ot(function(g){var O=this;return a(l,function(L){return ir(L,O,g)})})})}function Dd(a,l){l=l===n?" ":or(l);var g=l.length;if(g<2)return g?kg(l,a):l;var O=kg(l,od(a/ma(l)));return pa(l)?ys(xr(O),0,a).join(""):O.slice(0,a)}function iq(a,l,g,O){var L=l&E,K=rc(a);function ee(){for(var ie=-1,le=arguments.length,ve=-1,De=O.length,_e=me(De+le),Oe=this&&this!==Sn&&this instanceof ee?K:a;++ve<De;)_e[ve]=O[ve];for(;le--;)_e[ve++]=arguments[++ie];return ir(Oe,L?g:this,_e)}return ee}function BS(a){return function(l,g,O){return O&&typeof O!="number"&&jn(l,g,O)&&(g=O=n),l=Hi(l),g===n?(g=l,l=0):g=Hi(g),O=O===n?l<g?1:-1:Hi(O),Uj(l,g,O,a)}}function wd(a){return function(l,g){return typeof l=="string"&&typeof g=="string"||(l=Cr(l),g=Cr(g)),a(l,g)}}function WS(a,l,g,O,L,K,ee,ie,le,ve){var De=l&p,_e=De?ee:n,Oe=De?n:ee,Me=De?K:n,Ve=De?n:K;l|=De?m:v,l&=~(De?v:m),l&D||(l&=-4);var it=[a,l,L,Me,_e,Ve,Oe,ie,le,ve],He=g.apply(n,it);return Wg(a)&&e$(He,it),He.placeholder=O,t$(He,a,l)}function Ig(a){var l=dn[a];return function(g,O){if(g=Cr(g),O=O==null?0:Tn(nt(O),292),O&&tS(g)){var L=(St(g)+"e").split("e"),K=l(L[0]+"e"+(+L[1]+O));return L=(St(K)+"e").split("e"),+(L[0]+"e"+(+L[1]-O))}return l(g)}}var sq=va&&1/Jf(new va([,-0]))[1]==he?function(a){return new va(a)}:ry;function US(a){return function(l){var g=kn(l);return g==ne?fg(l):g==ze?_L(l):pL(l,a(l))}}function Bi(a,l,g,O,L,K,ee,ie){var le=l&T;if(!le&&typeof a!="function")throw new Sr(o);var ve=O?O.length:0;if(ve||(l&=-97,O=L=n),ee=ee===n?ee:hn(nt(ee),0),ie=ie===n?ie:nt(ie),ve-=L?L.length:0,l&v){var De=O,_e=L;O=L=n}var Oe=le?n:jg(a),Me=[a,l,g,O,L,De,_e,K,ee,ie];if(Oe&&Dq(Me,Oe),a=Me[0],l=Me[1],g=Me[2],O=Me[3],L=Me[4],ie=Me[9]=Me[9]===n?le?0:a.length:hn(Me[9]-ve,0),!ie&&l&(p|b)&&(l&=-25),!l||l==E)var Ve=nq(a,l,g);else l==p||l==b?Ve=rq(a,l,ie):(l==m||l==(E|m))&&!L.length?Ve=iq(a,l,g,O):Ve=vd.apply(n,Me);var it=Oe?ES:e$;return t$(it(Ve,Me),a,l)}function VS(a,l,g,O){return a===n||Wr(a,ya[g])&&!Ot.call(O,g)?l:a}function HS(a,l,g,O,L,K){return Gt(a)&&Gt(l)&&(K.set(l,a),pd(a,l,n,HS,K),K.delete(l)),a}function oq(a){return oc(a)?n:a}function KS(a,l,g,O,L,K){var ee=g&k,ie=a.length,le=l.length;if(ie!=le&&!(ee&&le>ie))return!1;var ve=K.get(a),De=K.get(l);if(ve&&De)return ve==l&&De==a;var _e=-1,Oe=!0,Me=g&$?new mo:n;for(K.set(a,l),K.set(l,a);++_e<ie;){var Ve=a[_e],it=l[_e];if(O)var He=ee?O(it,Ve,_e,l,a,K):O(Ve,it,_e,a,l,K);if(He!==n){if(He)continue;Oe=!1;break}if(Me){if(!sg(l,function(ut,pt){if(!Ku(Me,pt)&&(Ve===ut||L(Ve,ut,g,O,K)))return Me.push(pt)})){Oe=!1;break}}else if(!(Ve===it||L(Ve,it,g,O,K))){Oe=!1;break}}return K.delete(a),K.delete(l),Oe}function aq(a,l,g,O,L,K,ee){switch(g){case q:if(a.byteLength!=l.byteLength||a.byteOffset!=l.byteOffset)return!1;a=a.buffer,l=l.buffer;case B:return!(a.byteLength!=l.byteLength||!K(new nd(a),new nd(l)));case ke:case Fe:case Se:return Wr(+a,+l);case V:return a.name==l.name&&a.message==l.message;case dt:case It:return a==l+"";case ne:var ie=fg;case ze:var le=O&k;if(ie||(ie=Jf),a.size!=l.size&&!le)return!1;var ve=ee.get(a);if(ve)return ve==l;O|=$,ee.set(a,l);var De=KS(ie(a),ie(l),O,L,K,ee);return ee.delete(a),De;case At:if(Qu)return Qu.call(a)==Qu.call(l)}return!1}function uq(a,l,g,O,L,K){var ee=g&k,ie=Mg(a),le=ie.length,ve=Mg(l),De=ve.length;if(le!=De&&!ee)return!1;for(var _e=le;_e--;){var Oe=ie[_e];if(!(ee?Oe in l:Ot.call(l,Oe)))return!1}var Me=K.get(a),Ve=K.get(l);if(Me&&Ve)return Me==l&&Ve==a;var it=!0;K.set(a,l),K.set(l,a);for(var He=ee;++_e<le;){Oe=ie[_e];var ut=a[Oe],pt=l[Oe];if(O)var ur=ee?O(pt,ut,Oe,l,a,K):O(ut,pt,Oe,a,l,K);if(!(ur===n?ut===pt||L(ut,pt,g,O,K):ur)){it=!1;break}He||(He=Oe=="constructor")}if(it&&!He){var qn=a.constructor,cr=l.constructor;qn!=cr&&"constructor"in a&&"constructor"in l&&!(typeof qn=="function"&&qn instanceof qn&&typeof cr=="function"&&cr instanceof cr)&&(it=!1)}return K.delete(a),K.delete(l),it}function Wi(a){return Vg(XS(a,n,a$),a+"")}function Mg(a){return dS(a,yn,xg)}function Lg(a){return dS(a,Yn,zS)}var jg=ud?function(a){return ud.get(a)}:ry;function _d(a){for(var l=a.name+"",g=ba[l],O=Ot.call(ba,l)?g.length:0;O--;){var L=g[O],K=L.func;if(K==null||K==a)return L.name}return l}function Ea(a){var l=Ot.call(H,"placeholder")?H:a;return l.placeholder}function Ue(){var a=H.iteratee||ty;return a=a===ty?mS:a,arguments.length?a(arguments[0],arguments[1]):a}function Ed(a,l){var g=a.__data__;return gq(l)?g[typeof l=="string"?"string":"hash"]:g.map}function qg(a){for(var l=yn(a),g=l.length;g--;){var O=l[g],L=a[O];l[g]=[O,L,JS(L)]}return l}function vo(a,l){var g=bL(a,l);return pS(g)?g:n}function cq(a){var l=Ot.call(a,ho),g=a[ho];try{a[ho]=n;var O=!0}catch{}var L=ed.call(a);return O&&(l?a[ho]=g:delete a[ho]),L}var xg=hg?function(a){return a==null?[]:(a=Mt(a),ls(hg(a),function(l){return ZE.call(a,l)}))}:iy,zS=hg?function(a){for(var l=[];a;)fs(l,xg(a)),a=rd(a);return l}:iy,kn=Ln;(pg&&kn(new pg(new ArrayBuffer(1)))!=q||Yu&&kn(new Yu)!=ne||mg&&kn(mg.resolve())!=Ft||va&&kn(new va)!=ze||Gu&&kn(new Gu)!=yt)&&(kn=function(a){var l=Ln(a),g=l==xe?a.constructor:n,O=g?bo(g):"";if(O)switch(O){case HL:return q;case KL:return ne;case zL:return Ft;case YL:return ze;case GL:return yt}return l});function lq(a,l,g){for(var O=-1,L=g.length;++O<L;){var K=g[O],ee=K.size;switch(K.type){case"drop":a+=ee;break;case"dropRight":l-=ee;break;case"take":l=Tn(l,a+ee);break;case"takeRight":a=hn(a,l-ee);break}}return{start:a,end:l}}function fq(a){var l=a.match(zt);return l?l[1].split(Ke):[]}function YS(a,l,g){l=gs(l,a);for(var O=-1,L=l.length,K=!1;++O<L;){var ee=ci(l[O]);if(!(K=a!=null&&g(a,ee)))break;a=a[ee]}return K||++O!=L?K:(L=a==null?0:a.length,!!L&&Od(L)&&Ui(ee,L)&&(Ze(a)||Do(a)))}function dq(a){var l=a.length,g=new a.constructor(l);return l&&typeof a[0]=="string"&&Ot.call(a,"index")&&(g.index=a.index,g.input=a.input),g}function GS(a){return typeof a.constructor=="function"&&!ic(a)?Da(rd(a)):{}}function hq(a,l,g){var O=a.constructor;switch(l){case B:return Ng(a);case ke:case Fe:return new O(+a);case q:return Jj(a,g);case W:case C:case S:case A:case M:case z:case Z:case se:case Ee:return PS(a,g);case ne:return new O;case Se:case It:return new O(a);case dt:return Qj(a);case ze:return new O;case At:return Xj(a)}}function pq(a,l){var g=l.length;if(!g)return a;var O=g-1;return l[O]=(g>1?"& ":"")+l[O],l=l.join(g>2?", ":" "),a.replace(Kt,`{
/* [wrapped with `+l+`] */
`)}function mq(a){return Ze(a)||Do(a)||!!(eS&&a&&a[eS])}function Ui(a,l){var g=typeof a;return l=l??$e,!!l&&(g=="number"||g!="symbol"&&xt.test(a))&&a>-1&&a%1==0&&a<l}function jn(a,l,g){if(!Gt(g))return!1;var O=typeof l;return(O=="number"?zn(g)&&Ui(l,g.length):O=="string"&&l in g)?Wr(g[l],a):!1}function Bg(a,l){if(Ze(a))return!1;var g=typeof a;return g=="number"||g=="symbol"||g=="boolean"||a==null||ar(a)?!0:si.test(a)||!rr.test(a)||l!=null&&a in Mt(l)}function gq(a){var l=typeof a;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?a!=="__proto__":a===null}function Wg(a){var l=_d(a),g=H[l];if(typeof g!="function"||!(l in ft.prototype))return!1;if(a===g)return!0;var O=jg(g);return!!O&&a===O[0]}function yq(a){return!!JE&&JE in a}var vq=Xf?Vi:sy;function ic(a){var l=a&&a.constructor,g=typeof l=="function"&&l.prototype||ya;return a===g}function JS(a){return a===a&&!Gt(a)}function QS(a,l){return function(g){return g==null?!1:g[a]===l&&(l!==n||a in Mt(g))}}function bq(a){var l=Ad(a,function(O){return g.size===f&&g.clear(),O}),g=l.cache;return l}function Dq(a,l){var g=a[1],O=l[1],L=g|O,K=L<(E|T|_),ee=O==_&&g==p||O==_&&g==P&&a[7].length<=l[8]||O==(_|P)&&l[7].length<=l[8]&&g==p;if(!(K||ee))return a;O&E&&(a[2]=l[2],L|=g&E?0:D);var ie=l[3];if(ie){var le=a[3];a[3]=le?NS(le,ie,l[4]):ie,a[4]=le?ds(a[3],d):l[4]}return ie=l[5],ie&&(le=a[5],a[5]=le?FS(le,ie,l[6]):ie,a[6]=le?ds(a[5],d):l[6]),ie=l[7],ie&&(a[7]=ie),O&_&&(a[8]=a[8]==null?l[8]:Tn(a[8],l[8])),a[9]==null&&(a[9]=l[9]),a[0]=l[0],a[1]=L,a}function wq(a){var l=[];if(a!=null)for(var g in Mt(a))l.push(g);return l}function _q(a){return ed.call(a)}function XS(a,l,g){return l=hn(l===n?a.length-1:l,0),function(){for(var O=arguments,L=-1,K=hn(O.length-l,0),ee=me(K);++L<K;)ee[L]=O[l+L];L=-1;for(var ie=me(l+1);++L<l;)ie[L]=O[L];return ie[l]=g(ee),ir(a,this,ie)}}function ZS(a,l){return l.length<2?a:yo(a,kr(l,0,-1))}function Eq(a,l){for(var g=a.length,O=Tn(l.length,g),L=Kn(a);O--;){var K=l[O];a[O]=Ui(K,g)?L[K]:n}return a}function Ug(a,l){if(!(l==="constructor"&&typeof a[l]=="function")&&l!="__proto__")return a[l]}var e$=n$(ES),sc=jL||function(a,l){return Sn.setTimeout(a,l)},Vg=n$(Kj);function t$(a,l,g){var O=l+"";return Vg(a,pq(O,Sq(fq(O),g)))}function n$(a){var l=0,g=0;return function(){var O=WL(),L=I-(O-g);if(g=O,L>0){if(++l>=j)return arguments[0]}else l=0;return a.apply(n,arguments)}}function Sd(a,l){var g=-1,O=a.length,L=O-1;for(l=l===n?O:l;++g<l;){var K=Tg(g,L),ee=a[K];a[K]=a[g],a[g]=ee}return a.length=l,a}var r$=bq(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(fa,function(g,O,L,K){l.push(L?K.replace(Ae,"$1"):O||g)}),l});function ci(a){if(typeof a=="string"||ar(a))return a;var l=a+"";return l=="0"&&1/a==-he?"-0":l}function bo(a){if(a!=null){try{return Zf.call(a)}catch{}try{return a+""}catch{}}return""}function Sq(a,l){return Er(x,function(g){var O="_."+g[0];l&g[1]&&!Yf(a,O)&&a.push(O)}),a.sort()}function i$(a){if(a instanceof ft)return a.clone();var l=new $r(a.__wrapped__,a.__chain__);return l.__actions__=Kn(a.__actions__),l.__index__=a.__index__,l.__values__=a.__values__,l}function $q(a,l,g){(g?jn(a,l,g):l===n)?l=1:l=hn(nt(l),0);var O=a==null?0:a.length;if(!O||l<1)return[];for(var L=0,K=0,ee=me(od(O/l));L<O;)ee[K++]=kr(a,L,L+=l);return ee}function Tq(a){for(var l=-1,g=a==null?0:a.length,O=0,L=[];++l<g;){var K=a[l];K&&(L[O++]=K)}return L}function kq(){var a=arguments.length;if(!a)return[];for(var l=me(a-1),g=arguments[0],O=a;O--;)l[O-1]=arguments[O];return fs(Ze(g)?Kn(g):[g],$n(l,1))}var Aq=ot(function(a,l){return cn(a)?Zu(a,$n(l,1,cn,!0)):[]}),Cq=ot(function(a,l){var g=Ar(l);return cn(g)&&(g=n),cn(a)?Zu(a,$n(l,1,cn,!0),Ue(g,2)):[]}),Oq=ot(function(a,l){var g=Ar(l);return cn(g)&&(g=n),cn(a)?Zu(a,$n(l,1,cn,!0),n,g):[]});function Pq(a,l,g){var O=a==null?0:a.length;return O?(l=g||l===n?1:nt(l),kr(a,l<0?0:l,O)):[]}function Rq(a,l,g){var O=a==null?0:a.length;return O?(l=g||l===n?1:nt(l),l=O-l,kr(a,0,l<0?0:l)):[]}function Nq(a,l){return a&&a.length?gd(a,Ue(l,3),!0,!0):[]}function Fq(a,l){return a&&a.length?gd(a,Ue(l,3),!0):[]}function Iq(a,l,g,O){var L=a==null?0:a.length;return L?(g&&typeof g!="number"&&jn(a,l,g)&&(g=0,O=L),kj(a,l,g,O)):[]}function s$(a,l,g){var O=a==null?0:a.length;if(!O)return-1;var L=g==null?0:nt(g);return L<0&&(L=hn(O+L,0)),Gf(a,Ue(l,3),L)}function o$(a,l,g){var O=a==null?0:a.length;if(!O)return-1;var L=O-1;return g!==n&&(L=nt(g),L=g<0?hn(O+L,0):Tn(L,O-1)),Gf(a,Ue(l,3),L,!0)}function a$(a){var l=a==null?0:a.length;return l?$n(a,1):[]}function Mq(a){var l=a==null?0:a.length;return l?$n(a,he):[]}function Lq(a,l){var g=a==null?0:a.length;return g?(l=l===n?1:nt(l),$n(a,l)):[]}function jq(a){for(var l=-1,g=a==null?0:a.length,O={};++l<g;){var L=a[l];O[L[0]]=L[1]}return O}function u$(a){return a&&a.length?a[0]:n}function qq(a,l,g){var O=a==null?0:a.length;if(!O)return-1;var L=g==null?0:nt(g);return L<0&&(L=hn(O+L,0)),ha(a,l,L)}function xq(a){var l=a==null?0:a.length;return l?kr(a,0,-1):[]}var Bq=ot(function(a){var l=Ut(a,Pg);return l.length&&l[0]===a[0]?wg(l):[]}),Wq=ot(function(a){var l=Ar(a),g=Ut(a,Pg);return l===Ar(g)?l=n:g.pop(),g.length&&g[0]===a[0]?wg(g,Ue(l,2)):[]}),Uq=ot(function(a){var l=Ar(a),g=Ut(a,Pg);return l=typeof l=="function"?l:n,l&&g.pop(),g.length&&g[0]===a[0]?wg(g,n,l):[]});function Vq(a,l){return a==null?"":xL.call(a,l)}function Ar(a){var l=a==null?0:a.length;return l?a[l-1]:n}function Hq(a,l,g){var O=a==null?0:a.length;if(!O)return-1;var L=O;return g!==n&&(L=nt(g),L=L<0?hn(O+L,0):Tn(L,O-1)),l===l?SL(a,l,L):Gf(a,WE,L,!0)}function Kq(a,l){return a&&a.length?bS(a,nt(l)):n}var zq=ot(c$);function c$(a,l){return a&&a.length&&l&&l.length?$g(a,l):a}function Yq(a,l,g){return a&&a.length&&l&&l.length?$g(a,l,Ue(g,2)):a}function Gq(a,l,g){return a&&a.length&&l&&l.length?$g(a,l,n,g):a}var Jq=Wi(function(a,l){var g=a==null?0:a.length,O=yg(a,l);return _S(a,Ut(l,function(L){return Ui(L,g)?+L:L}).sort(RS)),O});function Qq(a,l){var g=[];if(!(a&&a.length))return g;var O=-1,L=[],K=a.length;for(l=Ue(l,3);++O<K;){var ee=a[O];l(ee,O,a)&&(g.push(ee),L.push(O))}return _S(a,L),g}function Hg(a){return a==null?a:VL.call(a)}function Xq(a,l,g){var O=a==null?0:a.length;return O?(g&&typeof g!="number"&&jn(a,l,g)?(l=0,g=O):(l=l==null?0:nt(l),g=g===n?O:nt(g)),kr(a,l,g)):[]}function Zq(a,l){return md(a,l)}function ex(a,l,g){return Ag(a,l,Ue(g,2))}function tx(a,l){var g=a==null?0:a.length;if(g){var O=md(a,l);if(O<g&&Wr(a[O],l))return O}return-1}function nx(a,l){return md(a,l,!0)}function rx(a,l,g){return Ag(a,l,Ue(g,2),!0)}function ix(a,l){var g=a==null?0:a.length;if(g){var O=md(a,l,!0)-1;if(Wr(a[O],l))return O}return-1}function sx(a){return a&&a.length?SS(a):[]}function ox(a,l){return a&&a.length?SS(a,Ue(l,2)):[]}function ax(a){var l=a==null?0:a.length;return l?kr(a,1,l):[]}function ux(a,l,g){return a&&a.length?(l=g||l===n?1:nt(l),kr(a,0,l<0?0:l)):[]}function cx(a,l,g){var O=a==null?0:a.length;return O?(l=g||l===n?1:nt(l),l=O-l,kr(a,l<0?0:l,O)):[]}function lx(a,l){return a&&a.length?gd(a,Ue(l,3),!1,!0):[]}function fx(a,l){return a&&a.length?gd(a,Ue(l,3)):[]}var dx=ot(function(a){return ms($n(a,1,cn,!0))}),hx=ot(function(a){var l=Ar(a);return cn(l)&&(l=n),ms($n(a,1,cn,!0),Ue(l,2))}),px=ot(function(a){var l=Ar(a);return l=typeof l=="function"?l:n,ms($n(a,1,cn,!0),n,l)});function mx(a){return a&&a.length?ms(a):[]}function gx(a,l){return a&&a.length?ms(a,Ue(l,2)):[]}function yx(a,l){return l=typeof l=="function"?l:n,a&&a.length?ms(a,n,l):[]}function Kg(a){if(!(a&&a.length))return[];var l=0;return a=ls(a,function(g){if(cn(g))return l=hn(g.length,l),!0}),cg(l,function(g){return Ut(a,og(g))})}function l$(a,l){if(!(a&&a.length))return[];var g=Kg(a);return l==null?g:Ut(g,function(O){return ir(l,n,O)})}var vx=ot(function(a,l){return cn(a)?Zu(a,l):[]}),bx=ot(function(a){return Og(ls(a,cn))}),Dx=ot(function(a){var l=Ar(a);return cn(l)&&(l=n),Og(ls(a,cn),Ue(l,2))}),wx=ot(function(a){var l=Ar(a);return l=typeof l=="function"?l:n,Og(ls(a,cn),n,l)}),_x=ot(Kg);function Ex(a,l){return AS(a||[],l||[],Xu)}function Sx(a,l){return AS(a||[],l||[],nc)}var $x=ot(function(a){var l=a.length,g=l>1?a[l-1]:n;return g=typeof g=="function"?(a.pop(),g):n,l$(a,g)});function f$(a){var l=H(a);return l.__chain__=!0,l}function Tx(a,l){return l(a),a}function $d(a,l){return l(a)}var kx=Wi(function(a){var l=a.length,g=l?a[0]:0,O=this.__wrapped__,L=function(K){return yg(K,a)};return l>1||this.__actions__.length||!(O instanceof ft)||!Ui(g)?this.thru(L):(O=O.slice(g,+g+(l?1:0)),O.__actions__.push({func:$d,args:[L],thisArg:n}),new $r(O,this.__chain__).thru(function(K){return l&&!K.length&&K.push(n),K}))});function Ax(){return f$(this)}function Cx(){return new $r(this.value(),this.__chain__)}function Ox(){this.__values__===n&&(this.__values__=$$(this.value()));var a=this.__index__>=this.__values__.length,l=a?n:this.__values__[this.__index__++];return{done:a,value:l}}function Px(){return this}function Rx(a){for(var l,g=this;g instanceof ld;){var O=i$(g);O.__index__=0,O.__values__=n,l?L.__wrapped__=O:l=O;var L=O;g=g.__wrapped__}return L.__wrapped__=a,l}function Nx(){var a=this.__wrapped__;if(a instanceof ft){var l=a;return this.__actions__.length&&(l=new ft(this)),l=l.reverse(),l.__actions__.push({func:$d,args:[Hg],thisArg:n}),new $r(l,this.__chain__)}return this.thru(Hg)}function Fx(){return kS(this.__wrapped__,this.__actions__)}var Ix=yd(function(a,l,g){Ot.call(a,g)?++a[g]:xi(a,g,1)});function Mx(a,l,g){var O=Ze(a)?xE:Tj;return g&&jn(a,l,g)&&(l=n),O(a,Ue(l,3))}function Lx(a,l){var g=Ze(a)?ls:lS;return g(a,Ue(l,3))}var jx=jS(s$),qx=jS(o$);function xx(a,l){return $n(Td(a,l),1)}function Bx(a,l){return $n(Td(a,l),he)}function Wx(a,l,g){return g=g===n?1:nt(g),$n(Td(a,l),g)}function d$(a,l){var g=Ze(a)?Er:ps;return g(a,Ue(l,3))}function h$(a,l){var g=Ze(a)?aL:cS;return g(a,Ue(l,3))}var Ux=yd(function(a,l,g){Ot.call(a,g)?a[g].push(l):xi(a,g,[l])});function Vx(a,l,g,O){a=zn(a)?a:$a(a),g=g&&!O?nt(g):0;var L=a.length;return g<0&&(g=hn(L+g,0)),Pd(a)?g<=L&&a.indexOf(l,g)>-1:!!L&&ha(a,l,g)>-1}var Hx=ot(function(a,l,g){var O=-1,L=typeof l=="function",K=zn(a)?me(a.length):[];return ps(a,function(ee){K[++O]=L?ir(l,ee,g):ec(ee,l,g)}),K}),Kx=yd(function(a,l,g){xi(a,g,l)});function Td(a,l){var g=Ze(a)?Ut:gS;return g(a,Ue(l,3))}function zx(a,l,g,O){return a==null?[]:(Ze(l)||(l=l==null?[]:[l]),g=O?n:g,Ze(g)||(g=g==null?[]:[g]),DS(a,l,g))}var Yx=yd(function(a,l,g){a[g?0:1].push(l)},function(){return[[],[]]});function Gx(a,l,g){var O=Ze(a)?ig:VE,L=arguments.length<3;return O(a,Ue(l,4),g,L,ps)}function Jx(a,l,g){var O=Ze(a)?uL:VE,L=arguments.length<3;return O(a,Ue(l,4),g,L,cS)}function Qx(a,l){var g=Ze(a)?ls:lS;return g(a,Cd(Ue(l,3)))}function Xx(a){var l=Ze(a)?sS:Vj;return l(a)}function Zx(a,l,g){(g?jn(a,l,g):l===n)?l=1:l=nt(l);var O=Ze(a)?wj:Hj;return O(a,l)}function eB(a){var l=Ze(a)?_j:zj;return l(a)}function tB(a){if(a==null)return 0;if(zn(a))return Pd(a)?ma(a):a.length;var l=kn(a);return l==ne||l==ze?a.size:Eg(a).length}function nB(a,l,g){var O=Ze(a)?sg:Yj;return g&&jn(a,l,g)&&(l=n),O(a,Ue(l,3))}var rB=ot(function(a,l){if(a==null)return[];var g=l.length;return g>1&&jn(a,l[0],l[1])?l=[]:g>2&&jn(l[0],l[1],l[2])&&(l=[l[0]]),DS(a,$n(l,1),[])}),kd=LL||function(){return Sn.Date.now()};function iB(a,l){if(typeof l!="function")throw new Sr(o);return a=nt(a),function(){if(--a<1)return l.apply(this,arguments)}}function p$(a,l,g){return l=g?n:l,l=a&&l==null?a.length:l,Bi(a,_,n,n,n,n,l)}function m$(a,l){var g;if(typeof l!="function")throw new Sr(o);return a=nt(a),function(){return--a>0&&(g=l.apply(this,arguments)),a<=1&&(l=n),g}}var zg=ot(function(a,l,g){var O=E;if(g.length){var L=ds(g,Ea(zg));O|=m}return Bi(a,O,l,g,L)}),g$=ot(function(a,l,g){var O=E|T;if(g.length){var L=ds(g,Ea(g$));O|=m}return Bi(l,O,a,g,L)});function y$(a,l,g){l=g?n:l;var O=Bi(a,p,n,n,n,n,n,l);return O.placeholder=y$.placeholder,O}function v$(a,l,g){l=g?n:l;var O=Bi(a,b,n,n,n,n,n,l);return O.placeholder=v$.placeholder,O}function b$(a,l,g){var O,L,K,ee,ie,le,ve=0,De=!1,_e=!1,Oe=!0;if(typeof a!="function")throw new Sr(o);l=Cr(l)||0,Gt(g)&&(De=!!g.leading,_e="maxWait"in g,K=_e?hn(Cr(g.maxWait)||0,l):K,Oe="trailing"in g?!!g.trailing:Oe);function Me(ln){var Ur=O,Ki=L;return O=L=n,ve=ln,ee=a.apply(Ki,Ur),ee}function Ve(ln){return ve=ln,ie=sc(ut,l),De?Me(ln):ee}function it(ln){var Ur=ln-le,Ki=ln-ve,j$=l-Ur;return _e?Tn(j$,K-Ki):j$}function He(ln){var Ur=ln-le,Ki=ln-ve;return le===n||Ur>=l||Ur<0||_e&&Ki>=K}function ut(){var ln=kd();if(He(ln))return pt(ln);ie=sc(ut,it(ln))}function pt(ln){return ie=n,Oe&&O?Me(ln):(O=L=n,ee)}function ur(){ie!==n&&CS(ie),ve=0,O=le=L=ie=n}function qn(){return ie===n?ee:pt(kd())}function cr(){var ln=kd(),Ur=He(ln);if(O=arguments,L=this,le=ln,Ur){if(ie===n)return Ve(le);if(_e)return CS(ie),ie=sc(ut,l),Me(le)}return ie===n&&(ie=sc(ut,l)),ee}return cr.cancel=ur,cr.flush=qn,cr}var sB=ot(function(a,l){return uS(a,1,l)}),oB=ot(function(a,l,g){return uS(a,Cr(l)||0,g)});function aB(a){return Bi(a,R)}function Ad(a,l){if(typeof a!="function"||l!=null&&typeof l!="function")throw new Sr(o);var g=function(){var O=arguments,L=l?l.apply(this,O):O[0],K=g.cache;if(K.has(L))return K.get(L);var ee=a.apply(this,O);return g.cache=K.set(L,ee)||K,ee};return g.cache=new(Ad.Cache||qi),g}Ad.Cache=qi;function Cd(a){if(typeof a!="function")throw new Sr(o);return function(){var l=arguments;switch(l.length){case 0:return!a.call(this);case 1:return!a.call(this,l[0]);case 2:return!a.call(this,l[0],l[1]);case 3:return!a.call(this,l[0],l[1],l[2])}return!a.apply(this,l)}}function uB(a){return m$(2,a)}var cB=Gj(function(a,l){l=l.length==1&&Ze(l[0])?Ut(l[0],sr(Ue())):Ut($n(l,1),sr(Ue()));var g=l.length;return ot(function(O){for(var L=-1,K=Tn(O.length,g);++L<K;)O[L]=l[L].call(this,O[L]);return ir(a,this,O)})}),Yg=ot(function(a,l){var g=ds(l,Ea(Yg));return Bi(a,m,n,l,g)}),D$=ot(function(a,l){var g=ds(l,Ea(D$));return Bi(a,v,n,l,g)}),lB=Wi(function(a,l){return Bi(a,P,n,n,n,l)});function fB(a,l){if(typeof a!="function")throw new Sr(o);return l=l===n?l:nt(l),ot(a,l)}function dB(a,l){if(typeof a!="function")throw new Sr(o);return l=l==null?0:hn(nt(l),0),ot(function(g){var O=g[l],L=ys(g,0,l);return O&&fs(L,O),ir(a,this,L)})}function hB(a,l,g){var O=!0,L=!0;if(typeof a!="function")throw new Sr(o);return Gt(g)&&(O="leading"in g?!!g.leading:O,L="trailing"in g?!!g.trailing:L),b$(a,l,{leading:O,maxWait:l,trailing:L})}function pB(a){return p$(a,1)}function mB(a,l){return Yg(Rg(l),a)}function gB(){if(!arguments.length)return[];var a=arguments[0];return Ze(a)?a:[a]}function yB(a){return Tr(a,w)}function vB(a,l){return l=typeof l=="function"?l:n,Tr(a,w,l)}function bB(a){return Tr(a,h|w)}function DB(a,l){return l=typeof l=="function"?l:n,Tr(a,h|w,l)}function wB(a,l){return l==null||aS(a,l,yn(l))}function Wr(a,l){return a===l||a!==a&&l!==l}var _B=wd(Dg),EB=wd(function(a,l){return a>=l}),Do=hS((function(){return arguments})())?hS:function(a){return en(a)&&Ot.call(a,"callee")&&!ZE.call(a,"callee")},Ze=me.isArray,SB=FE?sr(FE):Rj;function zn(a){return a!=null&&Od(a.length)&&!Vi(a)}function cn(a){return en(a)&&zn(a)}function $B(a){return a===!0||a===!1||en(a)&&Ln(a)==ke}var vs=qL||sy,TB=IE?sr(IE):Nj;function kB(a){return en(a)&&a.nodeType===1&&!oc(a)}function AB(a){if(a==null)return!0;if(zn(a)&&(Ze(a)||typeof a=="string"||typeof a.splice=="function"||vs(a)||Sa(a)||Do(a)))return!a.length;var l=kn(a);if(l==ne||l==ze)return!a.size;if(ic(a))return!Eg(a).length;for(var g in a)if(Ot.call(a,g))return!1;return!0}function CB(a,l){return tc(a,l)}function OB(a,l,g){g=typeof g=="function"?g:n;var O=g?g(a,l):n;return O===n?tc(a,l,n,g):!!O}function Gg(a){if(!en(a))return!1;var l=Ln(a);return l==V||l==we||typeof a.message=="string"&&typeof a.name=="string"&&!oc(a)}function PB(a){return typeof a=="number"&&tS(a)}function Vi(a){if(!Gt(a))return!1;var l=Ln(a);return l==J||l==de||l==Te||l==kt}function w$(a){return typeof a=="number"&&a==nt(a)}function Od(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=$e}function Gt(a){var l=typeof a;return a!=null&&(l=="object"||l=="function")}function en(a){return a!=null&&typeof a=="object"}var _$=ME?sr(ME):Ij;function RB(a,l){return a===l||_g(a,l,qg(l))}function NB(a,l,g){return g=typeof g=="function"?g:n,_g(a,l,qg(l),g)}function FB(a){return E$(a)&&a!=+a}function IB(a){if(vq(a))throw new Xe(s);return pS(a)}function MB(a){return a===null}function LB(a){return a==null}function E$(a){return typeof a=="number"||en(a)&&Ln(a)==Se}function oc(a){if(!en(a)||Ln(a)!=xe)return!1;var l=rd(a);if(l===null)return!0;var g=Ot.call(l,"constructor")&&l.constructor;return typeof g=="function"&&g instanceof g&&Zf.call(g)==NL}var Jg=LE?sr(LE):Mj;function jB(a){return w$(a)&&a>=-$e&&a<=$e}var S$=jE?sr(jE):Lj;function Pd(a){return typeof a=="string"||!Ze(a)&&en(a)&&Ln(a)==It}function ar(a){return typeof a=="symbol"||en(a)&&Ln(a)==At}var Sa=qE?sr(qE):jj;function qB(a){return a===n}function xB(a){return en(a)&&kn(a)==yt}function BB(a){return en(a)&&Ln(a)==Y}var WB=wd(Sg),UB=wd(function(a,l){return a<=l});function $$(a){if(!a)return[];if(zn(a))return Pd(a)?xr(a):Kn(a);if(zu&&a[zu])return wL(a[zu]());var l=kn(a),g=l==ne?fg:l==ze?Jf:$a;return g(a)}function Hi(a){if(!a)return a===0?a:0;if(a=Cr(a),a===he||a===-he){var l=a<0?-1:1;return l*We}return a===a?a:0}function nt(a){var l=Hi(a),g=l%1;return l===l?g?l-g:l:0}function T$(a){return a?go(nt(a),0,U):0}function Cr(a){if(typeof a=="number")return a;if(ar(a))return ge;if(Gt(a)){var l=typeof a.valueOf=="function"?a.valueOf():a;a=Gt(l)?l+"":l}if(typeof a!="string")return a===0?a:+a;a=HE(a);var g=Nt.test(a);return g||ht.test(a)?iL(a.slice(2),g?2:8):Ct.test(a)?ge:+a}function k$(a){return ui(a,Yn(a))}function VB(a){return a?go(nt(a),-$e,$e):a===0?a:0}function St(a){return a==null?"":or(a)}var HB=wa(function(a,l){if(ic(l)||zn(l)){ui(l,yn(l),a);return}for(var g in l)Ot.call(l,g)&&Xu(a,g,l[g])}),A$=wa(function(a,l){ui(l,Yn(l),a)}),Rd=wa(function(a,l,g,O){ui(l,Yn(l),a,O)}),KB=wa(function(a,l,g,O){ui(l,yn(l),a,O)}),zB=Wi(yg);function YB(a,l){var g=Da(a);return l==null?g:oS(g,l)}var GB=ot(function(a,l){a=Mt(a);var g=-1,O=l.length,L=O>2?l[2]:n;for(L&&jn(l[0],l[1],L)&&(O=1);++g<O;)for(var K=l[g],ee=Yn(K),ie=-1,le=ee.length;++ie<le;){var ve=ee[ie],De=a[ve];(De===n||Wr(De,ya[ve])&&!Ot.call(a,ve))&&(a[ve]=K[ve])}return a}),JB=ot(function(a){return a.push(n,HS),ir(C$,n,a)});function QB(a,l){return BE(a,Ue(l,3),ai)}function XB(a,l){return BE(a,Ue(l,3),bg)}function ZB(a,l){return a==null?a:vg(a,Ue(l,3),Yn)}function e3(a,l){return a==null?a:fS(a,Ue(l,3),Yn)}function t3(a,l){return a&&ai(a,Ue(l,3))}function n3(a,l){return a&&bg(a,Ue(l,3))}function r3(a){return a==null?[]:hd(a,yn(a))}function i3(a){return a==null?[]:hd(a,Yn(a))}function Qg(a,l,g){var O=a==null?n:yo(a,l);return O===n?g:O}function s3(a,l){return a!=null&&YS(a,l,Aj)}function Xg(a,l){return a!=null&&YS(a,l,Cj)}var o3=xS(function(a,l,g){l!=null&&typeof l.toString!="function"&&(l=ed.call(l)),a[l]=g},ey(Gn)),a3=xS(function(a,l,g){l!=null&&typeof l.toString!="function"&&(l=ed.call(l)),Ot.call(a,l)?a[l].push(g):a[l]=[g]},Ue),u3=ot(ec);function yn(a){return zn(a)?iS(a):Eg(a)}function Yn(a){return zn(a)?iS(a,!0):qj(a)}function c3(a,l){var g={};return l=Ue(l,3),ai(a,function(O,L,K){xi(g,l(O,L,K),O)}),g}function l3(a,l){var g={};return l=Ue(l,3),ai(a,function(O,L,K){xi(g,L,l(O,L,K))}),g}var f3=wa(function(a,l,g){pd(a,l,g)}),C$=wa(function(a,l,g,O){pd(a,l,g,O)}),d3=Wi(function(a,l){var g={};if(a==null)return g;var O=!1;l=Ut(l,function(K){return K=gs(K,a),O||(O=K.length>1),K}),ui(a,Lg(a),g),O&&(g=Tr(g,h|y|w,oq));for(var L=l.length;L--;)Cg(g,l[L]);return g});function h3(a,l){return O$(a,Cd(Ue(l)))}var p3=Wi(function(a,l){return a==null?{}:Bj(a,l)});function O$(a,l){if(a==null)return{};var g=Ut(Lg(a),function(O){return[O]});return l=Ue(l),wS(a,g,function(O,L){return l(O,L[0])})}function m3(a,l,g){l=gs(l,a);var O=-1,L=l.length;for(L||(L=1,a=n);++O<L;){var K=a==null?n:a[ci(l[O])];K===n&&(O=L,K=g),a=Vi(K)?K.call(a):K}return a}function g3(a,l,g){return a==null?a:nc(a,l,g)}function y3(a,l,g,O){return O=typeof O=="function"?O:n,a==null?a:nc(a,l,g,O)}var P$=US(yn),R$=US(Yn);function v3(a,l,g){var O=Ze(a),L=O||vs(a)||Sa(a);if(l=Ue(l,4),g==null){var K=a&&a.constructor;L?g=O?new K:[]:Gt(a)?g=Vi(K)?Da(rd(a)):{}:g={}}return(L?Er:ai)(a,function(ee,ie,le){return l(g,ee,ie,le)}),g}function b3(a,l){return a==null?!0:Cg(a,l)}function D3(a,l,g){return a==null?a:TS(a,l,Rg(g))}function w3(a,l,g,O){return O=typeof O=="function"?O:n,a==null?a:TS(a,l,Rg(g),O)}function $a(a){return a==null?[]:lg(a,yn(a))}function _3(a){return a==null?[]:lg(a,Yn(a))}function E3(a,l,g){return g===n&&(g=l,l=n),g!==n&&(g=Cr(g),g=g===g?g:0),l!==n&&(l=Cr(l),l=l===l?l:0),go(Cr(a),l,g)}function S3(a,l,g){return l=Hi(l),g===n?(g=l,l=0):g=Hi(g),a=Cr(a),Oj(a,l,g)}function $3(a,l,g){if(g&&typeof g!="boolean"&&jn(a,l,g)&&(l=g=n),g===n&&(typeof l=="boolean"?(g=l,l=n):typeof a=="boolean"&&(g=a,a=n)),a===n&&l===n?(a=0,l=1):(a=Hi(a),l===n?(l=a,a=0):l=Hi(l)),a>l){var O=a;a=l,l=O}if(g||a%1||l%1){var L=nS();return Tn(a+L*(l-a+rL("1e-"+((L+"").length-1))),l)}return Tg(a,l)}var T3=_a(function(a,l,g){return l=l.toLowerCase(),a+(g?N$(l):l)});function N$(a){return Zg(St(a).toLowerCase())}function F$(a){return a=St(a),a&&a.replace(bt,gL).replace(zM,"")}function k3(a,l,g){a=St(a),l=or(l);var O=a.length;g=g===n?O:go(nt(g),0,O);var L=g;return g-=l.length,g>=0&&a.slice(g,L)==l}function A3(a){return a=St(a),a&&et.test(a)?a.replace(at,yL):a}function C3(a){return a=St(a),a&&oi.test(a)?a.replace(cs,"\\$&"):a}var O3=_a(function(a,l,g){return a+(g?"-":"")+l.toLowerCase()}),P3=_a(function(a,l,g){return a+(g?" ":"")+l.toLowerCase()}),R3=LS("toLowerCase");function N3(a,l,g){a=St(a),l=nt(l);var O=l?ma(a):0;if(!l||O>=l)return a;var L=(l-O)/2;return Dd(ad(L),g)+a+Dd(od(L),g)}function F3(a,l,g){a=St(a),l=nt(l);var O=l?ma(a):0;return l&&O<l?a+Dd(l-O,g):a}function I3(a,l,g){a=St(a),l=nt(l);var O=l?ma(a):0;return l&&O<l?Dd(l-O,g)+a:a}function M3(a,l,g){return g||l==null?l=0:l&&(l=+l),UL(St(a).replace(Li,""),l||0)}function L3(a,l,g){return(g?jn(a,l,g):l===n)?l=1:l=nt(l),kg(St(a),l)}function j3(){var a=arguments,l=St(a[0]);return a.length<3?l:l.replace(a[1],a[2])}var q3=_a(function(a,l,g){return a+(g?"_":"")+l.toLowerCase()});function x3(a,l,g){return g&&typeof g!="number"&&jn(a,l,g)&&(l=g=n),g=g===n?U:g>>>0,g?(a=St(a),a&&(typeof l=="string"||l!=null&&!Jg(l))&&(l=or(l),!l&&pa(a))?ys(xr(a),0,g):a.split(l,g)):[]}var B3=_a(function(a,l,g){return a+(g?" ":"")+Zg(l)});function W3(a,l,g){return a=St(a),g=g==null?0:go(nt(g),0,a.length),l=or(l),a.slice(g,g+l.length)==l}function U3(a,l,g){var O=H.templateSettings;g&&jn(a,l,g)&&(l=n),a=St(a),l=Rd({},l,O,VS);var L=Rd({},l.imports,O.imports,VS),K=yn(L),ee=lg(L,K),ie,le,ve=0,De=l.interpolate||Wt,_e="__p += '",Oe=dg((l.escape||Wt).source+"|"+De.source+"|"+(De===Zt?Ie:Wt).source+"|"+(l.evaluate||Wt).source+"|$","g"),Me="//# sourceURL="+(Ot.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++XM+"]")+`
`;a.replace(Oe,function(He,ut,pt,ur,qn,cr){return pt||(pt=ur),_e+=a.slice(ve,cr).replace(En,vL),ut&&(ie=!0,_e+=`' +
__e(`+ut+`) +
'`),qn&&(le=!0,_e+=`';
`+qn+`;
__p += '`),pt&&(_e+=`' +
((__t = (`+pt+`)) == null ? '' : __t) +
'`),ve=cr+He.length,He}),_e+=`';
`;var Ve=Ot.call(l,"variable")&&l.variable;if(!Ve)_e=`with (obj) {
`+_e+`
}
`;else if(be.test(Ve))throw new Xe(u);_e=(le?_e.replace(je,""):_e).replace(Pe,"$1").replace(qe,"$1;"),_e="function("+(Ve||"obj")+`) {
`+(Ve?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ie?", __e = _.escape":"")+(le?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+_e+`return __p
}`;var it=M$(function(){return Dt(K,Me+"return "+_e).apply(n,ee)});if(it.source=_e,Gg(it))throw it;return it}function V3(a){return St(a).toLowerCase()}function H3(a){return St(a).toUpperCase()}function K3(a,l,g){if(a=St(a),a&&(g||l===n))return HE(a);if(!a||!(l=or(l)))return a;var O=xr(a),L=xr(l),K=KE(O,L),ee=zE(O,L)+1;return ys(O,K,ee).join("")}function z3(a,l,g){if(a=St(a),a&&(g||l===n))return a.slice(0,GE(a)+1);if(!a||!(l=or(l)))return a;var O=xr(a),L=zE(O,xr(l))+1;return ys(O,0,L).join("")}function Y3(a,l,g){if(a=St(a),a&&(g||l===n))return a.replace(Li,"");if(!a||!(l=or(l)))return a;var O=xr(a),L=KE(O,xr(l));return ys(O,L).join("")}function G3(a,l){var g=N,O=F;if(Gt(l)){var L="separator"in l?l.separator:L;g="length"in l?nt(l.length):g,O="omission"in l?or(l.omission):O}a=St(a);var K=a.length;if(pa(a)){var ee=xr(a);K=ee.length}if(g>=K)return a;var ie=g-ma(O);if(ie<1)return O;var le=ee?ys(ee,0,ie).join(""):a.slice(0,ie);if(L===n)return le+O;if(ee&&(ie+=le.length-ie),Jg(L)){if(a.slice(ie).search(L)){var ve,De=le;for(L.global||(L=dg(L.source,St(Rt.exec(L))+"g")),L.lastIndex=0;ve=L.exec(De);)var _e=ve.index;le=le.slice(0,_e===n?ie:_e)}}else if(a.indexOf(or(L),ie)!=ie){var Oe=le.lastIndexOf(L);Oe>-1&&(le=le.slice(0,Oe))}return le+O}function J3(a){return a=St(a),a&&qt.test(a)?a.replace(Ce,$L):a}var Q3=_a(function(a,l,g){return a+(g?" ":"")+l.toUpperCase()}),Zg=LS("toUpperCase");function I$(a,l,g){return a=St(a),l=g?n:l,l===n?DL(a)?AL(a):fL(a):a.match(l)||[]}var M$=ot(function(a,l){try{return ir(a,n,l)}catch(g){return Gg(g)?g:new Xe(g)}}),X3=Wi(function(a,l){return Er(l,function(g){g=ci(g),xi(a,g,zg(a[g],a))}),a});function Z3(a){var l=a==null?0:a.length,g=Ue();return a=l?Ut(a,function(O){if(typeof O[1]!="function")throw new Sr(o);return[g(O[0]),O[1]]}):[],ot(function(O){for(var L=-1;++L<l;){var K=a[L];if(ir(K[0],this,O))return ir(K[1],this,O)}})}function e8(a){return $j(Tr(a,h))}function ey(a){return function(){return a}}function t8(a,l){return a==null||a!==a?l:a}var n8=qS(),r8=qS(!0);function Gn(a){return a}function ty(a){return mS(typeof a=="function"?a:Tr(a,h))}function i8(a){return yS(Tr(a,h))}function s8(a,l){return vS(a,Tr(l,h))}var o8=ot(function(a,l){return function(g){return ec(g,a,l)}}),a8=ot(function(a,l){return function(g){return ec(a,g,l)}});function ny(a,l,g){var O=yn(l),L=hd(l,O);g==null&&!(Gt(l)&&(L.length||!O.length))&&(g=l,l=a,a=this,L=hd(l,yn(l)));var K=!(Gt(g)&&"chain"in g)||!!g.chain,ee=Vi(a);return Er(L,function(ie){var le=l[ie];a[ie]=le,ee&&(a.prototype[ie]=function(){var ve=this.__chain__;if(K||ve){var De=a(this.__wrapped__),_e=De.__actions__=Kn(this.__actions__);return _e.push({func:le,args:arguments,thisArg:a}),De.__chain__=ve,De}return le.apply(a,fs([this.value()],arguments))})}),a}function u8(){return Sn._===this&&(Sn._=FL),this}function ry(){}function c8(a){return a=nt(a),ot(function(l){return bS(l,a)})}var l8=Fg(Ut),f8=Fg(xE),d8=Fg(sg);function L$(a){return Bg(a)?og(ci(a)):Wj(a)}function h8(a){return function(l){return a==null?n:yo(a,l)}}var p8=BS(),m8=BS(!0);function iy(){return[]}function sy(){return!1}function g8(){return{}}function y8(){return""}function v8(){return!0}function b8(a,l){if(a=nt(a),a<1||a>$e)return[];var g=U,O=Tn(a,U);l=Ue(l),a-=U;for(var L=cg(O,l);++g<a;)l(g);return L}function D8(a){return Ze(a)?Ut(a,ci):ar(a)?[a]:Kn(r$(St(a)))}function w8(a){var l=++RL;return St(a)+l}var _8=bd(function(a,l){return a+l},0),E8=Ig("ceil"),S8=bd(function(a,l){return a/l},1),$8=Ig("floor");function T8(a){return a&&a.length?dd(a,Gn,Dg):n}function k8(a,l){return a&&a.length?dd(a,Ue(l,2),Dg):n}function A8(a){return UE(a,Gn)}function C8(a,l){return UE(a,Ue(l,2))}function O8(a){return a&&a.length?dd(a,Gn,Sg):n}function P8(a,l){return a&&a.length?dd(a,Ue(l,2),Sg):n}var R8=bd(function(a,l){return a*l},1),N8=Ig("round"),F8=bd(function(a,l){return a-l},0);function I8(a){return a&&a.length?ug(a,Gn):0}function M8(a,l){return a&&a.length?ug(a,Ue(l,2)):0}return H.after=iB,H.ary=p$,H.assign=HB,H.assignIn=A$,H.assignInWith=Rd,H.assignWith=KB,H.at=zB,H.before=m$,H.bind=zg,H.bindAll=X3,H.bindKey=g$,H.castArray=gB,H.chain=f$,H.chunk=$q,H.compact=Tq,H.concat=kq,H.cond=Z3,H.conforms=e8,H.constant=ey,H.countBy=Ix,H.create=YB,H.curry=y$,H.curryRight=v$,H.debounce=b$,H.defaults=GB,H.defaultsDeep=JB,H.defer=sB,H.delay=oB,H.difference=Aq,H.differenceBy=Cq,H.differenceWith=Oq,H.drop=Pq,H.dropRight=Rq,H.dropRightWhile=Nq,H.dropWhile=Fq,H.fill=Iq,H.filter=Lx,H.flatMap=xx,H.flatMapDeep=Bx,H.flatMapDepth=Wx,H.flatten=a$,H.flattenDeep=Mq,H.flattenDepth=Lq,H.flip=aB,H.flow=n8,H.flowRight=r8,H.fromPairs=jq,H.functions=r3,H.functionsIn=i3,H.groupBy=Ux,H.initial=xq,H.intersection=Bq,H.intersectionBy=Wq,H.intersectionWith=Uq,H.invert=o3,H.invertBy=a3,H.invokeMap=Hx,H.iteratee=ty,H.keyBy=Kx,H.keys=yn,H.keysIn=Yn,H.map=Td,H.mapKeys=c3,H.mapValues=l3,H.matches=i8,H.matchesProperty=s8,H.memoize=Ad,H.merge=f3,H.mergeWith=C$,H.method=o8,H.methodOf=a8,H.mixin=ny,H.negate=Cd,H.nthArg=c8,H.omit=d3,H.omitBy=h3,H.once=uB,H.orderBy=zx,H.over=l8,H.overArgs=cB,H.overEvery=f8,H.overSome=d8,H.partial=Yg,H.partialRight=D$,H.partition=Yx,H.pick=p3,H.pickBy=O$,H.property=L$,H.propertyOf=h8,H.pull=zq,H.pullAll=c$,H.pullAllBy=Yq,H.pullAllWith=Gq,H.pullAt=Jq,H.range=p8,H.rangeRight=m8,H.rearg=lB,H.reject=Qx,H.remove=Qq,H.rest=fB,H.reverse=Hg,H.sampleSize=Zx,H.set=g3,H.setWith=y3,H.shuffle=eB,H.slice=Xq,H.sortBy=rB,H.sortedUniq=sx,H.sortedUniqBy=ox,H.split=x3,H.spread=dB,H.tail=ax,H.take=ux,H.takeRight=cx,H.takeRightWhile=lx,H.takeWhile=fx,H.tap=Tx,H.throttle=hB,H.thru=$d,H.toArray=$$,H.toPairs=P$,H.toPairsIn=R$,H.toPath=D8,H.toPlainObject=k$,H.transform=v3,H.unary=pB,H.union=dx,H.unionBy=hx,H.unionWith=px,H.uniq=mx,H.uniqBy=gx,H.uniqWith=yx,H.unset=b3,H.unzip=Kg,H.unzipWith=l$,H.update=D3,H.updateWith=w3,H.values=$a,H.valuesIn=_3,H.without=vx,H.words=I$,H.wrap=mB,H.xor=bx,H.xorBy=Dx,H.xorWith=wx,H.zip=_x,H.zipObject=Ex,H.zipObjectDeep=Sx,H.zipWith=$x,H.entries=P$,H.entriesIn=R$,H.extend=A$,H.extendWith=Rd,ny(H,H),H.add=_8,H.attempt=M$,H.camelCase=T3,H.capitalize=N$,H.ceil=E8,H.clamp=E3,H.clone=yB,H.cloneDeep=bB,H.cloneDeepWith=DB,H.cloneWith=vB,H.conformsTo=wB,H.deburr=F$,H.defaultTo=t8,H.divide=S8,H.endsWith=k3,H.eq=Wr,H.escape=A3,H.escapeRegExp=C3,H.every=Mx,H.find=jx,H.findIndex=s$,H.findKey=QB,H.findLast=qx,H.findLastIndex=o$,H.findLastKey=XB,H.floor=$8,H.forEach=d$,H.forEachRight=h$,H.forIn=ZB,H.forInRight=e3,H.forOwn=t3,H.forOwnRight=n3,H.get=Qg,H.gt=_B,H.gte=EB,H.has=s3,H.hasIn=Xg,H.head=u$,H.identity=Gn,H.includes=Vx,H.indexOf=qq,H.inRange=S3,H.invoke=u3,H.isArguments=Do,H.isArray=Ze,H.isArrayBuffer=SB,H.isArrayLike=zn,H.isArrayLikeObject=cn,H.isBoolean=$B,H.isBuffer=vs,H.isDate=TB,H.isElement=kB,H.isEmpty=AB,H.isEqual=CB,H.isEqualWith=OB,H.isError=Gg,H.isFinite=PB,H.isFunction=Vi,H.isInteger=w$,H.isLength=Od,H.isMap=_$,H.isMatch=RB,H.isMatchWith=NB,H.isNaN=FB,H.isNative=IB,H.isNil=LB,H.isNull=MB,H.isNumber=E$,H.isObject=Gt,H.isObjectLike=en,H.isPlainObject=oc,H.isRegExp=Jg,H.isSafeInteger=jB,H.isSet=S$,H.isString=Pd,H.isSymbol=ar,H.isTypedArray=Sa,H.isUndefined=qB,H.isWeakMap=xB,H.isWeakSet=BB,H.join=Vq,H.kebabCase=O3,H.last=Ar,H.lastIndexOf=Hq,H.lowerCase=P3,H.lowerFirst=R3,H.lt=WB,H.lte=UB,H.max=T8,H.maxBy=k8,H.mean=A8,H.meanBy=C8,H.min=O8,H.minBy=P8,H.stubArray=iy,H.stubFalse=sy,H.stubObject=g8,H.stubString=y8,H.stubTrue=v8,H.multiply=R8,H.nth=Kq,H.noConflict=u8,H.noop=ry,H.now=kd,H.pad=N3,H.padEnd=F3,H.padStart=I3,H.parseInt=M3,H.random=$3,H.reduce=Gx,H.reduceRight=Jx,H.repeat=L3,H.replace=j3,H.result=m3,H.round=N8,H.runInContext=ce,H.sample=Xx,H.size=tB,H.snakeCase=q3,H.some=nB,H.sortedIndex=Zq,H.sortedIndexBy=ex,H.sortedIndexOf=tx,H.sortedLastIndex=nx,H.sortedLastIndexBy=rx,H.sortedLastIndexOf=ix,H.startCase=B3,H.startsWith=W3,H.subtract=F8,H.sum=I8,H.sumBy=M8,H.template=U3,H.times=b8,H.toFinite=Hi,H.toInteger=nt,H.toLength=T$,H.toLower=V3,H.toNumber=Cr,H.toSafeInteger=VB,H.toString=St,H.toUpper=H3,H.trim=K3,H.trimEnd=z3,H.trimStart=Y3,H.truncate=G3,H.unescape=J3,H.uniqueId=w8,H.upperCase=Q3,H.upperFirst=Zg,H.each=d$,H.eachRight=h$,H.first=u$,ny(H,(function(){var a={};return ai(H,function(l,g){Ot.call(H.prototype,g)||(a[g]=l)}),a})(),{chain:!1}),H.VERSION=r,Er(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){H[a].placeholder=H}),Er(["drop","take"],function(a,l){ft.prototype[a]=function(g){g=g===n?1:hn(nt(g),0);var O=this.__filtered__&&!l?new ft(this):this.clone();return O.__filtered__?O.__takeCount__=Tn(g,O.__takeCount__):O.__views__.push({size:Tn(g,U),type:a+(O.__dir__<0?"Right":"")}),O},ft.prototype[a+"Right"]=function(g){return this.reverse()[a](g).reverse()}}),Er(["filter","map","takeWhile"],function(a,l){var g=l+1,O=g==X||g==ue;ft.prototype[a]=function(L){var K=this.clone();return K.__iteratees__.push({iteratee:Ue(L,3),type:g}),K.__filtered__=K.__filtered__||O,K}}),Er(["head","last"],function(a,l){var g="take"+(l?"Right":"");ft.prototype[a]=function(){return this[g](1).value()[0]}}),Er(["initial","tail"],function(a,l){var g="drop"+(l?"":"Right");ft.prototype[a]=function(){return this.__filtered__?new ft(this):this[g](1)}}),ft.prototype.compact=function(){return this.filter(Gn)},ft.prototype.find=function(a){return this.filter(a).head()},ft.prototype.findLast=function(a){return this.reverse().find(a)},ft.prototype.invokeMap=ot(function(a,l){return typeof a=="function"?new ft(this):this.map(function(g){return ec(g,a,l)})}),ft.prototype.reject=function(a){return this.filter(Cd(Ue(a)))},ft.prototype.slice=function(a,l){a=nt(a);var g=this;return g.__filtered__&&(a>0||l<0)?new ft(g):(a<0?g=g.takeRight(-a):a&&(g=g.drop(a)),l!==n&&(l=nt(l),g=l<0?g.dropRight(-l):g.take(l-a)),g)},ft.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},ft.prototype.toArray=function(){return this.take(U)},ai(ft.prototype,function(a,l){var g=/^(?:filter|find|map|reject)|While$/.test(l),O=/^(?:head|last)$/.test(l),L=H[O?"take"+(l=="last"?"Right":""):l],K=O||/^find/.test(l);L&&(H.prototype[l]=function(){var ee=this.__wrapped__,ie=O?[1]:arguments,le=ee instanceof ft,ve=ie[0],De=le||Ze(ee),_e=function(ut){var pt=L.apply(H,fs([ut],ie));return O&&Oe?pt[0]:pt};De&&g&&typeof ve=="function"&&ve.length!=1&&(le=De=!1);var Oe=this.__chain__,Me=!!this.__actions__.length,Ve=K&&!Oe,it=le&&!Me;if(!K&&De){ee=it?ee:new ft(this);var He=a.apply(ee,ie);return He.__actions__.push({func:$d,args:[_e],thisArg:n}),new $r(He,Oe)}return Ve&&it?a.apply(this,ie):(He=this.thru(_e),Ve?O?He.value()[0]:He.value():He)})}),Er(["pop","push","shift","sort","splice","unshift"],function(a){var l=Qf[a],g=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",O=/^(?:pop|shift)$/.test(a);H.prototype[a]=function(){var L=arguments;if(O&&!this.__chain__){var K=this.value();return l.apply(Ze(K)?K:[],L)}return this[g](function(ee){return l.apply(Ze(ee)?ee:[],L)})}}),ai(ft.prototype,function(a,l){var g=H[l];if(g){var O=g.name+"";Ot.call(ba,O)||(ba[O]=[]),ba[O].push({name:l,func:g})}}),ba[vd(n,T).name]=[{name:"wrapper",func:n}],ft.prototype.clone=JL,ft.prototype.reverse=QL,ft.prototype.value=XL,H.prototype.at=kx,H.prototype.chain=Ax,H.prototype.commit=Cx,H.prototype.next=Ox,H.prototype.plant=Rx,H.prototype.reverse=Nx,H.prototype.toJSON=H.prototype.valueOf=H.prototype.value=Fx,H.prototype.first=H.prototype.head,zu&&(H.prototype[zu]=Px),H}),ga=CL();fo?((fo.exports=ga)._=ga,tg._=ga):Sn._=ga}).call(XI)})(Pu,Pu.exports)),Pu.exports}var eM=ZI();class tM{constructor(t){this.clientCapabilities=t,this.indentation="  "}configure(t){this.indentation=t.indentation}getCodeAction(t,n){if(!n.context.diagnostics)return;const r=[];return r.push(...this.getConvertToBooleanActions(n.context.diagnostics,t)),r.push(...this.getJumpToSchemaActions(n.context.diagnostics)),r.push(...this.getTabToSpaceConverting(n.context.diagnostics,t)),r.push(...this.getUnusedAnchorsDelete(n.context.diagnostics,t)),r.push(...this.getConvertToBlockStyleActions(n.context.diagnostics,t)),r.push(...this.getKeyOrderActions(n.context.diagnostics,t)),r.push(...this.getQuickFixForPropertyOrValueMismatch(n.context.diagnostics,t)),r}getJumpToSchemaActions(t){var s,o,u,c;if(!(((u=(o=(s=this.clientCapabilities)==null?void 0:s.window)==null?void 0:o.showDocument)==null?void 0:u.support)??!1))return[];const r=new Map;for(const f of t){const d=((c=f.data)==null?void 0:c.schemaUri)||[];for(const h of d)h&&(r.has(h)||r.set(h,[]),r.get(h).push(f))}const i=[];for(const f of r.keys()){const d=Pr.create(`Jump to schema location (${xs.basename(f)})`,Yi.create("JumpToSchema",Uf.JUMP_TO_SCHEMA,f));d.diagnostics=r.get(f),i.push(d)}return i}getTabToSpaceConverting(t,n){const r=[],i=new Us(n),s=[];for(const o of t)if(o.message==="Using tabs can lead to unpredictable results"){if(s.includes(o.range.start.line))continue;const u=i.getLineContent(o.range.start.line);let c=0,f="";for(let h=o.range.start.character;h<=o.range.end.character&&u.charAt(h)==="	";h++)c++,f+=this.indentation;s.push(o.range.start.line);let d=o.range;c!==o.range.end.character-o.range.start.character&&(d=Be.create(o.range.start,tn.create(o.range.end.line,o.range.start.character+c))),r.push(Pr.create("Convert Tab to Spaces",oo(n.uri,[Pt.replace(d,f)]),Kr.QuickFix))}if(r.length!==0){const o=[];for(let u=0;u<=i.getLineCount();u++){const c=i.getLineContent(u);let f=0,d="";for(let h=0;h<c.length;h++){const y=c.charAt(h);if(y!==" "&&y!=="	"){f!==0&&(o.push(Pt.replace(Be.create(u,h-f,u,h),d)),f=0,d="");break}if(y===" "&&f!==0){o.push(Pt.replace(Be.create(u,h-f,u,h),d)),f=0,d="";continue}y==="	"&&(d+=this.indentation,f++)}f!==0&&o.push(Pt.replace(Be.create(u,0,u,i.getLineLength(u)),d))}o.length>0&&r.push(Pr.create("Convert all Tabs to Spaces",oo(n.uri,o),Kr.QuickFix))}return r}getUnusedAnchorsDelete(t,n){const r=[],i=new Us(n);for(const s of t)if(s.message.startsWith("Unused anchor")&&s.source===el){const o=Be.create(s.range.start,s.range.end),u=i.getText(o),c=i.getLineContent(o.end.line),f=XT(c,o.end.character);o.end.character=f;const d=Pr.create(`Delete unused anchor: ${u}`,oo(n.uri,[Pt.del(o)]),Kr.QuickFix);d.diagnostics=[s],r.push(d)}return r}getConvertToBooleanActions(t,n){const r=[];for(const i of t)if(i.message==='Incorrect type. Expected "boolean".'){const s=n.getText(i.range).toLocaleLowerCase();if(s==='"true"'||s==='"false"'||s==="'true'"||s==="'false'"){const o=s.includes("true")?"true":"false";r.push(Pr.create("Convert to boolean",oo(n.uri,[Pt.replace(i.range,o)]),Kr.QuickFix))}}return r}getConvertToBlockStyleActions(t,n){const r=[];for(const i of t)if(i.code==="flowMap"||i.code==="flowSeq"){const s=S_(n,i);if(Jt(s.internalNode)||sn(s.internalNode)){const o=Jt(s.internalNode)?"map":"sequence",u=new QI(this.indentation);r.push(Pr.create(`Convert to block style ${o}`,oo(n.uri,[Pt.replace(i.range,u.write(s))]),Kr.QuickFix))}}return r}getKeyOrderActions(t,n){var i,s,o,u,c,f,d,h,y,w,k,$;const r=[];for(const E of t)if((E==null?void 0:E.code)==="mapKeyOrder"){let T=S_(n,E);for(;T&&T.type!=="object";)T=T.parent;if(T&&Jt(T.internalNode)){const D=eM.cloneDeep(T.internalNode);if((D.srcToken.type==="block-map"||D.srcToken.type==="flow-collection")&&(T.internalNode.srcToken.type==="block-map"||T.internalNode.srcToken.type==="flow-collection")){D.srcToken.items.sort((b,m)=>{if(b.key&&m.key&&cp(b.key)&&cp(m.key))return b.key.source.localeCompare(m.key.source);if(!b.key&&m.key)return-1;if(b.key&&!m.key)return 1;if(!b.key&&!m.key)return 0});for(let b=0;b<D.srcToken.items.length;b++){const m=D.srcToken.items[b],v=T.internalNode.srcToken.items[b];if(m.start=v.start,((i=m.value)==null?void 0:i.type)==="alias"||((s=m.value)==null?void 0:s.type)==="scalar"||((o=m.value)==null?void 0:o.type)==="single-quoted-scalar"||((u=m.value)==null?void 0:u.type)==="double-quoted-scalar"){const _=((f=(c=m.value)==null?void 0:c.end)==null?void 0:f.findIndex(R=>R.type==="newline"))??-1;let P=null;((d=v.value)==null?void 0:d.type)==="block-scalar"?P=(y=(h=v.value)==null?void 0:h.props)==null?void 0:y.find(R=>R.type==="newline"):cp(v.value)&&(P=(k=(w=v.value)==null?void 0:w.end)==null?void 0:k.find(R=>R.type==="newline")),P&&_<0&&(m.value.end=m.value.end??[],m.value.end.push(P)),!P&&_>-1&&m.value.end.splice(_,1)}else(($=m.value)==null?void 0:$.type)==="block-scalar"&&(m.value.props.find(P=>P.type==="newline")||m.value.props.push({type:"newline",indent:0,offset:m.value.offset,source:`
`}))}}const p=Be.create(n.positionAt(T.offset),n.positionAt(T.offset+T.length));r.push(Pr.create("Fix key order for this map",oo(n.uri,[Pt.replace(p,gv(D.srcToken))]),Kr.QuickFix))}}return r}getPossibleQuickFixValues(t){if(typeof t.data=="object"){if(t.code===Bn.EnumValueMismatch&&"values"in t.data&&Array.isArray(t.data.values))return t.data.values;if(t.code===Bn.PropertyExpected&&"properties"in t.data&&Array.isArray(t.data.properties))return t.data.properties}}getQuickFixForPropertyOrValueMismatch(t,n){const r=[];for(const i of t){const s=this.getPossibleQuickFixValues(i);if(s!=null&&s.length)for(const o of s)r.push(Pr.create(o,oo(n.uri,[Pt.replace(i.range,o)]),Kr.QuickFix))}return r}}function S_(e,t){const n=gr.getYamlDocument(e),r=e.offsetAt(t.range.start);return Zc(r,n).getNodeFromOffset(r)}function oo(e,t){const n={};return n[e]=t,{changes:n}}function nM(e,t){const{position:n}=t,r=new Us(e);if(t.ch===`
`){const i=r.getLineContent(n.line-1);if(i.trimRight().endsWith(":")){const s=r.getLineContent(n.line),o=s.substring(n.character,s.length),u=i.indexOf(" - ")!==-1;if(o.trimRight().length===0){const c=n.character-(i.length-i.trimLeft().length);if(c===t.options.tabSize&&!u)return;const f=[];return s.length>0&&f.push(Pt.del(Be.create(n,tn.create(n.line,s.length-1)))),f.push(Pt.insert(n," ".repeat(t.options.tabSize+(u?2-c:0)))),f}if(u)return[Pt.insert(n," ".repeat(t.options.tabSize))]}if(i.trimRight().endsWith("|"))return[Pt.insert(n," ".repeat(t.options.tabSize))];if(i.includes(" - ")&&!i.includes(": "))return[Pt.insert(n,"- ")];if(i.includes(" - ")&&i.includes(": "))return[Pt.insert(n,"  ")]}}function $_(e){const t=new Map;return e&&(e.url?e.url.startsWith("schemaservice://combinedSchema/")?T_(e,t):t.set(e.url,e):T_(e,t)),t}function T_(e,t){e.allOf&&Km(e.allOf,t),e.anyOf&&Km(e.anyOf,t),e.oneOf&&Km(e.oneOf,t)}function Km(e,t){for(const n of e)!Vo(n)&&n.url&&!t.has(n.url)&&t.set(n.url,n)}class rM{constructor(t,n){this.schemaService=t,this.telemetry=n}async getCodeLens(t){var r;const n=[];try{const i=gr.getYamlDocument(t);let s=new Map;for(const o of i.documents){const u=await this.schemaService.getSchemaForResource(t.uri,o);u!=null&&u.schema&&(s=new Map([...$_(u==null?void 0:u.schema),...s]))}for(const o of s){const u=Dc.create(Be.create(0,0,0,0));u.command={title:Cv(o[1],o[0]),command:Uf.JUMP_TO_SCHEMA,arguments:[o[0]]},n.push(u)}}catch(i){(r=this.telemetry)==null||r.sendError("yaml.codeLens.error",i)}return n}resolveCodeLens(t){return t}}class iM{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function sM(e,t,n,r,i){i.spacesDiff=0,i.looksLikeAlignment=!1;let s;for(s=0;s<t&&s<r;s++){const y=e.charCodeAt(s),w=n.charCodeAt(s);if(y!==w)break}let o=0,u=0;for(let y=s;y<t;y++)e.charCodeAt(y)===32?o++:u++;let c=0,f=0;for(let y=s;y<r;y++)n.charCodeAt(y)===32?c++:f++;if(o>0&&u>0||c>0&&f>0)return;const d=Math.abs(u-f),h=Math.abs(o-c);if(d===0){i.spacesDiff=h,h>0&&0<=c-1&&c-1<e.length&&c<n.length&&n.charCodeAt(c)!==32&&e.charCodeAt(c-1)===32&&e.charCodeAt(e.length-1)===44&&(i.looksLikeAlignment=!0);return}h%d===0&&(i.spacesDiff=h/d)}function oM(e,t,n){const r=Math.min(e.getLineCount(),1e4);let i=0,s=0,o="",u=0;const c=[2,4,6,8,3,5,7],f=8,d=[0,0,0,0,0,0,0,0,0],h=new iM;for(let k=1;k<=r;k++){const $=e.getLineLength(k),E=e.getLineContent(k),T=$<=65536;let D=!1,p=0,b=0,m=0;for(let _=0,P=$;_<P;_++){const R=T?E.charCodeAt(_):e.getLineCharCode(k,_);if(R===9)m++;else if(R===32)b++;else{D=!0,p=_;break}}if(!D||(m>0?i++:b>1&&s++,sM(o,u,E,p,h),h.looksLikeAlignment&&t!==h.spacesDiff))continue;const v=h.spacesDiff;v<=f&&d[v]++,o=E,u=p}let y=n;i!==s&&(y=i<s);let w=t;if(y){let k=y?0:.1*r;c.forEach($=>{const E=d[$];E>k&&(k=E,w=$)}),w===4&&d[4]>0&&d[2]>0&&d[2]>=d[4]/2&&(w=2)}return{insertSpaces:y,tabSize:w}}function Vf(e,t,n,r,i=0,s=0){if(e!==null&&typeof e=="object"){const o=i===0&&r.shouldIndentWithTab||i>0?t+r.indentation:"";if(Array.isArray(e)){if(s+=1,e.length===0)return"";let u="";for(let c=0;c<e.length;c++){let f=e[c];if(typeof e[c]!="object"){u+=`
`+o+"- "+n(e[c]);continue}Array.isArray(e[c])||(f=aM(e[c],s)),u+=Vf(f,t,n,r,i+=1,s)}return u}else{const u=Object.keys(e);if(u.length===0)return"";let c=i===0&&r.newLineFirst||i>0?`
`:"",f=!0;for(let d=0;d<u.length;d++){const h=u[d];if(i===0&&r.existingProps.includes(h))continue;const y=typeof e[h]=="object",w=y?":":": ",k=y&&/^\s|-/.test(h)?r.indentation:"",$=o+k,E=f?"":`
`;if(i===0&&f&&!r.indentFirstObject){const T=Vf(e[h],$,n,r,i+1,0);c+=E+t+h+w+T}else{const T=Vf(e[h],$,n,r,i+1,0);c+=E+o+h+w+T}f=!1}return c}}return n(e)}function aM(e,t){const n={};for(let r=0;r<Object.keys(e).length;r++){const i=Object.keys(e)[r];r===0?n["- ".repeat(t)+i]=e[i]:n["  ".repeat(t)+i]=e[i]}return n}const uM=Gi.loadMessageBundle(),k_=/[\\]+"/g,A_=xn.Class,Hf="__";class cM{constructor(t,n={},r,i){this.schemaService=t,this.clientCapabilities=n,this.yamlDocument=r,this.telemetry=i,this.completionEnabled=!0,this.arrayPrefixIndentation="",this.isNumberExp=/^\d+$/}configure(t,n){var r;t&&(this.completionEnabled=t.completion),this.customTags=t.customTags,this.yamlVersion=t.yamlVersion,this.isSingleQuote=((r=n==null?void 0:n.yamlFormatterSettings)==null?void 0:r.singleQuote)||!1,this.configuredIndentation=t.indentation,this.disableDefaultProperties=t.disableDefaultProperties,this.parentSkeletonSelectedFirst=t.parentSkeletonSelectedFirst}async doComplete(t,n,r=!1,i=!0){var m;const s=bc.create([],!1);if(!this.completionEnabled)return s;const o=this.yamlDocument.getYamlDocument(t,{customTags:this.customTags,yamlVersion:this.yamlVersion},!0),u=new Us(t);if(this.configuredIndentation)this.indentation=this.configuredIndentation;else{const v=oM(u,2,!0);this.indentation=v.insertSpaces?" ".repeat(v.tabSize):"	"}t1(o.documents,r);for(const v of o.documents)v.uri=t.uri;const c=t.offsetAt(n),f=t.getText();if(f.charAt(c-1)===":")return Promise.resolve(s);let d=Zc(c,o);if(d===null)return Promise.resolve(s);d=d.clone();let[h,y]=d.getNodeFromPosition(c,u,this.indentation.length);const w=this.getCurrentWord(t,c);let k=u.getLineContent(n.line);const $=k.substring(n.character),E=/^[ ]+\n?$/.test($);this.arrayPrefixIndentation="";let T=null;if(E){T=Be.create(n,tn.create(n.line,k.length));const v=k.trim().length===0,_=k.match(/^\s*(-)\s*$/);if(h&&Je(h)&&!v&&!_){const P=k.substring(0,n.character),R=P.match(/^[\s-]*([^:]+)?$/)||P.match(/:[ \t]((?!:[ \t]).*)$/);R!=null&&R[1]&&(T=Be.create(tn.create(n.line,n.character-R[1].length),tn.create(n.line,k.length)))}}else if(h&&Je(h)&&h.value==="null"){const v=t.positionAt(h.range[0]);v.character+=1;const _=t.positionAt(h.range[2]);_.character+=1,T=Be.create(v,_)}else if(h&&Je(h)&&h.value){const v=t.positionAt(h.range[0]);T=Be.create(v,t.positionAt(h.range[1]))}else if(h&&Je(h)&&h.value===null&&w==="-")T=Be.create(n,n),this.arrayPrefixIndentation=" ";else{let v=c-w.length;v>0&&f[v-1]==='"'&&v--,T=Be.create(t.positionAt(v),n)}const D={},p={add:(v,_)=>{const P=function(I){var We;if(((We=D[I.label])==null?void 0:We.label)===Hf)return;const oe=I.parent.schema,ue=pp(oe),he=oe.markdownDescription||oe.description;let $e=s.items.find(ge=>{var U;return((U=ge.parent)==null?void 0:U.schema)===oe&&ge.kind===A_});$e&&$e.parent.insertTexts.includes(I.insertText)||($e?$e.parent.insertTexts.push(I.insertText):($e={...I,label:ue,documentation:he,sortText:"_"+ue,kind:A_},$e.label=$e.label||I.label,$e.parent.insertTexts=[I.insertText],s.items.push($e)))},R=!!v.parent;let N=v.label;if(!N){console.warn(`Ignoring CompletionItem without label: ${JSON.stringify(v)}`);return}if(Ho(N)||(N=String(N)),N=N.replace(/[\n]/g,"↵"),N.length>60){const I=N.substr(0,57).trim()+"...";D[I]||(N=I)}if(v.insertText.endsWith("$1")&&!R&&(v.insertText=v.insertText.substr(0,v.insertText.length-2)),T&&T.start.line===T.end.line&&(v.textEdit=Pt.replace(T,v.insertText)),v.label=N,R){P(v);return}this.arrayPrefixIndentation&&this.updateCompletionText(v,this.arrayPrefixIndentation+v.insertText);const F=D[N],j=(F==null?void 0:F.label)!==Hf&&(F==null?void 0:F.insertText)!==v.insertText;if(!F)D[N]=v,s.items.push(v);else if(j){const I=this.mergeSimpleInsertTexts(N,F.insertText,v.insertText,_);I?this.updateCompletionText(F,I):(D[N]=v,s.items.push(v))}F&&!F.documentation&&v.documentation&&(F.documentation=v.documentation)},error:v=>{var _;(_=this.telemetry)==null||_.sendError("yaml.completion.error",v)},log:v=>{console.log(v)},getNumberOfProposals:()=>s.items.length,result:s,proposed:D};this.customTags&&this.customTags.length>0&&this.getCustomTagValueCompletions(p),k.endsWith(`
`)&&(k=k.substr(0,k.length-1));try{const v=await this.schemaService.getSchemaForResource(t.uri,d);if((!v||v.errors.length)&&n.line===0&&n.character===0&&!Sp(k)){const N={kind:xn.Text,label:"Inline schema",insertText:"# yaml-language-server: $schema=",insertTextFormat:pn.PlainText};s.items.push(N)}if(Sp(k)||iC(o.tokens,c)){const N=k.indexOf("$schema=");return N!==-1&&N+8<=n.character&&this.schemaService.getAllSchemas().forEach(F=>{const j={kind:xn.Constant,label:F.name??F.uri,detail:F.description,insertText:F.uri,insertTextFormat:pn.PlainText,insertTextMode:yc.asIs};s.items.push(j)}),s}if(!v||v.errors.length)return s;let _=null;if(!h)if(!d.internalDocument.contents||Je(d.internalDocument.contents)){const N=d.internalDocument.createNode({});N.range=[c,c+1,c+1],d.internalDocument.contents=N,d.updateFromInternalDocument(),h=N}else h=d.findClosestNode(c,u),y=!0;const P=h;if(h)if(k.length===0)h=d.internalDocument.contents;else{const N=d.getParent(h);if(N){if(Je(h)){if(h.value){if(wt(N)){if(N.value===h){if(k.trim().length>0&&k.indexOf(":")<0){const F=this.createTempObjNode(w,h,d),j=d.getParent(N);if(sn(d.internalDocument.contents)){const I=rC(d.internalDocument.contents,N);typeof I=="number"&&(d.internalDocument.set(I,F),d.updateFromInternalDocument())}else j&&(Jt(j)||sn(j))?(j.set(N.key,F),d.updateFromInternalDocument()):(d.internalDocument.set(N.key,F),d.updateFromInternalDocument());_=F.items[0],h=F}else if(k.trim().length===0){const F=d.getParent(N);F&&(h=F)}}else if(N.key===h){const F=d.getParent(N);_=N,F&&(h=F)}}else if(sn(N))if(k.trim().length>0){const F=this.createTempObjNode(w,h,d);N.delete(h),N.add(F),d.updateFromInternalDocument(),h=F}else h=N}else if(h.value===null){if(wt(N)){if(N.key===h)h=N;else if($t(N.key)&&N.key.range){const F=d.getParent(N);if(y&&F&&Jt(F)&&nC(F))h=F;else{const j=t.positionAt(N.key.range[0]);if(n.character>j.character&&n.line!==j.line){const I=this.createTempObjNode(w,h,d);F&&(Jt(F)||sn(F))?(F.set(N.key,I),d.updateFromInternalDocument()):(d.internalDocument.set(N.key,I),d.updateFromInternalDocument()),_=I.items[0],h=I}else j.character===n.character&&F&&(h=F)}}}else if(sn(N))if(k.charAt(n.character-1)!=="-"){const F=this.createTempObjNode(w,h,d);N.delete(h),N.add(F),d.updateFromInternalDocument(),h=F}else if(k.charAt(n.character-1)==="-"){const F=this.createTempObjNode("",h,d);N.delete(h),N.add(F),d.updateFromInternalDocument(),h=F}else h=N}}else if(Jt(h)&&!y&&k.trim().length===0&&sn(N)){const F=u.getLineContent(n.line+1);(u.getLineCount()===n.line+1||F.trim().length===0)&&(h=N)}}else if(Je(h)){const F=this.createTempObjNode(w,h,d);d.internalDocument.contents=F,d.updateFromInternalDocument(),_=F.items[0],h=F}else if(Jt(h))for(const F of h.items)$t(F.value)&&F.value.range&&F.value.range[0]===c+1&&(h=F.value);else if(sn(h)&&k.charAt(n.character-1)!=="-"){const F=this.createTempObjNode(w,h,d);F.items=[],d.updateFromInternalDocument();for(const j of h.items)Jt(j)&&j.items.forEach(I=>{F.items.push(I)});h=F}}if(h&&Jt(h)){const N=h.items;for(const F of N)(!_||_!==F)&&Je(F.key)&&(D[F.key.value+""]=vc.create(Hf));this.addPropertyCompletions(v,d,h,P,"",p,u,T,i),!v&&w.length>0&&f.charAt(c-w.length-1)!=='"'&&p.add({kind:xn.Property,label:w,insertText:this.getInsertTextForProperty(w,null,""),insertTextFormat:pn.Snippet})}const R={};this.getValueCompletions(v,d,h,c,t,p,R,i)}catch(v){(m=this.telemetry)==null||m.sendError("yaml.completion.error",v)}this.finalizeParentCompletion(s);const b=s.items.filter((v,_,P)=>_===P.findIndex(R=>R.label===v.label&&R.insertText===v.insertText&&R.kind===v.kind));return(b==null?void 0:b.length)>0&&(s.items=b),s}updateCompletionText(t,n){t.insertText=n,t.textEdit&&(t.textEdit.newText=n)}mergeSimpleInsertTexts(t,n,r,i){const s=h=>h.includes(`
`),o=h=>h.startsWith(`
`),u=h=>{const y=h.indexOf(`
`);return y>0&&h.substring(y,h.length).trim().length===0};if(s(n)||s(r))return i&&u(n)&&!u(r)&&!o(r)?r:void 0;const c=this.getValuesFromInsertText(n),f=this.getValuesFromInsertText(r),d=Array.prototype.concat(c,f);if(d.length)return d.length===1?`${t}: \${1:${d[0]}}`:`${t}: \${1|${d.join(",")}|}`}getValuesFromInsertText(t){const n=t.substring(t.indexOf(":")+1).trim();if(!n)return[];const r=n.match(/^\${1[|:]([^|]*)+\|?}$/);return r?r[1].split(","):[n]}finalizeParentCompletion(t){const n=r=>{let i=0;return r.map(s=>{const o=s.match(/\$([0-9]+)|\${[0-9]+:/g);if(!o)return s;const u=o.map(f=>+f.replace(/\${([0-9]+)[:|]/g,"$1").replace("$","")).reduce((f,d)=>d>f?d:f,0),c=s.replace(/\$([0-9]+)/g,(f,d)=>"$"+(+d+i)).replace(/\${([0-9]+)[:|]/g,(f,d)=>"${"+(+d+i)+":");return i+=u,c})};t.items.forEach(r=>{if(this.isParentCompletionItem(r)){const i=r.parent.indent||"";let o=n(r.parent.insertTexts).join(`
${i}`);o.endsWith("$1")&&(o=o.substring(0,o.length-2)),r.insertText=this.arrayPrefixIndentation+o,r.textEdit&&(r.textEdit.newText=r.insertText);const u=o.replace(/\${[0-9]+[:|](.*)}/g,(f,d)=>d).replace(/\$([0-9]+)/g,""),c=r.documentation?[r.documentation,"","----",""]:[];r.documentation={kind:Hr.Markdown,value:[...c,"```yaml",i+u,"```"].join(`
`)},delete r.parent}})}createTempObjNode(t,n,r){const i={};i[t]=null;const s=r.internalDocument.createNode(i);return s.range=n.range,s.items[0].key.range=n.range,s.items[0].value.range=n.range,s}addPropertyCompletions(t,n,r,i,s,o,u,c,f){var b,m,v;const d=n.getMatchingSchemas(t.schema,-1,null,f),h=u.getText(c),y=u.getLineContent(c.start.line),w=y.trim().length===0,k=y.indexOf(":")!==-1,$=y.trimLeft().indexOf("-")===0,E=n.getParent(r),T=d.find(_=>_.node.internalNode===i&&_.schema.properties),D=d.filter(_=>_.schema.oneOf).map(_=>_.schema.oneOf)[0];let p=!1;(D==null?void 0:D.length)<d.length&&(D==null||D.forEach((_,P)=>{var R,N;!((R=d[P])!=null&&R.schema.oneOf)&&((N=d[P])==null?void 0:N.schema.properties)===_.properties&&(p=!0)}));for(const _ of d){if((_.node.internalNode===r&&!T||_.node.internalNode===i&&!k||((b=_.node.parent)==null?void 0:b.internalNode)===i&&!k)&&!_.inverted){this.collectDefaultSnippets(_.schema,s,o,{newLineFirst:!1,indentFirstObject:!1,shouldIndentWithTab:$});const P=_.schema.properties;if(P){const R=_.schema.maxProperties;if(R===void 0||r.items===void 0||r.items.length<R||r.items.length===R&&!w){for(const N in P)if(Object.prototype.hasOwnProperty.call(P,N)){const F=P[N];if(typeof F=="object"&&!F.deprecationMessage&&!F.doNotSuggest){let j="";if(E&&sn(E)&&r.items.length<=1&&!w){const he=u.getText(),$e=he.lastIndexOf("-",r.range[0]-1);if($e>=0){const We=c.end.character-c.start.character;j=" "+he.slice($e+1,r.range[1]-We)}}j+=this.arrayPrefixIndentation;let I;F.type==="array"&&(I=r.items.find(he=>Je(he.key)&&he.key.range&&he.key.value===N&&Je(he.value)&&!he.value.value&&u.getPosition(he.key.range[2]).line===c.end.line-1))&&I&&(Array.isArray(F.items)?this.addSchemaValueCompletions(F.items[0],s,o,{},"property"):typeof F.items=="object"&&F.items.type==="object"&&this.addArrayItemValueCompletion(F.items,s,o));let X=N;(!N.startsWith(h)||!k)&&(X=this.getInsertTextForProperty(N,F,s,j+this.indentation));const oe=Je(i)&&i.value===null||Jt(i)&&i.items.length===0,ue=((m=_.schema.required)==null?void 0:m.length)>0;(!this.parentSkeletonSelectedFirst||!oe||!ue)&&o.add({kind:xn.Property,label:N,insertText:X,insertTextFormat:pn.Snippet,documentation:this.fromMarkup(F.markdownDescription)||F.description||""},p),(v=_.schema.required)!=null&&v.includes(N)&&o.add({label:N,insertText:this.getInsertTextForProperty(N,F,s,j+this.indentation),insertTextFormat:pn.Snippet,documentation:this.fromMarkup(F.markdownDescription)||F.description||"",parent:{schema:_.schema,indent:j}})}}}}if(E&&sn(E)&&_A(_.schema)&&this.addSchemaValueCompletions(_.schema,s,o,{},"property",Array.isArray(E.items)),_.schema.propertyNames&&_.schema.additionalProperties&&_.schema.type==="object"){const R=Fn(_.schema.propertyNames),N=R.title||"property";o.add({kind:xn.Property,label:N,insertText:`\${1:${N}}: `,insertTextFormat:pn.Snippet,documentation:this.fromMarkup(R.markdownDescription)||R.description||""})}}E&&_.node.internalNode===E&&_.schema.defaultSnippets&&(r.items.length===1?this.collectDefaultSnippets(_.schema,s,o,{newLineFirst:!1,indentFirstObject:!1,shouldIndentWithTab:!0},1):this.collectDefaultSnippets(_.schema,s,o,{newLineFirst:!1,indentFirstObject:!0,shouldIndentWithTab:!1},1))}}getValueCompletions(t,n,r,i,s,o,u,c){let f=null;if(r&&Je(r)&&(r=n.getParent(r)),!r){this.addSchemaValueCompletions(t.schema,"",o,u,"value");return}if(wt(r)){const d=r.value;if(d&&d.range&&i>d.range[0]+d.range[2])return;f=Je(r.key)?r.key.value+"":null,r=n.getParent(r)}if(r&&(f!==null||sn(r))){const h=n.getMatchingSchemas(t.schema,-1,null,c);for(const y of h)if(y.node.internalNode===r&&!y.inverted&&y.schema){if(y.schema.items&&(this.collectDefaultSnippets(y.schema,"",o,{newLineFirst:!1,indentFirstObject:!1,shouldIndentWithTab:!1}),sn(r)&&r.items))if(Array.isArray(y.schema.items)){const w=this.findItemAtOffset(r,s,i);w<y.schema.items.length&&this.addSchemaValueCompletions(y.schema.items[w],"",o,u,"value")}else typeof y.schema.items=="object"&&(y.schema.items.type==="object"||mp(y.schema.items))?this.addSchemaValueCompletions(y.schema.items,"",o,u,"value",!0):this.addSchemaValueCompletions(y.schema.items,"",o,u,"value");if(y.schema.properties){const w=y.schema.properties[f];w&&this.addSchemaValueCompletions(w,"",o,u,"value")}y.schema.additionalProperties&&this.addSchemaValueCompletions(y.schema.additionalProperties,"",o,u,"value")}u.boolean&&(this.addBooleanValueCompletion(!0,"",o),this.addBooleanValueCompletion(!1,"",o)),u.null&&this.addNullValueCompletion("",o)}}addArrayItemValueCompletion(t,n,r,i){const s=pp(t),o=`- ${this.getInsertTextForObject(t,n).insertText.trimLeft()}`,u=s?" type `"+s+"`":"",c=t.description?" ("+t.description+")":"",f=this.getDocumentationWithMarkdownText(`Create an item of an array${u}${c}`,o);r.add({kind:this.getSuggestionKind(t.type),label:"- (array item) "+(s||i),documentation:f,insertText:o,insertTextFormat:pn.Snippet})}getInsertTextForProperty(t,n,r,i=this.indentation){const s=this.getInsertTextForValue(t,"","string"),o=s+":";let u,c=0;if(n){let f=Array.isArray(n.type)?n.type[0]:n.type;if(f||(n.properties?f="object":n.items?f="array":n.anyOf&&(f="anyOf")),Array.isArray(n.defaultSnippets)){if(n.defaultSnippets.length===1){const d=n.defaultSnippets[0].body;Bs(d)&&(u=this.getInsertTextForSnippetValue(d,"",{newLineFirst:!0,indentFirstObject:!1,shouldIndentWithTab:!1},[],1),!u.startsWith(" ")&&!u.startsWith(`
`)&&(u=" "+u))}c+=n.defaultSnippets.length}if(n.enum&&(!u&&n.enum.length===1&&(u=" "+this.getInsertTextForGuessedValue(n.enum[0],"",f)),c+=n.enum.length),n.const&&(u||(u=this.getInsertTextForGuessedValue(n.const,"",f),u=this.evaluateTab1Symbol(u),u=" "+u),c++),Bs(n.default)&&(u||(u=" "+this.getInsertTextForGuessedValue(n.default,"",f)),c++),Array.isArray(n.examples)&&n.examples.length&&(u||(u=" "+this.getInsertTextForGuessedValue(n.examples[0],"",f)),c+=n.examples.length),n.properties)return`${o}
${this.getInsertTextForObject(n,r,i).insertText}`;if(n.items)return`${o}
${i}- ${this.getInsertTextForArray(n.items,r,1,i).insertText}`;if(c===0)switch(f){case"boolean":u=" $1";break;case"string":u=" $1";break;case"object":u=`
${i}`;break;case"array":u=`
${i}- `;break;case"number":case"integer":u=" ${1:0}";break;case"null":u=" ${1:null}";break;case"anyOf":u=" $1";break;default:return s}}return(!u||c>1)&&(u=" $1"),o+u+r}getInsertTextForObject(t,n,r=this.indentation,i=1){let s="";return t.properties?(Object.keys(t.properties).forEach(o=>{const u=t.properties[o];let c=Array.isArray(u.type)?u.type[0]:u.type;if(c||(u.anyOf&&(c="anyOf"),u.properties&&(c="object"),u.items&&(c="array")),t.required&&t.required.indexOf(o)>-1)switch(c){case"boolean":case"string":case"number":case"integer":case"anyOf":{let f=u.default||u.const;f?(c==="string"&&(f=this.convertToStringValue(f)),s+=`${r}${o}: \${${i++}:${f}}
`):s+=`${r}${o}: $${i++}
`;break}case"array":{const f=this.getInsertTextForArray(u.items,n,i++,r),d=f.insertText.split(`
`);let h=f.insertText;if(d.length>1){for(let y=1;y<d.length;y++){const w=d[y];d[y]=`  ${w}`}h=d.join(`
`)}i=f.insertIndex,s+=`${r}${o}:
${r}${this.indentation}- ${h}
`}break;case"object":{const f=this.getInsertTextForObject(u,n,`${r}${this.indentation}`,i++);i=f.insertIndex,s+=`${r}${o}:
${f.insertText}
`}break}else if(!this.disableDefaultProperties&&u.default!==void 0)switch(c){case"boolean":case"number":case"integer":s+=`${r}${o==="null"?this.getInsertTextForValue(o,"","string"):o}: \${${i++}:${u.default}}
`;break;case"string":s+=`${r}${o}: \${${i++}:${this.convertToStringValue(u.default)}}
`;break}}),s.trim().length===0&&(s=`${r}$${i++}
`),s=s.trimRight()+n,{insertText:s,insertIndex:i}):(s=`${r}$${i++}
`,{insertText:s,insertIndex:i})}getInsertTextForArray(t,n,r=1,i=this.indentation){let s="";if(!t)return s=`$${r++}`,{insertText:s,insertIndex:r};let o=Array.isArray(t.type)?t.type[0]:t.type;switch(o||(t.properties&&(o="object"),t.items&&(o="array")),t.type){case"boolean":s=`\${${r++}:false}`;break;case"number":case"integer":s=`\${${r++}:0}`;break;case"string":s=`\${${r++}}`;break;case"object":{const u=this.getInsertTextForObject(t,n,`${i}  `,r++);s=u.insertText.trimLeft(),r=u.insertIndex}break}return{insertText:s,insertIndex:r}}getInsertTextForGuessedValue(t,n,r){switch(typeof t){case"object":return t===null?"${1:null}"+n:this.getInsertTextForValue(t,n,r);case"string":{let i=JSON.stringify(t);return i=i.substr(1,i.length-2),i=this.getInsertTextForPlainText(i),r==="string"&&(i=this.convertToStringValue(i)),"${1:"+i+"}"+n}case"number":case"boolean":return"${1:"+t+"}"+n}return this.getInsertTextForValue(t,n,r)}getInsertTextForPlainText(t){return t.replace(/[\\$}]/g,"\\$&")}getInsertTextForValue(t,n,r){if(t===null)return"null";switch(typeof t){case"object":{const i=this.indentation;return this.getInsertTemplateForValue(t,i,{index:1},n)}case"number":case"boolean":return this.getInsertTextForPlainText(t+n)}return r=Array.isArray(r)?r[0]:r,r==="string"&&(t=this.convertToStringValue(t)),this.getInsertTextForPlainText(t+n)}getInsertTemplateForValue(t,n,r,i){if(Array.isArray(t)){let s=`
`;for(const o of t)s+=`${n}- \${${r.index++}:${o}}
`;return s}else if(typeof t=="object"){let s=`
`;for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)){const u=t[o];s+=`${n}\${${r.index++}:${o}}:`;let c;typeof u=="object"?c=`${this.getInsertTemplateForValue(u,n+this.indentation,r,i)}`:c=` \${${r.index++}:${this.getInsertTextForPlainText(u+i)}}
`,s+=`${c}`}return s}return this.getInsertTextForPlainText(t+i)}addSchemaValueCompletions(t,n,r,i,s,o){typeof t=="object"&&(this.addEnumValueCompletions(t,n,r,o),this.addDefaultValueCompletions(t,n,r),this.collectTypes(t,i),o&&s==="value"&&!mp(t)&&this.addArrayItemValueCompletion(t,n,r),Array.isArray(t.allOf)&&t.allOf.forEach(u=>this.addSchemaValueCompletions(u,n,r,i,s,o)),Array.isArray(t.anyOf)&&t.anyOf.forEach(u=>this.addSchemaValueCompletions(u,n,r,i,s,o)),Array.isArray(t.oneOf)&&t.oneOf.forEach(u=>this.addSchemaValueCompletions(u,n,r,i,s,o)))}collectTypes(t,n){if(Array.isArray(t.enum)||Bs(t.const))return;const r=t.type;Array.isArray(r)?r.forEach(function(i){return n[i]=!0}):r&&(n[r]=!0)}addDefaultValueCompletions(t,n,r,i=0){let s=!1;if(Bs(t.default)){let o=t.type,u=t.default;for(let f=i;f>0;f--)u=[u],o="array";let c;typeof u=="object"?c="Default value":c=u.toString().replace(k_,'"'),r.add({kind:this.getSuggestionKind(o),label:c,insertText:this.getInsertTextForValue(u,n,o),insertTextFormat:pn.Snippet,detail:uM("json.suggest.default","Default value")}),s=!0}Array.isArray(t.examples)&&t.examples.forEach(o=>{let u=t.type,c=o;for(let f=i;f>0;f--)c=[c],u="array";r.add({kind:this.getSuggestionKind(u),label:this.getLabelForValue(c),insertText:this.getInsertTextForValue(c,n,u),insertTextFormat:pn.Snippet}),s=!0}),this.collectDefaultSnippets(t,n,r,{newLineFirst:!0,indentFirstObject:!0,shouldIndentWithTab:!0}),!s&&typeof t.items=="object"&&!Array.isArray(t.items)&&this.addDefaultValueCompletions(t.items,n,r,i+1)}addEnumValueCompletions(t,n,r,i){if(Bs(t.const)&&!i&&r.add({kind:this.getSuggestionKind(t.type),label:this.getLabelForValue(t.const),insertText:this.getInsertTextForValue(t.const,n,t.type),insertTextFormat:pn.Snippet,documentation:this.fromMarkup(t.markdownDescription)||t.description}),Array.isArray(t.enum))for(let s=0,o=t.enum.length;s<o;s++){const u=t.enum[s];let c=this.fromMarkup(t.markdownDescription)||t.description;t.markdownEnumDescriptions&&s<t.markdownEnumDescriptions.length&&this.doesSupportMarkdown()?c=this.fromMarkup(t.markdownEnumDescriptions[s]):t.enumDescriptions&&s<t.enumDescriptions.length&&(c=t.enumDescriptions[s]),r.add({kind:this.getSuggestionKind(t.type),label:this.getLabelForValue(u),insertText:this.getInsertTextForValue(u,n,t.type),insertTextFormat:pn.Snippet,documentation:c})}}getLabelForValue(t){return t===null?"null":Array.isArray(t)?JSON.stringify(t):""+t}collectDefaultSnippets(t,n,r,i,s=0){if(Array.isArray(t.defaultSnippets))for(const o of t.defaultSnippets){let u=t.type,c=o.body,f=o.label,d,h;if(Bs(c)){const y=o.type||t.type;if(s===0&&y==="array"){const k={};Object.keys(c).forEach(($,E)=>{E===0&&!$.startsWith("-")?k[`- ${$}`]=c[$]:k[`  ${$}`]=c[$]}),c=k}const w=Object.keys(r.proposed).filter(k=>r.proposed[k].label===Hf);if(d=this.getInsertTextForSnippetValue(c,n,i,w),d===""&&c)continue;f=f||this.getLabelForSnippetValue(c)}else if(typeof o.bodyText=="string"){let y="",w="",k="";for(let $=s;$>0;$--)y=y+k+`[
`,w=w+`
`+k+"]",k+=this.indentation,u="array";d=y+k+o.bodyText.split(`
`).join(`
`+k)+w+n,f=f||d,h=d.replace(/[\n]/g,"")}r.add({kind:o.suggestionKind||this.getSuggestionKind(u),label:f,sortText:o.sortText||o.label,documentation:this.fromMarkup(o.markdownDescription)||o.description,insertText:d,insertTextFormat:pn.Snippet,filterText:h})}}getInsertTextForSnippetValue(t,n,r,i,s){return Vf(t,"",u=>{if(typeof u=="string"){if(u[0]==="^")return u.substr(1);if(u==="true"||u==="false")return`"${u}"`}return u},{...r,indentation:this.indentation,existingProps:i},s)+n}addBooleanValueCompletion(t,n,r){r.add({kind:this.getSuggestionKind("boolean"),label:t?"true":"false",insertText:this.getInsertTextForValue(t,n,"boolean"),insertTextFormat:pn.Snippet,documentation:""})}addNullValueCompletion(t,n){n.add({kind:this.getSuggestionKind("null"),label:"null",insertText:"null"+t,insertTextFormat:pn.Snippet,documentation:""})}getLabelForSnippetValue(t){return JSON.stringify(t).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")}getCustomTagValueCompletions(t){Iv(this.customTags).forEach(r=>{const i=r.split(" ")[0];this.addCustomTagValueCompletion(t," ",i)})}addCustomTagValueCompletion(t,n,r){t.add({kind:this.getSuggestionKind("string"),label:r,insertText:r+n,insertTextFormat:pn.Snippet,documentation:""})}getDocumentationWithMarkdownText(t,n){let r=t;return this.doesSupportMarkdown()&&(n=n.replace(/\${[0-9]+[:|](.*)}/g,(i,s)=>s).replace(/\$([0-9]+)/g,""),r=this.fromMarkup(`${t}
 \`\`\`
${n}
\`\`\``)),r}getSuggestionKind(t){if(Array.isArray(t)){const n=t;t=n.length>0?n[0]:null}if(!t)return xn.Value;switch(t){case"string":return xn.Value;case"object":return xn.Module;case"property":return xn.Property;default:return xn.Value}}getCurrentWord(t,n){let r=n-1;const i=t.getText();for(;r>=0&&` 	
\r\v":{[,]}`.indexOf(i.charAt(r))===-1;)r--;return i.substring(r+1,n)}fromMarkup(t){if(t&&this.doesSupportMarkdown())return{kind:Hr.Markdown,value:t}}doesSupportMarkdown(){if(this.supportsMarkdown===void 0){const t=this.clientCapabilities.textDocument&&this.clientCapabilities.textDocument.completion;this.supportsMarkdown=t&&t.completionItem&&Array.isArray(t.completionItem.documentationFormat)&&t.completionItem.documentationFormat.indexOf(Hr.Markdown)!==-1}return this.supportsMarkdown}findItemAtOffset(t,n,r){for(let i=t.items.length-1;i>=0;i--){const s=t.items[i];if($t(s)&&s.range){if(r>s.range[1])return i;if(r>=s.range[0])return i}}return 0}convertToStringValue(t){let n;if(typeof t=="string"){const i=this.isSingleQuote?"'":'"';n=["on","off","true","false","yes","no"].includes(t.toLowerCase())?`${i}${t}${i}`:t}else n=""+t;if(n.length===0)return n;if(n==="true"||n==="false"||n==="null"||this.isNumberExp.test(n))return`"${n}"`;n.indexOf('"')!==-1&&(n=n.replace(k_,'"'));let r=!isNaN(parseInt(n))||n.charAt(0)==="@";if(!r){let i=n.indexOf(":",0);for(;i>0&&i<n.length;i=n.indexOf(":",i+1)){if(i===n.length-1){r=!0;break}const s=n.charAt(i+1);if(s==="	"||s===" "){r=!0;break}}}return r&&(n=`"${n}"`),n}evaluateTab1Symbol(t){return t.replace(/\$\{1:(.*)\}/,"$1")}isParentCompletionItem(t){return"parent"in t}}var ao={},uo={},Ii={},C_;function O_(){if(C_)return Ii;C_=1,Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.SemanticTokensBuilder=Ii.SemanticTokensDiff=Ii.SemanticTokensFeature=void 0;const e=fn(),t=i=>class extends i{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(e.SemanticTokensRefreshRequest.type),on:s=>{const o=e.SemanticTokensRequest.type;return this.connection.onRequest(o,(u,c)=>s(u,c,this.attachWorkDoneProgress(u),this.attachPartialResultProgress(o,u)))},onDelta:s=>{const o=e.SemanticTokensDeltaRequest.type;return this.connection.onRequest(o,(u,c)=>s(u,c,this.attachWorkDoneProgress(u),this.attachPartialResultProgress(o,u)))},onRange:s=>{const o=e.SemanticTokensRangeRequest.type;return this.connection.onRequest(o,(u,c)=>s(u,c,this.attachWorkDoneProgress(u),this.attachPartialResultProgress(o,u)))}}}};Ii.SemanticTokensFeature=t;class n{constructor(s,o){this.originalSequence=s,this.modifiedSequence=o}computeDiff(){const s=this.originalSequence.length,o=this.modifiedSequence.length;let u=0;for(;u<o&&u<s&&this.originalSequence[u]===this.modifiedSequence[u];)u++;if(u<o&&u<s){let c=s-1,f=o-1;for(;c>=u&&f>=u&&this.originalSequence[c]===this.modifiedSequence[f];)c--,f--;(c<u||f<u)&&(c++,f++);const d=c-u+1,h=this.modifiedSequence.slice(u,f+1);return h.length===1&&h[0]===this.originalSequence[c]?[{start:u,deleteCount:d-1}]:[{start:u,deleteCount:d,data:h}]}else return u<o?[{start:u,deleteCount:0,data:this.modifiedSequence.slice(u)}]:u<s?[{start:u,deleteCount:s-u}]:[]}}Ii.SemanticTokensDiff=n;class r{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(s,o,u,c,f){let d=s,h=o;this._dataLen>0&&(d-=this._prevLine,d===0&&(h-=this._prevChar)),this._data[this._dataLen++]=d,this._data[this._dataLen++]=h,this._data[this._dataLen++]=u,this._data[this._dataLen++]=c,this._data[this._dataLen++]=f,this._prevLine=s,this._prevChar=o}get id(){return this._id.toString()}previousResult(s){this.id===s&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new n(this._prevData,this._data).computeDiff()}:this.build()}}return Ii.SemanticTokensBuilder=r,Ii}var Ru={},P_;function lM(){if(P_)return Ru;P_=1,Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.InlineCompletionFeature=void 0;const e=fn(),t=n=>class extends n{get inlineCompletion(){return{on:r=>this.connection.onRequest(e.InlineCompletionRequest.type,(i,s)=>r(i,s,this.attachWorkDoneProgress(i)))}}};return Ru.InlineCompletionFeature=t,Ru}var Nu={},R_;function N_(){if(R_)return Nu;R_=1,Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.TextDocuments=void 0;const e=fn();class t{constructor(r){this._configuration=r,this._syncedDocuments=new Map,this._onDidChangeContent=new e.Emitter,this._onDidOpen=new e.Emitter,this._onDidClose=new e.Emitter,this._onDidSave=new e.Emitter,this._onWillSave=new e.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(r){this._willSaveWaitUntil=r}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(r){return this._syncedDocuments.get(r)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(r){r.__textDocumentSync=e.TextDocumentSyncKind.Incremental;const i=[];return i.push(r.onDidOpenTextDocument(s=>{const o=s.textDocument,u=this._configuration.create(o.uri,o.languageId,o.version,o.text);this._syncedDocuments.set(o.uri,u);const c=Object.freeze({document:u});this._onDidOpen.fire(c),this._onDidChangeContent.fire(c)})),i.push(r.onDidChangeTextDocument(s=>{const o=s.textDocument,u=s.contentChanges;if(u.length===0)return;const{version:c}=o;if(c==null)throw new Error(`Received document change event for ${o.uri} without valid version identifier`);let f=this._syncedDocuments.get(o.uri);f!==void 0&&(f=this._configuration.update(f,u,c),this._syncedDocuments.set(o.uri,f),this._onDidChangeContent.fire(Object.freeze({document:f})))})),i.push(r.onDidCloseTextDocument(s=>{let o=this._syncedDocuments.get(s.textDocument.uri);o!==void 0&&(this._syncedDocuments.delete(s.textDocument.uri),this._onDidClose.fire(Object.freeze({document:o})))})),i.push(r.onWillSaveTextDocument(s=>{let o=this._syncedDocuments.get(s.textDocument.uri);o!==void 0&&this._onWillSave.fire(Object.freeze({document:o,reason:s.reason}))})),i.push(r.onWillSaveTextDocumentWaitUntil((s,o)=>{let u=this._syncedDocuments.get(s.textDocument.uri);return u!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:u,reason:s.reason}),o):[]})),i.push(r.onDidSaveTextDocument(s=>{let o=this._syncedDocuments.get(s.textDocument.uri);o!==void 0&&this._onDidSave.fire(Object.freeze({document:o}))})),e.Disposable.create(()=>{i.forEach(s=>s.dispose())})}}return Nu.TextDocuments=t,Nu}var co={},F_;function I_(){if(F_)return co;F_=1,Object.defineProperty(co,"__esModule",{value:!0}),co.NotebookDocuments=co.NotebookSyncFeature=void 0;const e=fn(),t=N_(),n=s=>class extends s{get synchronization(){return{onDidOpenNotebookDocument:o=>this.connection.onNotification(e.DidOpenNotebookDocumentNotification.type,u=>{o(u)}),onDidChangeNotebookDocument:o=>this.connection.onNotification(e.DidChangeNotebookDocumentNotification.type,u=>{o(u)}),onDidSaveNotebookDocument:o=>this.connection.onNotification(e.DidSaveNotebookDocumentNotification.type,u=>{o(u)}),onDidCloseNotebookDocument:o=>this.connection.onNotification(e.DidCloseNotebookDocumentNotification.type,u=>{o(u)})}}};co.NotebookSyncFeature=n;class r{onDidOpenTextDocument(o){return this.openHandler=o,e.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(o){this.openHandler&&this.openHandler(o)}onDidChangeTextDocument(o){return this.changeHandler=o,e.Disposable.create(()=>{this.changeHandler=o})}changeTextDocument(o){this.changeHandler&&this.changeHandler(o)}onDidCloseTextDocument(o){return this.closeHandler=o,e.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(o){this.closeHandler&&this.closeHandler(o)}onWillSaveTextDocument(){return r.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return r.NULL_DISPOSE}onDidSaveTextDocument(){return r.NULL_DISPOSE}}r.NULL_DISPOSE=Object.freeze({dispose:()=>{}});class i{constructor(o){o instanceof t.TextDocuments?this._cellTextDocuments=o:this._cellTextDocuments=new t.TextDocuments(o),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new e.Emitter,this._onDidChange=new e.Emitter,this._onDidSave=new e.Emitter,this._onDidClose=new e.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(o){return this._cellTextDocuments.get(o.document)}getNotebookDocument(o){return this.notebookDocuments.get(o)}getNotebookCell(o){const u=this.notebookCellMap.get(o);return u&&u[0]}findNotebookDocumentForCell(o){const u=typeof o=="string"?o:o.document,c=this.notebookCellMap.get(u);return c&&c[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(o){const u=new r,c=[];return c.push(this.cellTextDocuments.listen(u)),c.push(o.notebooks.synchronization.onDidOpenNotebookDocument(f=>{this.notebookDocuments.set(f.notebookDocument.uri,f.notebookDocument);for(const d of f.cellTextDocuments)u.openTextDocument({textDocument:d});this.updateCellMap(f.notebookDocument),this._onDidOpen.fire(f.notebookDocument)})),c.push(o.notebooks.synchronization.onDidChangeNotebookDocument(f=>{const d=this.notebookDocuments.get(f.notebookDocument.uri);if(d===void 0)return;d.version=f.notebookDocument.version;const h=d.metadata;let y=!1;const w=f.change;w.metadata!==void 0&&(y=!0,d.metadata=w.metadata);const k=[],$=[],E=[],T=[];if(w.cells!==void 0){const v=w.cells;if(v.structure!==void 0){const _=v.structure.array;if(d.cells.splice(_.start,_.deleteCount,..._.cells!==void 0?_.cells:[]),v.structure.didOpen!==void 0)for(const P of v.structure.didOpen)u.openTextDocument({textDocument:P}),k.push(P.uri);if(v.structure.didClose)for(const P of v.structure.didClose)u.closeTextDocument({textDocument:P}),$.push(P.uri)}if(v.data!==void 0){const _=new Map(v.data.map(P=>[P.document,P]));for(let P=0;P<=d.cells.length;P++){const R=_.get(d.cells[P].document);if(R!==void 0){const N=d.cells.splice(P,1,R);if(E.push({old:N[0],new:R}),_.delete(R.document),_.size===0)break}}}if(v.textContent!==void 0)for(const _ of v.textContent)u.changeTextDocument({textDocument:_.document,contentChanges:_.changes}),T.push(_.document.uri)}this.updateCellMap(d);const D={notebookDocument:d};y&&(D.metadata={old:h,new:d.metadata});const p=[];for(const v of k)p.push(this.getNotebookCell(v));const b=[];for(const v of $)b.push(this.getNotebookCell(v));const m=[];for(const v of T)m.push(this.getNotebookCell(v));(p.length>0||b.length>0||E.length>0||m.length>0)&&(D.cells={added:p,removed:b,changed:{data:E,textContent:m}}),(D.metadata!==void 0||D.cells!==void 0)&&this._onDidChange.fire(D)})),c.push(o.notebooks.synchronization.onDidSaveNotebookDocument(f=>{const d=this.notebookDocuments.get(f.notebookDocument.uri);d!==void 0&&this._onDidSave.fire(d)})),c.push(o.notebooks.synchronization.onDidCloseNotebookDocument(f=>{const d=this.notebookDocuments.get(f.notebookDocument.uri);if(d!==void 0){this._onDidClose.fire(d);for(const h of f.cellTextDocuments)u.closeTextDocument({textDocument:h});this.notebookDocuments.delete(f.notebookDocument.uri);for(const h of d.cells)this.notebookCellMap.delete(h.document)}})),e.Disposable.create(()=>{c.forEach(f=>f.dispose())})}updateCellMap(o){for(const u of o.cells)this.notebookCellMap.set(u.document,[u,o])}}return co.NotebookDocuments=i,co}var mt={},un={},M_;function L_(){if(M_)return un;M_=1,Object.defineProperty(un,"__esModule",{value:!0}),un.thenable=un.typedArray=un.stringArray=un.array=un.func=un.error=un.number=un.string=un.boolean=void 0;function e(f){return f===!0||f===!1}un.boolean=e;function t(f){return typeof f=="string"||f instanceof String}un.string=t;function n(f){return typeof f=="number"||f instanceof Number}un.number=n;function r(f){return f instanceof Error}un.error=r;function i(f){return typeof f=="function"}un.func=i;function s(f){return Array.isArray(f)}un.array=s;function o(f){return s(f)&&f.every(d=>t(d))}un.stringArray=o;function u(f,d){return Array.isArray(f)&&f.every(d)}un.typedArray=u;function c(f){return f&&i(f.then)}return un.thenable=c,un}var tr={},j_;function q_(){if(j_)return tr;j_=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.generateUuid=tr.parse=tr.isUUID=tr.v4=tr.empty=void 0;class e{constructor(c){this._value=c}asHex(){return this._value}equals(c){return this.asHex()===c.asHex()}}class t extends e{static _oneOf(c){return c[Math.floor(c.length*Math.random())]}static _randomHex(){return t._oneOf(t._chars)}constructor(){super([t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}}t._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],t._timeHighBits=["8","9","a","b"],tr.empty=new e("00000000-0000-0000-0000-000000000000");function n(){return new t}tr.v4=n;const r=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function i(u){return r.test(u)}tr.isUUID=i;function s(u){if(!i(u))throw new Error("invalid uuid");return new e(u)}tr.parse=s;function o(){return n().asHex()}return tr.generateUuid=o,tr}var Mi={},x_;function fM(){if(x_)return Mi;x_=1,Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.attachPartialResult=Mi.ProgressFeature=Mi.attachWorkDone=void 0;const e=fn(),t=q_();class n{constructor(y,w){this._connection=y,this._token=w,n.Instances.set(this._token,this)}begin(y,w,k,$){let E={kind:"begin",title:y,percentage:w,message:k,cancellable:$};this._connection.sendProgress(e.WorkDoneProgress.type,this._token,E)}report(y,w){let k={kind:"report"};typeof y=="number"?(k.percentage=y,w!==void 0&&(k.message=w)):k.message=y,this._connection.sendProgress(e.WorkDoneProgress.type,this._token,k)}done(){n.Instances.delete(this._token),this._connection.sendProgress(e.WorkDoneProgress.type,this._token,{kind:"end"})}}n.Instances=new Map;class r extends n{constructor(y,w){super(y,w),this._source=new e.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class i{constructor(){}begin(){}report(){}done(){}}class s extends i{constructor(){super(),this._source=new e.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}function o(h,y){if(y===void 0||y.workDoneToken===void 0)return new i;const w=y.workDoneToken;return delete y.workDoneToken,new n(h,w)}Mi.attachWorkDone=o;const u=h=>class extends h{constructor(){super(),this._progressSupported=!1}initialize(y){var w;super.initialize(y),((w=y==null?void 0:y.window)==null?void 0:w.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(e.WorkDoneProgressCancelNotification.type,k=>{let $=n.Instances.get(k.token);($ instanceof r||$ instanceof s)&&$.cancel()}))}attachWorkDoneProgress(y){return y===void 0?new i:new n(this.connection,y)}createWorkDoneProgress(){if(this._progressSupported){const y=(0,t.generateUuid)();return this.connection.sendRequest(e.WorkDoneProgressCreateRequest.type,{token:y}).then(()=>new r(this.connection,y))}else return Promise.resolve(new s)}};Mi.ProgressFeature=u;var c;(function(h){h.type=new e.ProgressType})(c||(c={}));class f{constructor(y,w){this._connection=y,this._token=w}report(y){this._connection.sendProgress(c.type,this._token,y)}}function d(h,y){if(y===void 0||y.partialResultToken===void 0)return;const w=y.partialResultToken;return delete y.partialResultToken,new f(h,w)}return Mi.attachPartialResult=d,Mi}var Fu={},B_;function dM(){if(B_)return Fu;B_=1,Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.ConfigurationFeature=void 0;const e=fn(),t=L_(),n=r=>class extends r{getConfiguration(i){return i?t.string(i)?this._getConfiguration({section:i}):this._getConfiguration(i):this._getConfiguration({})}_getConfiguration(i){let s={items:Array.isArray(i)?i:[i]};return this.connection.sendRequest(e.ConfigurationRequest.type,s).then(o=>Array.isArray(o)?Array.isArray(i)?o:o[0]:Array.isArray(i)?[]:null)}};return Fu.ConfigurationFeature=n,Fu}var Iu={},W_;function hM(){if(W_)return Iu;W_=1,Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.WorkspaceFoldersFeature=void 0;const e=fn(),t=n=>class extends n{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(r){super.initialize(r);let i=r.workspace;i&&i.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new e.Emitter,this.connection.onNotification(e.DidChangeWorkspaceFoldersNotification.type,s=>{this._onDidChangeWorkspaceFolders.fire(s.event)}))}fillServerCapabilities(r){var s,o;super.fillServerCapabilities(r);const i=(o=(s=r.workspace)==null?void 0:s.workspaceFolders)==null?void 0:o.changeNotifications;this._notificationIsAutoRegistered=i===!0||typeof i=="string"}getWorkspaceFolders(){return this.connection.sendRequest(e.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(e.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};return Iu.WorkspaceFoldersFeature=t,Iu}var Mu={},U_;function pM(){if(U_)return Mu;U_=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.CallHierarchyFeature=void 0;const e=fn(),t=n=>class extends n{get callHierarchy(){return{onPrepare:r=>this.connection.onRequest(e.CallHierarchyPrepareRequest.type,(i,s)=>r(i,s,this.attachWorkDoneProgress(i),void 0)),onIncomingCalls:r=>{const i=e.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(i,(s,o)=>r(s,o,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(i,s)))},onOutgoingCalls:r=>{const i=e.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(i,(s,o)=>r(s,o,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(i,s)))}}}};return Mu.CallHierarchyFeature=t,Mu}var Lu={},V_;function mM(){if(V_)return Lu;V_=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.ShowDocumentFeature=void 0;const e=fn(),t=n=>class extends n{showDocument(r){return this.connection.sendRequest(e.ShowDocumentRequest.type,r)}};return Lu.ShowDocumentFeature=t,Lu}var ju={},H_;function gM(){if(H_)return ju;H_=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.FileOperationsFeature=void 0;const e=fn(),t=n=>class extends n{onDidCreateFiles(r){return this.connection.onNotification(e.DidCreateFilesNotification.type,i=>{r(i)})}onDidRenameFiles(r){return this.connection.onNotification(e.DidRenameFilesNotification.type,i=>{r(i)})}onDidDeleteFiles(r){return this.connection.onNotification(e.DidDeleteFilesNotification.type,i=>{r(i)})}onWillCreateFiles(r){return this.connection.onRequest(e.WillCreateFilesRequest.type,(i,s)=>r(i,s))}onWillRenameFiles(r){return this.connection.onRequest(e.WillRenameFilesRequest.type,(i,s)=>r(i,s))}onWillDeleteFiles(r){return this.connection.onRequest(e.WillDeleteFilesRequest.type,(i,s)=>r(i,s))}};return ju.FileOperationsFeature=t,ju}var qu={},K_;function yM(){if(K_)return qu;K_=1,Object.defineProperty(qu,"__esModule",{value:!0}),qu.LinkedEditingRangeFeature=void 0;const e=fn(),t=n=>class extends n{onLinkedEditingRange(r){return this.connection.onRequest(e.LinkedEditingRangeRequest.type,(i,s)=>r(i,s,this.attachWorkDoneProgress(i),void 0))}};return qu.LinkedEditingRangeFeature=t,qu}var xu={},z_;function vM(){if(z_)return xu;z_=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.TypeHierarchyFeature=void 0;const e=fn(),t=n=>class extends n{get typeHierarchy(){return{onPrepare:r=>this.connection.onRequest(e.TypeHierarchyPrepareRequest.type,(i,s)=>r(i,s,this.attachWorkDoneProgress(i),void 0)),onSupertypes:r=>{const i=e.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(i,(s,o)=>r(s,o,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(i,s)))},onSubtypes:r=>{const i=e.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(i,(s,o)=>r(s,o,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(i,s)))}}}};return xu.TypeHierarchyFeature=t,xu}var Bu={},Y_;function bM(){if(Y_)return Bu;Y_=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.InlineValueFeature=void 0;const e=fn(),t=n=>class extends n{get inlineValue(){return{refresh:()=>this.connection.sendRequest(e.InlineValueRefreshRequest.type),on:r=>this.connection.onRequest(e.InlineValueRequest.type,(i,s)=>r(i,s,this.attachWorkDoneProgress(i)))}}};return Bu.InlineValueFeature=t,Bu}var Wu={},G_;function DM(){if(G_)return Wu;G_=1,Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.FoldingRangeFeature=void 0;const e=fn(),t=n=>class extends n{get foldingRange(){return{refresh:()=>this.connection.sendRequest(e.FoldingRangeRefreshRequest.type),on:r=>{const i=e.FoldingRangeRequest.type;return this.connection.onRequest(i,(s,o)=>r(s,o,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(i,s)))}}}};return Wu.FoldingRangeFeature=t,Wu}var Uu={},J_;function wM(){if(J_)return Uu;J_=1,Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.InlayHintFeature=void 0;const e=fn(),t=n=>class extends n{get inlayHint(){return{refresh:()=>this.connection.sendRequest(e.InlayHintRefreshRequest.type),on:r=>this.connection.onRequest(e.InlayHintRequest.type,(i,s)=>r(i,s,this.attachWorkDoneProgress(i))),resolve:r=>this.connection.onRequest(e.InlayHintResolveRequest.type,(i,s)=>r(i,s))}}};return Uu.InlayHintFeature=t,Uu}var Vu={},Q_;function _M(){if(Q_)return Vu;Q_=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.DiagnosticFeature=void 0;const e=fn(),t=n=>class extends n{get diagnostics(){return{refresh:()=>this.connection.sendRequest(e.DiagnosticRefreshRequest.type),on:r=>this.connection.onRequest(e.DocumentDiagnosticRequest.type,(i,s)=>r(i,s,this.attachWorkDoneProgress(i),this.attachPartialResultProgress(e.DocumentDiagnosticRequest.partialResult,i))),onWorkspace:r=>this.connection.onRequest(e.WorkspaceDiagnosticRequest.type,(i,s)=>r(i,s,this.attachWorkDoneProgress(i),this.attachPartialResultProgress(e.WorkspaceDiagnosticRequest.partialResult,i)))}}};return Vu.DiagnosticFeature=t,Vu}var Hu={},X_;function EM(){if(X_)return Hu;X_=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.MonikerFeature=void 0;const e=fn(),t=n=>class extends n{get moniker(){return{on:r=>{const i=e.MonikerRequest.type;return this.connection.onRequest(i,(s,o)=>r(s,o,this.attachWorkDoneProgress(s),this.attachPartialResultProgress(i,s)))}}}};return Hu.MonikerFeature=t,Hu}var Z_;function SM(){if(Z_)return mt;Z_=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.createConnection=mt.combineFeatures=mt.combineNotebooksFeatures=mt.combineLanguagesFeatures=mt.combineWorkspaceFeatures=mt.combineWindowFeatures=mt.combineClientFeatures=mt.combineTracerFeatures=mt.combineTelemetryFeatures=mt.combineConsoleFeatures=mt._NotebooksImpl=mt._LanguagesImpl=mt.BulkUnregistration=mt.BulkRegistration=mt.ErrorMessageTracker=void 0;const e=fn(),t=L_(),n=q_(),r=fM(),i=dM(),s=hM(),o=pM(),u=O_(),c=mM(),f=gM(),d=yM(),h=vM(),y=bM(),w=DM(),k=wM(),$=_M(),E=I_(),T=EM();function D(we){if(we!==null)return we}class p{constructor(){this._messages=Object.create(null)}add(V){let J=this._messages[V];J||(J=0),J++,this._messages[V]=J}sendErrors(V){Object.keys(this._messages).forEach(J=>{V.window.showErrorMessage(J)})}}mt.ErrorMessageTracker=p;class b{constructor(){}rawAttach(V){this._rawConnection=V}attach(V){this._connection=V}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(V){}initialize(V){}error(V){this.send(e.MessageType.Error,V)}warn(V){this.send(e.MessageType.Warning,V)}info(V){this.send(e.MessageType.Info,V)}log(V){this.send(e.MessageType.Log,V)}debug(V){this.send(e.MessageType.Debug,V)}send(V,J){this._rawConnection&&this._rawConnection.sendNotification(e.LogMessageNotification.type,{type:V,message:J}).catch(()=>{(0,e.RAL)().console.error("Sending log message failed")})}}class m{constructor(){}attach(V){this._connection=V}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(V){}fillServerCapabilities(V){}showErrorMessage(V,...J){let de={type:e.MessageType.Error,message:V,actions:J};return this.connection.sendRequest(e.ShowMessageRequest.type,de).then(D)}showWarningMessage(V,...J){let de={type:e.MessageType.Warning,message:V,actions:J};return this.connection.sendRequest(e.ShowMessageRequest.type,de).then(D)}showInformationMessage(V,...J){let de={type:e.MessageType.Info,message:V,actions:J};return this.connection.sendRequest(e.ShowMessageRequest.type,de).then(D)}}const v=(0,c.ShowDocumentFeature)((0,r.ProgressFeature)(m));var _;(function(we){function V(){return new P}we.create=V})(_||(mt.BulkRegistration=_={}));class P{constructor(){this._registrations=[],this._registered=new Set}add(V,J){const de=t.string(V)?V:V.method;if(this._registered.has(de))throw new Error(`${de} is already added to this registration`);const ne=n.generateUuid();this._registrations.push({id:ne,method:de,registerOptions:J||{}}),this._registered.add(de)}asRegistrationParams(){return{registrations:this._registrations}}}var R;(function(we){function V(){return new N(void 0,[])}we.create=V})(R||(mt.BulkUnregistration=R={}));class N{constructor(V,J){this._connection=V,this._unregistrations=new Map,J.forEach(de=>{this._unregistrations.set(de.method,de)})}get isAttached(){return!!this._connection}attach(V){this._connection=V}add(V){this._unregistrations.set(V.method,V)}dispose(){let V=[];for(let de of this._unregistrations.values())V.push(de);let J={unregisterations:V};this._connection.sendRequest(e.UnregistrationRequest.type,J).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(V){const J=t.string(V)?V:V.method,de=this._unregistrations.get(J);if(!de)return!1;let ne={unregisterations:[de]};return this._connection.sendRequest(e.UnregistrationRequest.type,ne).then(()=>{this._unregistrations.delete(J)},Se=>{this._connection.console.info(`Un-registering request handler for ${de.id} failed.`)}),!0}}class F{attach(V){this._connection=V}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(V){}fillServerCapabilities(V){}register(V,J,de){return V instanceof P?this.registerMany(V):V instanceof N?this.registerSingle1(V,J,de):this.registerSingle2(V,J)}registerSingle1(V,J,de){const ne=t.string(J)?J:J.method,Se=n.generateUuid();let Ne={registrations:[{id:Se,method:ne,registerOptions:de||{}}]};return V.isAttached||V.attach(this.connection),this.connection.sendRequest(e.RegistrationRequest.type,Ne).then(xe=>(V.add({id:Se,method:ne}),V),xe=>(this.connection.console.info(`Registering request handler for ${ne} failed.`),Promise.reject(xe)))}registerSingle2(V,J){const de=t.string(V)?V:V.method,ne=n.generateUuid();let Se={registrations:[{id:ne,method:de,registerOptions:J||{}}]};return this.connection.sendRequest(e.RegistrationRequest.type,Se).then(Ne=>e.Disposable.create(()=>{this.unregisterSingle(ne,de).catch(()=>{this.connection.console.info(`Un-registering capability with id ${ne} failed.`)})}),Ne=>(this.connection.console.info(`Registering request handler for ${de} failed.`),Promise.reject(Ne)))}unregisterSingle(V,J){let de={unregisterations:[{id:V,method:J}]};return this.connection.sendRequest(e.UnregistrationRequest.type,de).catch(()=>{this.connection.console.info(`Un-registering request handler for ${V} failed.`)})}registerMany(V){let J=V.asRegistrationParams();return this.connection.sendRequest(e.RegistrationRequest.type,J).then(()=>new N(this._connection,J.registrations.map(de=>({id:de.id,method:de.method}))),de=>(this.connection.console.info("Bulk registration failed."),Promise.reject(de)))}}class j{constructor(){}attach(V){this._connection=V}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(V){}fillServerCapabilities(V){}applyEdit(V){function J(ne){return ne&&!!ne.edit}let de=J(V)?V:{edit:V};return this.connection.sendRequest(e.ApplyWorkspaceEditRequest.type,de)}}const I=(0,f.FileOperationsFeature)((0,s.WorkspaceFoldersFeature)((0,i.ConfigurationFeature)(j)));class X{constructor(){this._trace=e.Trace.Off}attach(V){this._connection=V}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(V){}fillServerCapabilities(V){}set trace(V){this._trace=V}log(V,J){this._trace!==e.Trace.Off&&this.connection.sendNotification(e.LogTraceNotification.type,{message:V,verbose:this._trace===e.Trace.Verbose?J:void 0}).catch(()=>{})}}class oe{constructor(){}attach(V){this._connection=V}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(V){}fillServerCapabilities(V){}logEvent(V){this.connection.sendNotification(e.TelemetryEventNotification.type,V).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}}class ue{constructor(){}attach(V){this._connection=V}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(V){}fillServerCapabilities(V){}attachWorkDoneProgress(V){return(0,r.attachWorkDone)(this.connection,V)}attachPartialResultProgress(V,J){return(0,r.attachPartialResult)(this.connection,J)}}mt._LanguagesImpl=ue;const he=(0,w.FoldingRangeFeature)((0,T.MonikerFeature)((0,$.DiagnosticFeature)((0,k.InlayHintFeature)((0,y.InlineValueFeature)((0,h.TypeHierarchyFeature)((0,d.LinkedEditingRangeFeature)((0,u.SemanticTokensFeature)((0,o.CallHierarchyFeature)(ue)))))))));class $e{constructor(){}attach(V){this._connection=V}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(V){}fillServerCapabilities(V){}attachWorkDoneProgress(V){return(0,r.attachWorkDone)(this.connection,V)}attachPartialResultProgress(V,J){return(0,r.attachPartialResult)(this.connection,J)}}mt._NotebooksImpl=$e;const We=(0,E.NotebookSyncFeature)($e);function ge(we,V){return function(J){return V(we(J))}}mt.combineConsoleFeatures=ge;function U(we,V){return function(J){return V(we(J))}}mt.combineTelemetryFeatures=U;function ae(we,V){return function(J){return V(we(J))}}mt.combineTracerFeatures=ae;function re(we,V){return function(J){return V(we(J))}}mt.combineClientFeatures=re;function x(we,V){return function(J){return V(we(J))}}mt.combineWindowFeatures=x;function Q(we,V){return function(J){return V(we(J))}}mt.combineWorkspaceFeatures=Q;function fe(we,V){return function(J){return V(we(J))}}mt.combineLanguagesFeatures=fe;function Te(we,V){return function(J){return V(we(J))}}mt.combineNotebooksFeatures=Te;function ke(we,V){function J(ne,Se,Ne){return ne&&Se?Ne(ne,Se):ne||Se}return{__brand:"features",console:J(we.console,V.console,ge),tracer:J(we.tracer,V.tracer,ae),telemetry:J(we.telemetry,V.telemetry,U),client:J(we.client,V.client,re),window:J(we.window,V.window,x),workspace:J(we.workspace,V.workspace,Q),languages:J(we.languages,V.languages,fe),notebooks:J(we.notebooks,V.notebooks,Te)}}mt.combineFeatures=ke;function Fe(we,V,J){const de=J&&J.console?new(J.console(b)):new b,ne=we(de);de.rawAttach(ne);const Se=J&&J.tracer?new(J.tracer(X)):new X,Ne=J&&J.telemetry?new(J.telemetry(oe)):new oe,xe=J&&J.client?new(J.client(F)):new F,Ft=J&&J.window?new(J.window(v)):new v,kt=J&&J.workspace?new(J.workspace(I)):new I,dt=J&&J.languages?new(J.languages(he)):new he,ze=J&&J.notebooks?new(J.notebooks(We)):new We,It=[de,Se,Ne,xe,Ft,kt,dt,ze];function At(q){return q instanceof Promise?q:t.thenable(q)?new Promise((W,C)=>{q.then(S=>W(S),S=>C(S))}):Promise.resolve(q)}let Xt,yt,Y,B={listen:()=>ne.listen(),sendRequest:(q,...W)=>ne.sendRequest(t.string(q)?q:q.method,...W),onRequest:(q,W)=>ne.onRequest(q,W),sendNotification:(q,W)=>{const C=t.string(q)?q:q.method;return ne.sendNotification(C,W)},onNotification:(q,W)=>ne.onNotification(q,W),onProgress:ne.onProgress,sendProgress:ne.sendProgress,onInitialize:q=>(yt=q,{dispose:()=>{yt=void 0}}),onInitialized:q=>ne.onNotification(e.InitializedNotification.type,q),onShutdown:q=>(Xt=q,{dispose:()=>{Xt=void 0}}),onExit:q=>(Y=q,{dispose:()=>{Y=void 0}}),get console(){return de},get telemetry(){return Ne},get tracer(){return Se},get client(){return xe},get window(){return Ft},get workspace(){return kt},get languages(){return dt},get notebooks(){return ze},onDidChangeConfiguration:q=>ne.onNotification(e.DidChangeConfigurationNotification.type,q),onDidChangeWatchedFiles:q=>ne.onNotification(e.DidChangeWatchedFilesNotification.type,q),__textDocumentSync:void 0,onDidOpenTextDocument:q=>ne.onNotification(e.DidOpenTextDocumentNotification.type,q),onDidChangeTextDocument:q=>ne.onNotification(e.DidChangeTextDocumentNotification.type,q),onDidCloseTextDocument:q=>ne.onNotification(e.DidCloseTextDocumentNotification.type,q),onWillSaveTextDocument:q=>ne.onNotification(e.WillSaveTextDocumentNotification.type,q),onWillSaveTextDocumentWaitUntil:q=>ne.onRequest(e.WillSaveTextDocumentWaitUntilRequest.type,q),onDidSaveTextDocument:q=>ne.onNotification(e.DidSaveTextDocumentNotification.type,q),sendDiagnostics:q=>ne.sendNotification(e.PublishDiagnosticsNotification.type,q),onHover:q=>ne.onRequest(e.HoverRequest.type,(W,C)=>q(W,C,(0,r.attachWorkDone)(ne,W),void 0)),onCompletion:q=>ne.onRequest(e.CompletionRequest.type,(W,C)=>q(W,C,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onCompletionResolve:q=>ne.onRequest(e.CompletionResolveRequest.type,q),onSignatureHelp:q=>ne.onRequest(e.SignatureHelpRequest.type,(W,C)=>q(W,C,(0,r.attachWorkDone)(ne,W),void 0)),onDeclaration:q=>ne.onRequest(e.DeclarationRequest.type,(W,C)=>q(W,C,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onDefinition:q=>ne.onRequest(e.DefinitionRequest.type,(W,C)=>q(W,C,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onTypeDefinition:q=>ne.onRequest(e.TypeDefinitionRequest.type,(W,C)=>q(W,C,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onImplementation:q=>ne.onRequest(e.ImplementationRequest.type,(W,C)=>q(W,C,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onReferences:q=>ne.onRequest(e.ReferencesRequest.type,(W,C)=>q(W,C,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onDocumentHighlight:q=>ne.onRequest(e.DocumentHighlightRequest.type,(W,C)=>q(W,C,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onDocumentSymbol:q=>ne.onRequest(e.DocumentSymbolRequest.type,(W,C)=>q(W,C,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onWorkspaceSymbol:q=>ne.onRequest(e.WorkspaceSymbolRequest.type,(W,C)=>q(W,C,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onWorkspaceSymbolResolve:q=>ne.onRequest(e.WorkspaceSymbolResolveRequest.type,q),onCodeAction:q=>ne.onRequest(e.CodeActionRequest.type,(W,C)=>q(W,C,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onCodeActionResolve:q=>ne.onRequest(e.CodeActionResolveRequest.type,(W,C)=>q(W,C)),onCodeLens:q=>ne.onRequest(e.CodeLensRequest.type,(W,C)=>q(W,C,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onCodeLensResolve:q=>ne.onRequest(e.CodeLensResolveRequest.type,(W,C)=>q(W,C)),onDocumentFormatting:q=>ne.onRequest(e.DocumentFormattingRequest.type,(W,C)=>q(W,C,(0,r.attachWorkDone)(ne,W),void 0)),onDocumentRangeFormatting:q=>ne.onRequest(e.DocumentRangeFormattingRequest.type,(W,C)=>q(W,C,(0,r.attachWorkDone)(ne,W),void 0)),onDocumentOnTypeFormatting:q=>ne.onRequest(e.DocumentOnTypeFormattingRequest.type,(W,C)=>q(W,C)),onRenameRequest:q=>ne.onRequest(e.RenameRequest.type,(W,C)=>q(W,C,(0,r.attachWorkDone)(ne,W),void 0)),onPrepareRename:q=>ne.onRequest(e.PrepareRenameRequest.type,(W,C)=>q(W,C)),onDocumentLinks:q=>ne.onRequest(e.DocumentLinkRequest.type,(W,C)=>q(W,C,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onDocumentLinkResolve:q=>ne.onRequest(e.DocumentLinkResolveRequest.type,(W,C)=>q(W,C)),onDocumentColor:q=>ne.onRequest(e.DocumentColorRequest.type,(W,C)=>q(W,C,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onColorPresentation:q=>ne.onRequest(e.ColorPresentationRequest.type,(W,C)=>q(W,C,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onFoldingRanges:q=>ne.onRequest(e.FoldingRangeRequest.type,(W,C)=>q(W,C,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onSelectionRanges:q=>ne.onRequest(e.SelectionRangeRequest.type,(W,C)=>q(W,C,(0,r.attachWorkDone)(ne,W),(0,r.attachPartialResult)(ne,W))),onExecuteCommand:q=>ne.onRequest(e.ExecuteCommandRequest.type,(W,C)=>q(W,C,(0,r.attachWorkDone)(ne,W),void 0)),dispose:()=>ne.dispose()};for(let q of It)q.attach(B);return ne.onRequest(e.InitializeRequest.type,q=>{V.initialize(q),t.string(q.trace)&&(Se.trace=e.Trace.fromString(q.trace));for(let W of It)W.initialize(q.capabilities);if(yt){let W=yt(q,new e.CancellationTokenSource().token,(0,r.attachWorkDone)(ne,q),void 0);return At(W).then(C=>{if(C instanceof e.ResponseError)return C;let S=C;S||(S={capabilities:{}});let A=S.capabilities;A||(A={},S.capabilities=A),A.textDocumentSync===void 0||A.textDocumentSync===null?A.textDocumentSync=t.number(B.__textDocumentSync)?B.__textDocumentSync:e.TextDocumentSyncKind.None:!t.number(A.textDocumentSync)&&!t.number(A.textDocumentSync.change)&&(A.textDocumentSync.change=t.number(B.__textDocumentSync)?B.__textDocumentSync:e.TextDocumentSyncKind.None);for(let M of It)M.fillServerCapabilities(A);return S})}else{let W={capabilities:{textDocumentSync:e.TextDocumentSyncKind.None}};for(let C of It)C.fillServerCapabilities(W.capabilities);return W}}),ne.onRequest(e.ShutdownRequest.type,()=>{if(V.shutdownReceived=!0,Xt)return Xt(new e.CancellationTokenSource().token)}),ne.onNotification(e.ExitNotification.type,()=>{try{Y&&Y()}finally{V.shutdownReceived?V.exit(0):V.exit(1)}}),ne.onNotification(e.SetTraceNotification.type,q=>{Se.trace=e.Trace.fromString(q.value)}),B}return mt.createConnection=Fe,mt}var eE;function tE(){return eE||(eE=1,(function(e){var t=uo&&uo.__createBinding||(Object.create?(function(c,f,d,h){h===void 0&&(h=d);var y=Object.getOwnPropertyDescriptor(f,d);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(c,h,y)}):(function(c,f,d,h){h===void 0&&(h=d),c[h]=f[d]})),n=uo&&uo.__exportStar||function(c,f){for(var d in c)d!=="default"&&!Object.prototype.hasOwnProperty.call(f,d)&&t(f,c,d)};Object.defineProperty(e,"__esModule",{value:!0}),e.ProposedFeatures=e.NotebookDocuments=e.TextDocuments=e.SemanticTokensBuilder=void 0;const r=O_();Object.defineProperty(e,"SemanticTokensBuilder",{enumerable:!0,get:function(){return r.SemanticTokensBuilder}});const i=lM();n(fn(),e);const s=N_();Object.defineProperty(e,"TextDocuments",{enumerable:!0,get:function(){return s.TextDocuments}});const o=I_();Object.defineProperty(e,"NotebookDocuments",{enumerable:!0,get:function(){return o.NotebookDocuments}}),n(SM(),e);var u;(function(c){c.all={__brand:"features",languages:i.InlineCompletionFeature}})(u||(e.ProposedFeatures=u={}))})(uo)),uo}var nE;function $M(){return nE||(nE=1,(function(e){var t=ao&&ao.__createBinding||(Object.create?(function(u,c,f,d){d===void 0&&(d=f);var h=Object.getOwnPropertyDescriptor(c,f);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(u,d,h)}):(function(u,c,f,d){d===void 0&&(d=f),u[d]=c[f]})),n=ao&&ao.__exportStar||function(u,c){for(var f in u)f!=="default"&&!Object.prototype.hasOwnProperty.call(c,f)&&t(c,u,f)};Object.defineProperty(e,"__esModule",{value:!0}),e.createConnection=void 0;const r=tE();n(o0(),e),n(tE(),e);let i=!1;const s={initialize:u=>{},get shutdownReceived(){return i},set shutdownReceived(u){i=u},exit:u=>{}};function o(u,c,f,d){let h,y,w,k;u!==void 0&&u.__brand==="features"&&(h=u,u=c,c=f,f=d),r.ConnectionStrategy.is(u)||r.ConnectionOptions.is(u)?k=u:(y=u,w=c,k=f);const $=E=>(0,r.createProtocolConnection)(y,w,E,k);return(0,r.createConnection)($,s,h)}e.createConnection=o})(ao)),ao}var nr=$M(),rE;(function(e){e.type=new nr.NotificationType("json/schemaAssociations")})(rE||(rE={}));var iE;(function(e){e.type=new nr.NotificationType("yaml/registerCustomSchemaRequest")})(iE||(iE={}));var sE;(function(e){e.type=new nr.NotificationType("yaml/registerContentRequest")})(sE||(sE={}));var oE;(function(e){e.type=new nr.NotificationType("yaml/resultLimitReached")})(oE||(oE={}));var aE;(function(e){e.type=new nr.RequestType("vscode/content")})(aE||(aE={}));var uE;(function(e){e.type=new nr.RequestType("custom/schema/content")})(uE||(uE={}));var cE;(function(e){e.type=new nr.RequestType("custom/schema/request")})(cE||(cE={}));var lE;(function(e){e.type=new nr.RequestType("json/colorSymbols")})(lE||(lE={}));var fE;(function(e){e.type=new nr.RequestType("json/schema/modify")})(fE||(fE={}));var Kf;(function(e){e.type=new nr.NotificationType("yaml/supportSchemaSelection"),e.getSchema=new nr.RequestType("yaml/get/jsonSchema"),e.getAllSchemas=new nr.RequestType("yaml/get/all/jsonSchemas"),e.schemaStoreInitialized=new nr.NotificationType("yaml/schema/store/initialized")})(Kf||(Kf={}));class TM{constructor(t,n,r){var i,s;this.schemaService=t,this.yamlSettings=n,this.connection=r,(i=this.connection)==null||i.onRequest(Kf.getSchema,o=>this.getSchemas(o)),(s=this.connection)==null||s.onRequest(Kf.getAllSchemas,o=>this.getAllSchemas(o))}async getSchemas(t){const n=await this.getSchemasForFile(t);return Array.from(n).map(r=>({name:r[1].title,uri:r[0],description:r[1].description,versions:r[1].versions}))}async getSchemasForFile(t){var s;const n=(s=this.yamlSettings)==null?void 0:s.documents.get(t),r=new Map;if(!n)return r;const i=gr.getYamlDocument(n);for(const o of i.documents){const u=await this.schemaService.getSchemaForResource(n.uri,o);if(u!=null&&u.schema){const c=$_(u==null?void 0:u.schema);if(c.size===0)continue;for(const f of c)r.set(f[0],f[1])}}return r}async getAllSchemas(t){const n=await this.getSchemasForFile(t),r=Array.from(n.entries()).map(o=>({uri:o[0],fromStore:!1,usedForCurrentFile:!0,name:o[1].title,description:o[1].description,versions:o[1].versions})),i=[];let s=this.schemaService.getAllSchemas();return s=s.filter(o=>!n.has(o.uri)),i.push(...r),i.push(...s),i}}class kM{constructor(t){this.telemetry=t}getDefinition(t,n){var r;try{const i=gr.getYamlDocument(t),s=t.offsetAt(n.position),o=Zc(s,i);if(o){const[u]=o.getNodeFromPosition(s,new Us(t));if(u&&Jr(u)){const c=u.resolve(o.internalDocument);if(c&&c.range){const f=Be.create(t.positionAt(c.range[0]),t.positionAt(c.range[2])),d=Be.create(t.positionAt(c.range[0]),t.positionAt(c.range[1]));return[lc.create(t.uri,f,d)]}}}}catch(i){(r=this.telemetry)==null||r.sendError("yaml.definition.error",i)}}}function AM(e,t){const n=gr.getYamlDocument(e);return t.map(o=>{const u=r(o);let c;for(const f of u)c=Ma.create(f,c);return c??Ma.create({start:o,end:o})});function r(o){const u=e.offsetAt(o),c=[];for(const f of n.documents){let d,h;for(f.visit(y=>{const w=y.offset+y.length;if(w<u||s(w-1,w)===`
`&&w-1<u)return!0;let k=y.offset;if(k>u){const $=i(y,o);if(!$||$>u)return!0;k=$}return(!d||k>=d.offset)&&(d=y,h=k),!0});d;){const y=h??d.offset,w=d.offset+d.length,k={start:e.positionAt(y),end:e.positionAt(w)},$=e.getText(k),E=CM($),T=y+E.length;T>=u&&(k.end=e.positionAt(T));const D=(p,b)=>E.startsWith(p)&&E.endsWith(b||p);(d.type==="string"&&(D("'")||D('"'))||d.type==="object"&&D("{","}")||d.type==="array"&&D("[","]"))&&c.push({start:e.positionAt(y+1),end:e.positionAt(w-1)}),c.push(k),d=d.parent,h=void 0}if(c.length>0)break}return c.reverse()}function i(o,u){var f;const c=e.positionAt(o.offset);if(c.line===u.line){if(((f=o.parent)==null?void 0:f.type)==="array"&&s(o.offset-2,o.offset)==="- ")return o.offset-2;if(o.type==="array"||o.type==="object"){const d={line:c.line,character:0};if(e.getText({start:d,end:c}).trim().length===0)return e.offsetAt(d)}}}function s(o,u){return e.getText({start:e.positionAt(o),end:e.positionAt(u)})}}function CM(e){return e.endsWith(`\r
`)?e.substring(0,e.length-2):e.endsWith(`
`)?e.substring(0,e.length-1):e}var zm;(function(e){e[e.SchemaStore=1]="SchemaStore",e[e.SchemaAssociation=2]="SchemaAssociation",e[e.Settings=3]="Settings"})(zm||(zm={}));function OM(e){const t=new PO(e.schemaRequestService,e.workspaceContext),n=new cM(t,e.clientCapabilities,gr,e.telemetry),r=new NO(t,e.telemetry),i=new RO(t,e.telemetry),s=new WO(t,e.telemetry),o=new YI,u=new tM(e.clientCapabilities),c=new rM(t,e.telemetry),f=new GI(e.telemetry),d=new kM(e.telemetry);return new TM(t,e.yamlSettings,e.connection),{configure:h=>{t.clearExternalSchemas(),h.schemas&&(t.schemaPriorityMapping=new Map,h.schemas.forEach(y=>{const w=y.priority?y.priority:0;t.addSchemaPriority(y.uri,w),t.registerExternalSchema(y.uri,y.fileMatch,y.schema,y.name,y.description,y.versions)})),s.configure(h),r.configure(h),n.configure(h,e.yamlSettings),o.configure(h),u.configure(h)},registerCustomSchemaProvider:h=>{t.registerCustomSchemaProvider(h)},findLinks:f.findLinks.bind(f),doComplete:n.doComplete.bind(n),doValidation:s.doValidation.bind(s),doHover:r.doHover.bind(r),findDocumentSymbols:i.findDocumentSymbols.bind(i),findDocumentSymbols2:i.findHierarchicalDocumentSymbols.bind(i),doDefinition:d.getDefinition.bind(d),resetSchema:h=>t.onResourceChange(h),doFormat:o.format.bind(o),doDocumentOnTypeFormatting:nM,addSchema:(h,y)=>t.saveSchema(h,y),deleteSchema:h=>t.deleteSchema(h),modifySchemaContent:h=>t.addContent(h),deleteSchemaContent:h=>t.deleteContent(h),deleteSchemasWhole:h=>t.deleteSchemas(h),getFoldingRanges:JI,getSelectionRanges:AM,getCodeAction:(h,y)=>u.getCodeAction(h,y),getCodeLens:h=>c.getCodeLens(h),resolveCodeLens:h=>c.resolveCodeLens(h)}}const Ym=OM({async schemaRequestService(e){return(await fetch(e)).text()}}),la={},dE=self,lo=zr.createProtocolConnection(new zr.BrowserMessageReader(dE),new zr.BrowserMessageWriter(dE));async function hE(e){const t=await Ym.doValidation(la[e]);await lo.sendNotification(zr.PublishDiagnosticsNotification.type,{uri:e,diagnostics:t})}lo.onRequest(zr.InitializeRequest.type,()=>({capabilities:{textDocumentSync:zr.TextDocumentSyncKind.Incremental,completionProvider:!0,hoverProvider:!0}})),lo.onNotification(zr.DidOpenTextDocumentNotification.type,async({textDocument:{uri:e,languageId:t,version:n,text:r}})=>{la[e]=$c.create(e,t,n,r),await hE(e)}),lo.onNotification(zr.DidChangeTextDocumentNotification.type,async({textDocument:e,contentChanges:t})=>{const n=la[e.uri];n&&(la[e.uri]=$c.update(n,t,e.version+1),await hE(e.uri))}),lo.onRequest(zr.CompletionRequest.type,async({textDocument:e,position:t})=>{const n=la[e.uri];return n?Ym.doComplete(n,t):null}),lo.onRequest(zr.HoverRequest.type,async({textDocument:e,position:t})=>{const n=la[e.uri];return n?Ym.doHover(n,t):null}),lo.listen()})();
//# sourceMappingURL=yamlLSPWorker-CWDbMF7j.js.map
